<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>canvas | 2020</title>
    <meta name="description" content="welcome">
    <link rel="icon" href="/img/logo.jpg">
    
    <link rel="preload" href="/assets/css/0.styles.5ee38aac.css" as="style"><link rel="preload" href="/assets/js/app.3d372a91.js" as="script"><link rel="preload" href="/assets/js/73.79ebf212.js" as="script"><link rel="preload" href="/assets/js/8.b0af1d23.js" as="script"><link rel="prefetch" href="/assets/js/10.fa563e7c.js"><link rel="prefetch" href="/assets/js/100.42a00db3.js"><link rel="prefetch" href="/assets/js/101.d0878d92.js"><link rel="prefetch" href="/assets/js/102.2323e483.js"><link rel="prefetch" href="/assets/js/103.fded69f3.js"><link rel="prefetch" href="/assets/js/104.97959260.js"><link rel="prefetch" href="/assets/js/105.9dfb3b78.js"><link rel="prefetch" href="/assets/js/106.55af362b.js"><link rel="prefetch" href="/assets/js/107.faae24cc.js"><link rel="prefetch" href="/assets/js/108.d1e211df.js"><link rel="prefetch" href="/assets/js/109.a9f4ca5f.js"><link rel="prefetch" href="/assets/js/11.db9822d3.js"><link rel="prefetch" href="/assets/js/110.fb930110.js"><link rel="prefetch" href="/assets/js/111.c39471d5.js"><link rel="prefetch" href="/assets/js/112.345afee0.js"><link rel="prefetch" href="/assets/js/113.b8f656fd.js"><link rel="prefetch" href="/assets/js/114.66dad8a5.js"><link rel="prefetch" href="/assets/js/115.538b3754.js"><link rel="prefetch" href="/assets/js/116.bb20a975.js"><link rel="prefetch" href="/assets/js/117.836d1a31.js"><link rel="prefetch" href="/assets/js/118.269c0df8.js"><link rel="prefetch" href="/assets/js/119.2b041397.js"><link rel="prefetch" href="/assets/js/12.f6e51922.js"><link rel="prefetch" href="/assets/js/120.53d27daa.js"><link rel="prefetch" href="/assets/js/121.b92b9d86.js"><link rel="prefetch" href="/assets/js/122.4c21fb17.js"><link rel="prefetch" href="/assets/js/123.9b2f4fa3.js"><link rel="prefetch" href="/assets/js/124.642d3437.js"><link rel="prefetch" href="/assets/js/125.8e79f0ad.js"><link rel="prefetch" href="/assets/js/126.337e2025.js"><link rel="prefetch" href="/assets/js/127.5175619e.js"><link rel="prefetch" href="/assets/js/128.d26ff1e1.js"><link rel="prefetch" href="/assets/js/129.e906b876.js"><link rel="prefetch" href="/assets/js/13.ff81052b.js"><link rel="prefetch" href="/assets/js/130.e308ca9e.js"><link rel="prefetch" href="/assets/js/131.b192e939.js"><link rel="prefetch" href="/assets/js/132.6439047f.js"><link rel="prefetch" href="/assets/js/133.29a731f5.js"><link rel="prefetch" href="/assets/js/134.09047165.js"><link rel="prefetch" href="/assets/js/135.995fe067.js"><link rel="prefetch" href="/assets/js/136.e1f20bfe.js"><link rel="prefetch" href="/assets/js/137.a128608c.js"><link rel="prefetch" href="/assets/js/138.b6c80a70.js"><link rel="prefetch" href="/assets/js/139.03104466.js"><link rel="prefetch" href="/assets/js/14.5df92d45.js"><link rel="prefetch" href="/assets/js/140.7e4e2e70.js"><link rel="prefetch" href="/assets/js/141.2955227d.js"><link rel="prefetch" href="/assets/js/142.0532be5d.js"><link rel="prefetch" href="/assets/js/143.71524467.js"><link rel="prefetch" href="/assets/js/144.bafc7d67.js"><link rel="prefetch" href="/assets/js/145.f2617fcb.js"><link rel="prefetch" href="/assets/js/146.6170fb4e.js"><link rel="prefetch" href="/assets/js/147.15e0ee97.js"><link rel="prefetch" href="/assets/js/148.12265f9b.js"><link rel="prefetch" href="/assets/js/149.819faedc.js"><link rel="prefetch" href="/assets/js/15.1996231d.js"><link rel="prefetch" href="/assets/js/150.c1947e9b.js"><link rel="prefetch" href="/assets/js/151.bcae3e03.js"><link rel="prefetch" href="/assets/js/152.a7d762c3.js"><link rel="prefetch" href="/assets/js/153.8fc3e994.js"><link rel="prefetch" href="/assets/js/154.251f349d.js"><link rel="prefetch" href="/assets/js/155.20b14727.js"><link rel="prefetch" href="/assets/js/156.8ddd6e25.js"><link rel="prefetch" href="/assets/js/157.38ca95d5.js"><link rel="prefetch" href="/assets/js/158.d00cb939.js"><link rel="prefetch" href="/assets/js/159.8a10d516.js"><link rel="prefetch" href="/assets/js/16.fca36250.js"><link rel="prefetch" href="/assets/js/160.d05a964f.js"><link rel="prefetch" href="/assets/js/161.1a65cabc.js"><link rel="prefetch" href="/assets/js/162.9115b6da.js"><link rel="prefetch" href="/assets/js/163.ffa59571.js"><link rel="prefetch" href="/assets/js/164.df17fbe9.js"><link rel="prefetch" href="/assets/js/165.c93fb144.js"><link rel="prefetch" href="/assets/js/166.115a9da5.js"><link rel="prefetch" href="/assets/js/167.e6033977.js"><link rel="prefetch" href="/assets/js/168.1318a395.js"><link rel="prefetch" href="/assets/js/169.eda860c1.js"><link rel="prefetch" href="/assets/js/17.c4912235.js"><link rel="prefetch" href="/assets/js/170.0faabb3d.js"><link rel="prefetch" href="/assets/js/171.cfd55d6c.js"><link rel="prefetch" href="/assets/js/172.b97166da.js"><link rel="prefetch" href="/assets/js/173.f146c113.js"><link rel="prefetch" href="/assets/js/174.9724584f.js"><link rel="prefetch" href="/assets/js/175.e4862953.js"><link rel="prefetch" href="/assets/js/176.c599a17c.js"><link rel="prefetch" href="/assets/js/177.48129151.js"><link rel="prefetch" href="/assets/js/178.84d44246.js"><link rel="prefetch" href="/assets/js/179.e32ecfdf.js"><link rel="prefetch" href="/assets/js/18.c4aecc6a.js"><link rel="prefetch" href="/assets/js/180.578dda5b.js"><link rel="prefetch" href="/assets/js/181.408b0755.js"><link rel="prefetch" href="/assets/js/182.9e993b0c.js"><link rel="prefetch" href="/assets/js/183.c10c357a.js"><link rel="prefetch" href="/assets/js/184.d325562e.js"><link rel="prefetch" href="/assets/js/185.372ea0a2.js"><link rel="prefetch" href="/assets/js/186.c6ff2756.js"><link rel="prefetch" href="/assets/js/187.2d08218f.js"><link rel="prefetch" href="/assets/js/188.7b0f16fb.js"><link rel="prefetch" href="/assets/js/189.5e3ad0de.js"><link rel="prefetch" href="/assets/js/19.14b4cfab.js"><link rel="prefetch" href="/assets/js/190.6ad934de.js"><link rel="prefetch" href="/assets/js/191.0acdc2e6.js"><link rel="prefetch" href="/assets/js/192.2568b75b.js"><link rel="prefetch" href="/assets/js/193.6836dcb8.js"><link rel="prefetch" href="/assets/js/194.da9722cb.js"><link rel="prefetch" href="/assets/js/195.840b8f0b.js"><link rel="prefetch" href="/assets/js/196.f38460cf.js"><link rel="prefetch" href="/assets/js/197.eb5a6907.js"><link rel="prefetch" href="/assets/js/198.f2842854.js"><link rel="prefetch" href="/assets/js/199.b2f5a614.js"><link rel="prefetch" href="/assets/js/2.8d8ea25f.js"><link rel="prefetch" href="/assets/js/20.c2406ff1.js"><link rel="prefetch" href="/assets/js/200.5a39cbf2.js"><link rel="prefetch" href="/assets/js/201.2af5d213.js"><link rel="prefetch" href="/assets/js/202.9ff010ab.js"><link rel="prefetch" href="/assets/js/203.e2de594d.js"><link rel="prefetch" href="/assets/js/204.fdc33c4f.js"><link rel="prefetch" href="/assets/js/205.74224735.js"><link rel="prefetch" href="/assets/js/206.a797f4f3.js"><link rel="prefetch" href="/assets/js/207.d1f20392.js"><link rel="prefetch" href="/assets/js/208.e66009e1.js"><link rel="prefetch" href="/assets/js/209.83aa8235.js"><link rel="prefetch" href="/assets/js/21.75c17ca1.js"><link rel="prefetch" href="/assets/js/210.1b4f65fb.js"><link rel="prefetch" href="/assets/js/211.70b5e024.js"><link rel="prefetch" href="/assets/js/212.574a131a.js"><link rel="prefetch" href="/assets/js/213.d58b2b18.js"><link rel="prefetch" href="/assets/js/214.dc3318f3.js"><link rel="prefetch" href="/assets/js/215.7ec220fe.js"><link rel="prefetch" href="/assets/js/216.54eb0c95.js"><link rel="prefetch" href="/assets/js/217.f0b483de.js"><link rel="prefetch" href="/assets/js/218.10fb97ec.js"><link rel="prefetch" href="/assets/js/219.348ed28d.js"><link rel="prefetch" href="/assets/js/22.6d24d844.js"><link rel="prefetch" href="/assets/js/220.6fded30d.js"><link rel="prefetch" href="/assets/js/221.5138666e.js"><link rel="prefetch" href="/assets/js/222.cb5cbbc8.js"><link rel="prefetch" href="/assets/js/223.c0c57b4d.js"><link rel="prefetch" href="/assets/js/224.f2fc9e1c.js"><link rel="prefetch" href="/assets/js/225.af68033d.js"><link rel="prefetch" href="/assets/js/226.1ba3540a.js"><link rel="prefetch" href="/assets/js/227.a8a22513.js"><link rel="prefetch" href="/assets/js/228.83f82963.js"><link rel="prefetch" href="/assets/js/229.9180907b.js"><link rel="prefetch" href="/assets/js/23.8cd16b5d.js"><link rel="prefetch" href="/assets/js/230.b72c7179.js"><link rel="prefetch" href="/assets/js/231.b51ce603.js"><link rel="prefetch" href="/assets/js/232.ebf725e3.js"><link rel="prefetch" href="/assets/js/233.e4e06b46.js"><link rel="prefetch" href="/assets/js/234.3b63e85c.js"><link rel="prefetch" href="/assets/js/235.dfbc5c48.js"><link rel="prefetch" href="/assets/js/236.fdc266c3.js"><link rel="prefetch" href="/assets/js/237.2b2b5384.js"><link rel="prefetch" href="/assets/js/238.a852b2c7.js"><link rel="prefetch" href="/assets/js/239.9ec1b960.js"><link rel="prefetch" href="/assets/js/24.58c78d20.js"><link rel="prefetch" href="/assets/js/240.ec208fea.js"><link rel="prefetch" href="/assets/js/241.b2064b25.js"><link rel="prefetch" href="/assets/js/242.87190c68.js"><link rel="prefetch" href="/assets/js/243.daa06ee2.js"><link rel="prefetch" href="/assets/js/244.a06fb668.js"><link rel="prefetch" href="/assets/js/245.98b32e3b.js"><link rel="prefetch" href="/assets/js/246.03d13608.js"><link rel="prefetch" href="/assets/js/247.dc45f274.js"><link rel="prefetch" href="/assets/js/248.d1370a00.js"><link rel="prefetch" href="/assets/js/249.322b33fd.js"><link rel="prefetch" href="/assets/js/25.7efe728c.js"><link rel="prefetch" href="/assets/js/250.29bf45ab.js"><link rel="prefetch" href="/assets/js/251.0bb588df.js"><link rel="prefetch" href="/assets/js/252.46235f4a.js"><link rel="prefetch" href="/assets/js/253.01490fd5.js"><link rel="prefetch" href="/assets/js/254.cbade148.js"><link rel="prefetch" href="/assets/js/255.7e26e745.js"><link rel="prefetch" href="/assets/js/256.73106bf1.js"><link rel="prefetch" href="/assets/js/257.7594a94f.js"><link rel="prefetch" href="/assets/js/258.1a49e60f.js"><link rel="prefetch" href="/assets/js/26.a7574a4a.js"><link rel="prefetch" href="/assets/js/27.1c984aba.js"><link rel="prefetch" href="/assets/js/28.2cc9c057.js"><link rel="prefetch" href="/assets/js/29.221900d7.js"><link rel="prefetch" href="/assets/js/3.dfc29a64.js"><link rel="prefetch" href="/assets/js/30.c45d3216.js"><link rel="prefetch" href="/assets/js/31.8404f392.js"><link rel="prefetch" href="/assets/js/32.12f85ede.js"><link rel="prefetch" href="/assets/js/33.c5ee6ad5.js"><link rel="prefetch" href="/assets/js/34.62f3ca7b.js"><link rel="prefetch" href="/assets/js/35.816def36.js"><link rel="prefetch" href="/assets/js/36.0e26cb61.js"><link rel="prefetch" href="/assets/js/37.16bb5e63.js"><link rel="prefetch" href="/assets/js/38.632f0ebb.js"><link rel="prefetch" href="/assets/js/39.6cf72019.js"><link rel="prefetch" href="/assets/js/4.62bbb379.js"><link rel="prefetch" href="/assets/js/40.db33d245.js"><link rel="prefetch" href="/assets/js/41.0735788b.js"><link rel="prefetch" href="/assets/js/42.255908de.js"><link rel="prefetch" href="/assets/js/43.4db107de.js"><link rel="prefetch" href="/assets/js/44.d854ccd1.js"><link rel="prefetch" href="/assets/js/45.32af6ad0.js"><link rel="prefetch" href="/assets/js/46.93ccdd4d.js"><link rel="prefetch" href="/assets/js/47.21af8a94.js"><link rel="prefetch" href="/assets/js/48.11f88c72.js"><link rel="prefetch" href="/assets/js/49.34c1167c.js"><link rel="prefetch" href="/assets/js/5.61328aab.js"><link rel="prefetch" href="/assets/js/50.114c076b.js"><link rel="prefetch" href="/assets/js/51.53a8f446.js"><link rel="prefetch" href="/assets/js/52.02b602eb.js"><link rel="prefetch" href="/assets/js/53.343c4b29.js"><link rel="prefetch" href="/assets/js/54.844d5572.js"><link rel="prefetch" href="/assets/js/55.5562a154.js"><link rel="prefetch" href="/assets/js/56.b932c90b.js"><link rel="prefetch" href="/assets/js/57.57812a42.js"><link rel="prefetch" href="/assets/js/58.883dbdce.js"><link rel="prefetch" href="/assets/js/59.060feeb8.js"><link rel="prefetch" href="/assets/js/6.62f18089.js"><link rel="prefetch" href="/assets/js/60.2ac73f35.js"><link rel="prefetch" href="/assets/js/61.c4231c82.js"><link rel="prefetch" href="/assets/js/62.b5bb2299.js"><link rel="prefetch" href="/assets/js/63.9b757cc5.js"><link rel="prefetch" href="/assets/js/64.4337f26c.js"><link rel="prefetch" href="/assets/js/65.f637e4f7.js"><link rel="prefetch" href="/assets/js/66.f39b2848.js"><link rel="prefetch" href="/assets/js/67.c3b7a5b7.js"><link rel="prefetch" href="/assets/js/68.390e21a2.js"><link rel="prefetch" href="/assets/js/69.941b9cb1.js"><link rel="prefetch" href="/assets/js/7.a71cc234.js"><link rel="prefetch" href="/assets/js/70.778ed68d.js"><link rel="prefetch" href="/assets/js/71.ff5b666d.js"><link rel="prefetch" href="/assets/js/72.f80a6616.js"><link rel="prefetch" href="/assets/js/74.c5352623.js"><link rel="prefetch" href="/assets/js/75.a8f58613.js"><link rel="prefetch" href="/assets/js/76.8265e34c.js"><link rel="prefetch" href="/assets/js/77.579a292c.js"><link rel="prefetch" href="/assets/js/78.15975150.js"><link rel="prefetch" href="/assets/js/79.005933b5.js"><link rel="prefetch" href="/assets/js/80.d5e408d5.js"><link rel="prefetch" href="/assets/js/81.6c55c70f.js"><link rel="prefetch" href="/assets/js/82.0308df9d.js"><link rel="prefetch" href="/assets/js/83.96dc3a2a.js"><link rel="prefetch" href="/assets/js/84.0053339a.js"><link rel="prefetch" href="/assets/js/85.63f50907.js"><link rel="prefetch" href="/assets/js/86.a44011ae.js"><link rel="prefetch" href="/assets/js/87.5b83120d.js"><link rel="prefetch" href="/assets/js/88.32009ae7.js"><link rel="prefetch" href="/assets/js/89.5d9de2d5.js"><link rel="prefetch" href="/assets/js/9.7232e6ef.js"><link rel="prefetch" href="/assets/js/90.06b6e1be.js"><link rel="prefetch" href="/assets/js/91.8e09a4ad.js"><link rel="prefetch" href="/assets/js/92.d347b8d8.js"><link rel="prefetch" href="/assets/js/93.64bf397d.js"><link rel="prefetch" href="/assets/js/94.0971af77.js"><link rel="prefetch" href="/assets/js/95.3642871c.js"><link rel="prefetch" href="/assets/js/96.7df03ca5.js"><link rel="prefetch" href="/assets/js/97.f1867db2.js"><link rel="prefetch" href="/assets/js/98.afdd80cd.js"><link rel="prefetch" href="/assets/js/99.d7c170c2.js">
    <link rel="stylesheet" href="/assets/css/0.styles.5ee38aac.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">2020</span></a> <div class="links" style="max-width:nullpx;"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link">首页</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">前端</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/ajax/" class="nav-link">ajax</a></li><li class="dropdown-item"><!----> <a href="/basic/" class="nav-link">basic</a></li><li class="dropdown-item"><!----> <a href="/canvas/" class="nav-link router-link-active">canvas</a></li><li class="dropdown-item"><!----> <a href="/chart/" class="nav-link">chart</a></li><li class="dropdown-item"><!----> <a href="/css/" class="nav-link">css</a></li><li class="dropdown-item"><!----> <a href="/es6/" class="nav-link">es6</a></li><li class="dropdown-item"><!----> <a href="/everyday/" class="nav-link">everyday</a></li><li class="dropdown-item"><!----> <a href="/fast/" class="nav-link">fast</a></li><li class="dropdown-item"><!----> <a href="/htmlcss/" class="nav-link">htmlcss</a></li><li class="dropdown-item"><!----> <a href="/jsstore/" class="nav-link">jsstore</a></li><li class="dropdown-item"><!----> <a href="/plugin/" class="nav-link">plugin</a></li><li class="dropdown-item"><!----> <a href="/react/" class="nav-link">react</a></li><li class="dropdown-item"><!----> <a href="/test/" class="nav-link">test</a></li><li class="dropdown-item"><!----> <a href="/typescript/" class="nav-link">Typescript</a></li><li class="dropdown-item"><!----> <a href="/ui/" class="nav-link">ui</a></li><li class="dropdown-item"><!----> <a href="/vue/" class="nav-link">vue</a></li><li class="dropdown-item"><!----> <a href="/webdb/" class="nav-link">webdb</a></li><li class="dropdown-item"><!----> <a href="/webpack/" class="nav-link">webpack</a></li><li class="dropdown-item"><!----> <a href="/webrtc/" class="nav-link">webrtc</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">后端</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/node/" class="nav-link">node</a></li><li class="dropdown-item"><!----> <a href="/koa/" class="nav-link">koa</a></li><li class="dropdown-item"><!----> <a href="/mongo/" class="nav-link">mongo</a></li><li class="dropdown-item"><!----> <a href="/mysql/" class="nav-link">mysql</a></li><li class="dropdown-item"><!----> <a href="/http/" class="nav-link">http</a></li><li class="dropdown-item"><!----> <a href="/other/" class="nav-link">other</a></li><li class="dropdown-item"><!----> <a href="/python/" class="nav-link">python</a></li><li class="dropdown-item"><!----> <a href="/mk/" class="nav-link">mk</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">其他</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/reactnative/" class="nav-link">reactnative</a></li><li class="dropdown-item"><!----> <a href="/book/" class="nav-link">book</a></li><li class="dropdown-item"><!----> <a href="/confusing/" class="nav-link">confusing</a></li><li class="dropdown-item"><!----> <a href="/project/" class="nav-link">project</a></li><li class="dropdown-item"><!----> <a href="/tool/" class="nav-link">tool</a></li><li class="dropdown-item"><!----> <a href="/increase/" class="nav-link">increase</a></li><li class="dropdown-item"><!----> <a href="https://github.com/weishell/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  github
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul></div></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <div class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link">首页</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">前端</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/ajax/" class="nav-link">ajax</a></li><li class="dropdown-item"><!----> <a href="/basic/" class="nav-link">basic</a></li><li class="dropdown-item"><!----> <a href="/canvas/" class="nav-link router-link-active">canvas</a></li><li class="dropdown-item"><!----> <a href="/chart/" class="nav-link">chart</a></li><li class="dropdown-item"><!----> <a href="/css/" class="nav-link">css</a></li><li class="dropdown-item"><!----> <a href="/es6/" class="nav-link">es6</a></li><li class="dropdown-item"><!----> <a href="/everyday/" class="nav-link">everyday</a></li><li class="dropdown-item"><!----> <a href="/fast/" class="nav-link">fast</a></li><li class="dropdown-item"><!----> <a href="/htmlcss/" class="nav-link">htmlcss</a></li><li class="dropdown-item"><!----> <a href="/jsstore/" class="nav-link">jsstore</a></li><li class="dropdown-item"><!----> <a href="/plugin/" class="nav-link">plugin</a></li><li class="dropdown-item"><!----> <a href="/react/" class="nav-link">react</a></li><li class="dropdown-item"><!----> <a href="/test/" class="nav-link">test</a></li><li class="dropdown-item"><!----> <a href="/typescript/" class="nav-link">Typescript</a></li><li class="dropdown-item"><!----> <a href="/ui/" class="nav-link">ui</a></li><li class="dropdown-item"><!----> <a href="/vue/" class="nav-link">vue</a></li><li class="dropdown-item"><!----> <a href="/webdb/" class="nav-link">webdb</a></li><li class="dropdown-item"><!----> <a href="/webpack/" class="nav-link">webpack</a></li><li class="dropdown-item"><!----> <a href="/webrtc/" class="nav-link">webrtc</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">后端</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/node/" class="nav-link">node</a></li><li class="dropdown-item"><!----> <a href="/koa/" class="nav-link">koa</a></li><li class="dropdown-item"><!----> <a href="/mongo/" class="nav-link">mongo</a></li><li class="dropdown-item"><!----> <a href="/mysql/" class="nav-link">mysql</a></li><li class="dropdown-item"><!----> <a href="/http/" class="nav-link">http</a></li><li class="dropdown-item"><!----> <a href="/other/" class="nav-link">other</a></li><li class="dropdown-item"><!----> <a href="/python/" class="nav-link">python</a></li><li class="dropdown-item"><!----> <a href="/mk/" class="nav-link">mk</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">其他</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/reactnative/" class="nav-link">reactnative</a></li><li class="dropdown-item"><!----> <a href="/book/" class="nav-link">book</a></li><li class="dropdown-item"><!----> <a href="/confusing/" class="nav-link">confusing</a></li><li class="dropdown-item"><!----> <a href="/project/" class="nav-link">project</a></li><li class="dropdown-item"><!----> <a href="/tool/" class="nav-link">tool</a></li><li class="dropdown-item"><!----> <a href="/increase/" class="nav-link">increase</a></li><li class="dropdown-item"><!----> <a href="https://github.com/weishell/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  github
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul></div></div> <!----></nav>  <ul class="sidebar-links"><li><a href="/canvas/" class="sidebar-link"> canvas</a></li><li><a href="/canvas/001canvas.html" class="active sidebar-link"> canvas开始</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/canvas/001canvas.html#canvas" class="sidebar-link">canvas</a></li><li class="sidebar-sub-header"><a href="/canvas/001canvas.html#svg-和-canvas-的区别" class="sidebar-link">svg 和 Canvas 的区别</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/canvas/001canvas.html#什么是-svg" class="sidebar-link">什么是 svg</a></li><li class="sidebar-sub-header"><a href="/canvas/001canvas.html#canvas-和-svg-的区别" class="sidebar-link">Canvas 和 svg 的区别</a></li><li class="sidebar-sub-header"><a href="/canvas/001canvas.html#创建-canvas-画布" class="sidebar-link">创建 Canvas 画布</a></li><li class="sidebar-sub-header"><a href="/canvas/001canvas.html#获取-canvas-对象" class="sidebar-link">获取 Canvas 对象</a></li></ul></li><li class="sidebar-sub-header"><a href="/canvas/001canvas.html#绘制路径" class="sidebar-link">绘制路径</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/canvas/001canvas.html#颜色、样式和阴影" class="sidebar-link">颜色、样式和阴影</a></li></ul></li><li class="sidebar-sub-header"><a href="/canvas/001canvas.html#图形转换" class="sidebar-link">图形转换</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/canvas/001canvas.html#图像绘制" class="sidebar-link">图像绘制</a></li></ul></li><li class="sidebar-sub-header"><a href="/canvas/001canvas.html#源码" class="sidebar-link">源码</a></li></ul></li><li><a href="/canvas/002canvastexiao.html" class="sidebar-link"> canvas特效</a></li><li><a href="/canvas/003canvasyourself.html" class="sidebar-link"> canvas互动</a></li><li><a href="/canvas/004pixi.html" class="sidebar-link"> pixi</a></li></ul> </div> <div class="page"> <div class="content"><h2 id="canvas"><a href="#canvas" aria-hidden="true" class="header-anchor">#</a> canvas</h2> <p>&lt;canvas&gt; 是 HTML5 新增的元素，可用于通过使用 JavaScript 中的脚本来绘制图形。例如，它可以用于绘制图形、制作照片、创建动画，甚至可以进行实时视频处理或渲染。</p> <h4 id="一句话总结-canvas-是什么"><a href="#一句话总结-canvas-是什么" aria-hidden="true" class="header-anchor">#</a> 一句话总结 Canvas 是什么</h4> <p>Canvas 是为了解决 Web 页面中只能显示静态图片这个问题而提出的，一个可以使用 JavaScript 等脚本语言向其中绘制图像的 HTML 标签。</p> <h4 id="怎么在网页上画一个圆"><a href="#怎么在网页上画一个圆" aria-hidden="true" class="header-anchor">#</a> 怎么在网页上画一个圆</h4> <ul><li>直接使用图片，如果需求只是显示一个圆形，那么可以直接使用图片。</li> <li>使用 div + CSS3 的 <code>border</code> + <code>border-radius</code> 模拟一个圆。</li> <li>使用 svg。</li> <li>Canvas + JavaScript 动态画一个圆。</li></ul> <p>那么我们来分析一下以上几种方式的优劣性：</p> <ul><li><strong>使用图片</strong>可以说是以上几种方式中排名倒数第一的了，因为直接使用图片首先会增加一次请求（制作成精灵图另说），其次是不易更改，如果想换一种颜色就需要更换图片，代价太大。</li> <li><strong>使用 div + CSS3</strong> 的方式适用于单个的圆，实现起来比较简单，代价也比较小，但增加了一个没有意义的 DOM 节点，不符合语义化编程规范。</li> <li><strong>使用 svg 和 Canvas</strong> 都可以使用脚本语言来动态写入一个圆。</li></ul> <p>那么，使用 svg 和 Canvas 又有什么区别呢？</p> <h2 id="svg-和-canvas-的区别"><a href="#svg-和-canvas-的区别" aria-hidden="true" class="header-anchor">#</a> svg 和 Canvas 的区别</h2> <h3 id="什么是-svg"><a href="#什么是-svg" aria-hidden="true" class="header-anchor">#</a> 什么是 svg</h3> <p>刚刚我们介绍了 Canvas，那么什么是 svg 呢？</p> <blockquote><p>svg（Scalable Vector Graphics，可缩放矢量图形）是基于 XML（可扩展标记语言，标准通用标记语言的子集），用于描述二维矢量图形的一种图形格式。</p></blockquote> <p>简单的说就是，<strong>svg 可以用来定义 XML 格式的矢量图形</strong>。</p> <p>因为其本质是 XML 文件，所以 svg 是使用 XML 文档描述来绘图的。和 HTML 一样，如果我们需要修改 svg 文件，可以直接使用记事本打开修改。</p> <h3 id="canvas-和-svg-的区别"><a href="#canvas-和-svg-的区别" aria-hidden="true" class="header-anchor">#</a> Canvas 和 svg 的区别</h3> <p>就如刚刚介绍的那样，<strong>svg 本质上是一种使用 XML 描述 2D 图形的语言</strong>。</p> <p>svg 创建的每一个元素都是一个独立的 DOM 元素，既然是独立的 DOM 元素，那么我们就可以通过 css 和 JavaScript 来操控 dom。可以对每一个 DOM 元素进行监听。</p> <p>并且因为每一个元素都是一个 DOM 元素，所以修改 svg 中的 DOM 元素，系统会自动进行 DOM 重绘。</p> <p><strong>Canvas 通过 JavaScript 来绘制 2D 图形</strong>，Canvas 只是一个 HTML 元素，其中的图形不会单独创建 DOM 元素。因此我们不能通过 JavaScript 操控 Canvas 内单独的图形，不能对其中的具体图形进行监控。</p> <p>在 Canvas 中，一旦图形被绘制完成，它就不会继续得到浏览器的关注。如果其位置发生变化，那么整个场景也需要重新绘制，包括任何或许已被图形覆盖的对象。</p> <h3 id="创建-canvas-画布"><a href="#创建-canvas-画布" aria-hidden="true" class="header-anchor">#</a> 创建 Canvas 画布</h3> <p>当我只在页面上写一个 Canvas 标签时，将其背景颜色设置为黑色，会是什么效果呢？</p> <div class="language-html extra-class"><pre class="language-html"><code><span class="token doctype">&lt;!DOCTYPE html&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>en<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">charset</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>UTF-8<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>title</span><span class="token punctuation">&gt;</span></span>Title<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>title</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span><span class="token punctuation">&gt;</span></span><span class="token style language-css">
        <span class="token selector">#canvas</span> <span class="token punctuation">{</span>
            <span class="token property">background</span><span class="token punctuation">:</span> #000<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>canvas</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>canvas<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>canvas</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">&gt;</span></span>

</code></pre></div><p>在上面的例子中页面上只有一个 Canvas，没有设置宽高，那么会自动创建一个 300 * 150 的画布（单位默认为 <code>px</code>）。</p> <p>怎么改变画布的大小呢，有三种方式</p> <ul><li>HTML 设置 <code>width</code>、<code>height</code>；</li> <li>CSS 设置 <code>width</code>、<code>height</code>；</li> <li>JS 动态设置 <code>width</code>、<code>height</code>。</li></ul> <h4 id="html-属性设置-width、height"><a href="#html-属性设置-width、height" aria-hidden="true" class="header-anchor">#</a> HTML 属性设置 width、height</h4> <p>我们先来看一下直接使用 HTML 属性来设置 <code>width</code>、<code>height</code>：</p> <div class="language-HTML extra-class"><pre class="language-html"><code><span class="token doctype">&lt;!DOCTYPE html&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>en<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">charset</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>UTF-8<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>title</span><span class="token punctuation">&gt;</span></span>Title<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>title</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span><span class="token punctuation">&gt;</span></span><span class="token style language-css">
        <span class="token selector">#canvas</span> <span class="token punctuation">{</span>
            <span class="token property">background</span><span class="token punctuation">:</span> <span class="token function">rgb</span><span class="token punctuation">(</span>220,50,100<span class="token punctuation">)</span> 
        <span class="token punctuation">}</span>
    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>canvas</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>canvas<span class="token punctuation">&quot;</span></span> <span class="token attr-name">width</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>400<span class="token punctuation">&quot;</span></span> <span class="token attr-name">height</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>400<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>canvas</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script language-javascript">
    <span class="token keyword">var</span> canvas <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">&quot;canvas&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">var</span> context <span class="token operator">=</span> canvas<span class="token punctuation">.</span><span class="token function">getContext</span><span class="token punctuation">(</span><span class="token string">&quot;2d&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    context<span class="token punctuation">.</span><span class="token function">beginPath</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    context<span class="token punctuation">.</span><span class="token function">arc</span><span class="token punctuation">(</span><span class="token number">150</span><span class="token punctuation">,</span> <span class="token number">150</span><span class="token punctuation">,</span> <span class="token number">50</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> Math<span class="token punctuation">.</span><span class="token constant">PI</span> <span class="token operator">*</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    context<span class="token punctuation">.</span><span class="token function">closePath</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    context<span class="token punctuation">.</span>fillStyle <span class="token operator">=</span> <span class="token string">'rgb(255,255,255)'</span><span class="token punctuation">;</span>
    context<span class="token punctuation">.</span><span class="token function">fill</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">&gt;</span></span>

</code></pre></div><img src="/beifen/007canvas.jpg"> <p>Canvas 画布的宽度为 400，高度为 400，背景颜色为红色。在 Canvas 上画了一个圆心坐标为 150px、150px，半径为 50px 的白色的圆。来看一下浏览器中的显示效果：</p> <h4 id="css-属性设置-width、height"><a href="#css-属性设置-width、height" aria-hidden="true" class="header-anchor">#</a> CSS 属性设置 width、height</h4> <p>还是上面那个例子，这次我们将宽度和高度使用 CSS 来设置：</p> <div class="language-HTML extra-class"><pre class="language-html"><code><span class="token doctype">&lt;!DOCTYPE html&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>en<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">charset</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>UTF-8<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>title</span><span class="token punctuation">&gt;</span></span>Title<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>title</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span><span class="token punctuation">&gt;</span></span><span class="token style language-css">
        <span class="token selector">#canvas</span> <span class="token punctuation">{</span>
            <span class="token property">background</span><span class="token punctuation">:</span> <span class="token function">rgb</span><span class="token punctuation">(</span>220,50,100<span class="token punctuation">)</span> <span class="token punctuation">;</span>
            <span class="token property">width</span><span class="token punctuation">:</span> 400px<span class="token punctuation">;</span>
            <span class="token property">height</span><span class="token punctuation">:</span> 400px<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>canvas</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>canvas<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>canvas</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script language-javascript">
    <span class="token keyword">var</span> canvas <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">&quot;canvas&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">var</span> context <span class="token operator">=</span> canvas<span class="token punctuation">.</span><span class="token function">getContext</span><span class="token punctuation">(</span><span class="token string">&quot;2d&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    context<span class="token punctuation">.</span><span class="token function">beginPath</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    context<span class="token punctuation">.</span><span class="token function">arc</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">50</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> Math<span class="token punctuation">.</span><span class="token constant">PI</span> <span class="token operator">*</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    context<span class="token punctuation">.</span><span class="token function">closePath</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    context<span class="token punctuation">.</span>fillStyle <span class="token operator">=</span> <span class="token string">'rgb(255,255,255)'</span><span class="token punctuation">;</span>
    context<span class="token punctuation">.</span><span class="token function">fill</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">&gt;</span></span>

</code></pre></div><img src="/beifen/008canvas.jpg"> <p>ヽ(；´Д｀)ﾉ，怎么会是这个样子，明明是要画一个圆啊，怎么变成椭圆了？</p> <p>原来是因为如果使用 CSS 来设置宽高的话，画布就会按照 <code>300 * 150</code> 的比例进行缩放，也就是将 <code>300 * 150</code> 的页面显示在 <code>400 * 400</code> 的容器中。</p> <h4 id="js-属性设置-width、height"><a href="#js-属性设置-width、height" aria-hidden="true" class="header-anchor">#</a> JS 属性设置 width、height</h4> <div class="language-HTML extra-class"><pre class="language-html"><code><span class="token doctype">&lt;!DOCTYPE html&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>en<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">charset</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>UTF-8<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>title</span><span class="token punctuation">&gt;</span></span>Title<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>title</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span><span class="token punctuation">&gt;</span></span><span class="token style language-css">
        <span class="token selector">#canvas</span> <span class="token punctuation">{</span>
            <span class="token property">background</span><span class="token punctuation">:</span> <span class="token function">rgb</span><span class="token punctuation">(</span>220,50,100<span class="token punctuation">)</span> <span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>canvas</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>canvas<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>canvas</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script language-javascript">
    <span class="token keyword">var</span> canvas <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">&quot;canvas&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">var</span> context <span class="token operator">=</span> canvas<span class="token punctuation">.</span><span class="token function">getContext</span><span class="token punctuation">(</span><span class="token string">&quot;2d&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">var</span> cx <span class="token operator">=</span> canvas<span class="token punctuation">.</span>width <span class="token operator">=</span> <span class="token number">400</span><span class="token punctuation">;</span>
    <span class="token keyword">var</span> cy <span class="token operator">=</span> canvas<span class="token punctuation">.</span>height <span class="token operator">=</span> <span class="token number">400</span><span class="token punctuation">;</span>

    context<span class="token punctuation">.</span><span class="token function">beginPath</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    context<span class="token punctuation">.</span><span class="token function">arc</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">50</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> Math<span class="token punctuation">.</span><span class="token constant">PI</span> <span class="token operator">*</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    context<span class="token punctuation">.</span><span class="token function">closePath</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    context<span class="token punctuation">.</span>fillStyle <span class="token operator">=</span> <span class="token string">'rgb(255,255,255)'</span><span class="token punctuation">;</span>
    context<span class="token punctuation">.</span><span class="token function">fill</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">&gt;</span></span>

</code></pre></div><p>和图一一致</p> <p>这样就是正常的嘛</p> <p>所以尽量使用 HTML 的<code>width</code> 和 <code>height</code> 属性或者直接使用 JS 动态来设置宽高，不要使用 CSS 设置。</p> <h3 id="获取-canvas-对象"><a href="#获取-canvas-对象" aria-hidden="true" class="header-anchor">#</a> 获取 Canvas 对象</h3> <p>在前面的例子中，我们已经创建了一个 Canvas 画布，那么第二步要做的就是获取到 Canvas 的上下文环境，对应的语法为： <code>canvas.getContext(contextType, contextAttributes);</code></p> <ul><li>上下文类型（contextType）：
<ul><li>2d（本小册所有的示例都是 2d 的）：代表一个二维渲染上下文</li> <li>webgl（或&quot;experimental-webgl&quot;）：代表一个三维渲染上下文</li> <li>webgl2（或&quot;experimental-webgl2&quot;）：代表一个三维渲染上下文；这种情况下只能在浏览器中实现 WebGL 版本2 (OpenGL ES 3.0)。</li></ul></li></ul> <p>第二个参数并不是经常用到~</p> <p>通常在创建好一个 Canvas 标签的时候，我们要做的第一步就是要先获取到这个 Canvas 的上下文对象：</p> <div class="language-JS extra-class"><pre class="language-js"><code>    <span class="token keyword">var</span> canvas <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">&quot;canvas&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">var</span> context <span class="token operator">=</span> canvas<span class="token punctuation">.</span><span class="token function">getContext</span><span class="token punctuation">(</span><span class="token string">&quot;2d&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

</code></pre></div><h2 id="绘制路径"><a href="#绘制路径" aria-hidden="true" class="header-anchor">#</a> 绘制路径</h2> <p>使用过 PS 的应该都会知道在 PS 中有路径的概念，在 Canvas 中也有路径的概念。只不过和 PS 中的路径不同的是，PS 中的路径是矢量的，而 Canvas 中的路径不是。下面我们来看一下有哪些创建路径的方法：</p> <table><thead><tr><th>方法</th> <th>描述</th></tr></thead> <tbody><tr><td><code>fill()</code></td> <td>填充路径</td></tr> <tr><td><code>stroke()</code></td> <td>描边</td></tr> <tr><td><code>arc()</code></td> <td>创建圆弧</td></tr> <tr><td><code>rect()</code></td> <td>创建矩形</td></tr> <tr><td><code>fillRect()</code></td> <td>绘制矩形路径区域</td></tr> <tr><td><code>strokeRect()</code></td> <td>绘制矩形路径描边</td></tr> <tr><td><code>clearRect()</code></td> <td>在给定的矩形内清除指定的像素</td></tr> <tr><td><code>arcTo()</code></td> <td>创建两切线之间的弧/曲线</td></tr> <tr><td><code>beginPath()</code></td> <td>起始一条路径，或重置当前路径</td></tr> <tr><td><code>moveTo()</code></td> <td>把路径移动到画布中的指定点，不创建线条</td></tr> <tr><td><code>lineTo()</code></td> <td>添加一个新点，然后在画布中创建从该点到最后指定点的线条</td></tr> <tr><td><code>closePath()</code></td> <td>创建从当前点回到起始点的路径</td></tr> <tr><td><code>clip()</code></td> <td>从原始画布剪切任意形状和尺寸的区域</td></tr> <tr><td><code>quadraticCurveTo()</code></td> <td>创建二次方贝塞尔曲线</td></tr> <tr><td><code>bezierCurveTo()</code></td> <td>创建三次方贝塞尔曲线</td></tr> <tr><td><code>isPointInPath()</code></td> <td>如果指定的点位于当前路径中，则返回 true，否则返回 false</td></tr></tbody></table> <h4 id="使用-canvas-画一个点"><a href="#使用-canvas-画一个点" aria-hidden="true" class="header-anchor">#</a> 使用 Canvas 画一个点</h4> <div class="language-js extra-class"><pre class="language-js"><code>context<span class="token punctuation">.</span><span class="token function">beginPath</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>       <span class="token comment">// 起始一条路径，或重置当前路径</span>
context<span class="token punctuation">.</span><span class="token function">arc</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> Math<span class="token punctuation">.</span><span class="token constant">PI</span> <span class="token operator">*</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// 创建弧/曲线</span>
context<span class="token punctuation">.</span><span class="token function">closePath</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>       <span class="token comment">// 创建从当前点回到起始点的路径</span>
context<span class="token punctuation">.</span>fillStyle <span class="token operator">=</span> <span class="token string">'rgb(255,255,255)'</span><span class="token punctuation">;</span> <span class="token comment">// 设置或返回用于填充绘画的颜色、渐变或模式</span>
context<span class="token punctuation">.</span><span class="token function">fill</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token comment">// 填充当前绘图（路径）</span>

</code></pre></div><p>使用 Canvas 绘制图像的步骤：</p> <img src="/beifen/009.png"> <h4 id="绘制弧-曲线"><a href="#绘制弧-曲线" aria-hidden="true" class="header-anchor">#</a> 绘制弧/曲线</h4> <p><code>arc()</code> 方法创建弧/曲线（用于创建圆或部分圆）。</p> <div class="language- extra-class"><pre class="language-text"><code>context.arc(x,y,r,sAngle,eAngle,counterclockwise);

</code></pre></div><ul><li>x：圆心的 x 坐标</li> <li>y：圆心的 y 坐标</li> <li>r：圆的半径</li> <li>sAngle：起始角，以弧度计（弧的圆形的三点钟位置是 0 度）</li> <li>eAngle：结束角，以弧度计</li> <li>counterclockwise：可选。规定应该逆时针还是顺时针绘图。false 为顺时针，true 为逆时针</li></ul> <p>比如我们想画一个顺时针的四分之一圆，应该怎么写呢？</p> <div class="language- extra-class"><pre class="language-text"><code>    var canvas = document.getElementById(&quot;canvas&quot;);
    var context = canvas.getContext(&quot;2d&quot;);
    var cx = canvas.width = 400;
    var cy = canvas.height = 400;

    context.beginPath();
    context.arc(100, 100, 50, 0, Math.PI * 0.5, false);
    context.strokeStyle=&quot;white&quot;;
    context.stroke();

</code></pre></div><p>为什么这个不是闭合的图形呢？因为我只设置了 beginPath 并没有设置 closePath，所以这就不是一条闭合的路径。我们加上 cloasePath 看一下效果。</p> <p>如果跟着我一起写代码的话你就会发现，这个是空心的，并没有整个路径都被填充，这是怎么回事呢？</p> <p>这是因为 <code>stroke()</code> 和 <code>fill()</code> 的区别，根据上面的两个例子，我们很容易看出这两个函数的区别：一个是描边，一个是填充。</p> <ul><li><code>stroke()</code> ：描边</li> <li><code>fill()</code> ：填充</li></ul> <p>我们可以通过 <code>strokeStyle</code>属性 和 <code>fillStyle</code>属性来设置描边和填充的颜色。这里不仅可以设置单一的颜色，还可以设置渐变。</p> <h4 id="绘制直线"><a href="#绘制直线" aria-hidden="true" class="header-anchor">#</a> 绘制直线</h4> <p>下面我们来绘制一条线。</p> <div class="language-js extra-class"><pre class="language-js"><code>    <span class="token keyword">var</span> canvas <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">&quot;canvas&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">var</span> context <span class="token operator">=</span> canvas<span class="token punctuation">.</span><span class="token function">getContext</span><span class="token punctuation">(</span><span class="token string">&quot;2d&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">var</span> cx <span class="token operator">=</span> canvas<span class="token punctuation">.</span>width <span class="token operator">=</span> <span class="token number">400</span><span class="token punctuation">;</span>
    <span class="token keyword">var</span> cy <span class="token operator">=</span> canvas<span class="token punctuation">.</span>height <span class="token operator">=</span> <span class="token number">400</span><span class="token punctuation">;</span>

    context<span class="token punctuation">.</span><span class="token function">beginPath</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    context<span class="token punctuation">.</span><span class="token function">moveTo</span><span class="token punctuation">(</span><span class="token number">50</span><span class="token punctuation">,</span><span class="token number">50</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    context<span class="token punctuation">.</span><span class="token function">lineTo</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">,</span><span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    context<span class="token punctuation">.</span>strokeStyle <span class="token operator">=</span> <span class="token string">'#fff'</span><span class="token punctuation">;</span>
    context<span class="token punctuation">.</span><span class="token function">stroke</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

</code></pre></div><p>在绘制直线的例子中，我们使用了</p> <ul><li><code>moveTo(x,y)</code>：把路径移动到画布中的指定点，不创建线条</li> <li><code>lineTo(x,y)</code>：添加一个新点，然后在画布中创建从该点到最后指定点的线条</li></ul> <p>这里需要注意以下几点：</p> <ul><li>如果没有 moveTo，那么第一次 lineTo 的就视为 moveTo</li> <li>每次 lineTo 后如果没有 moveTo，那么下次 lineTo 的开始点为前一次 lineTo 的结束点。</li></ul> <p>也就是这种情况：</p> <div class="language-js extra-class"><pre class="language-js"><code>   <span class="token operator">&lt;</span><span class="token operator">!</span><span class="token constant">DOCTYPE</span> html<span class="token operator">&gt;</span>
   <span class="token operator">&lt;</span>html lang<span class="token operator">=</span><span class="token string">&quot;en&quot;</span><span class="token operator">&gt;</span>
   <span class="token operator">&lt;</span>head<span class="token operator">&gt;</span>
       <span class="token operator">&lt;</span>meta charset<span class="token operator">=</span><span class="token string">&quot;UTF-8&quot;</span><span class="token operator">&gt;</span>
       <span class="token operator">&lt;</span>title<span class="token operator">&gt;</span>Title<span class="token operator">&lt;</span><span class="token operator">/</span>title<span class="token operator">&gt;</span>
       <span class="token operator">&lt;</span>style<span class="token operator">&gt;</span>
           #canvas <span class="token punctuation">{</span>
               background<span class="token punctuation">:</span> <span class="token function">rgb</span><span class="token punctuation">(</span><span class="token number">220</span><span class="token punctuation">,</span><span class="token number">50</span><span class="token punctuation">,</span><span class="token number">100</span><span class="token punctuation">)</span> <span class="token punctuation">;</span>
           <span class="token punctuation">}</span>
       <span class="token operator">&lt;</span><span class="token operator">/</span>style<span class="token operator">&gt;</span>
   <span class="token operator">&lt;</span><span class="token operator">/</span>head<span class="token operator">&gt;</span>
   <span class="token operator">&lt;</span>body<span class="token operator">&gt;</span>
   <span class="token operator">&lt;</span>canvas id<span class="token operator">=</span><span class="token string">&quot;canvas&quot;</span><span class="token operator">&gt;</span>
   
   <span class="token operator">&lt;</span><span class="token operator">/</span>canvas<span class="token operator">&gt;</span>
   <span class="token operator">&lt;</span>script<span class="token operator">&gt;</span>
       <span class="token keyword">var</span> canvas <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">&quot;canvas&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
       <span class="token keyword">var</span> context <span class="token operator">=</span> canvas<span class="token punctuation">.</span><span class="token function">getContext</span><span class="token punctuation">(</span><span class="token string">&quot;2d&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
       <span class="token keyword">var</span> cx <span class="token operator">=</span> canvas<span class="token punctuation">.</span>width <span class="token operator">=</span> <span class="token number">400</span><span class="token punctuation">;</span>
       <span class="token keyword">var</span> cy <span class="token operator">=</span> canvas<span class="token punctuation">.</span>height <span class="token operator">=</span> <span class="token number">400</span><span class="token punctuation">;</span>
   
       context<span class="token punctuation">.</span><span class="token function">beginPath</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
       context<span class="token punctuation">.</span><span class="token function">lineTo</span><span class="token punctuation">(</span><span class="token number">200</span><span class="token punctuation">,</span> <span class="token number">200</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
       context<span class="token punctuation">.</span><span class="token function">lineTo</span><span class="token punctuation">(</span><span class="token number">200</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
   		context<span class="token punctuation">.</span><span class="token function">moveTo</span><span class="token punctuation">(</span><span class="token number">300</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
       context<span class="token punctuation">.</span><span class="token function">lineTo</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">,</span><span class="token number">50</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
       context<span class="token punctuation">.</span>strokeStyle <span class="token operator">=</span> <span class="token string">'#fff'</span><span class="token punctuation">;</span>
       context<span class="token punctuation">.</span><span class="token function">stroke</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
   
   <span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">&gt;</span>
   <span class="token operator">&lt;</span><span class="token operator">/</span>body<span class="token operator">&gt;</span>
   <span class="token operator">&lt;</span><span class="token operator">/</span>html<span class="token operator">&gt;</span>
</code></pre></div><img src="/beifen/010canvas.jpg"> <table><thead><tr><th>样式</th> <th>描述</th></tr></thead> <tbody><tr><td><code>lineCap</code></td> <td>设置或返回线条的结束端点样式</td></tr> <tr><td><code>lineJoin</code></td> <td>设置或返回两条线相交时，所创建的拐角类型</td></tr> <tr><td><code>lineWidth</code></td> <td>设置或返回当前的线条宽度</td></tr> <tr><td><code>miterLimit</code></td> <td>设置或返回最大斜接长度</td></tr></tbody></table> <p>我们来看下这些 <strong>属性</strong> 是怎么使用的。</p> <div class="language- extra-class"><pre class="language-text"><code>    var canvas = document.getElementById(&quot;canvas&quot;);
    var context = canvas.getContext(&quot;2d&quot;);
    var cx = canvas.width = 400;
    var cy = canvas.height = 400;

    context.beginPath();

    context.moveTo(10,10);//起点
    context.lineTo(100,100);//重点
    context.lineWidth = 10;//线条宽度
    context.lineCap = 'round';//顶端弧形
    context.strokeStyle = '#fff';//描边白色
    context.stroke()

</code></pre></div><h4 id="绘制矩形"><a href="#绘制矩形" aria-hidden="true" class="header-anchor">#</a> 绘制矩形</h4> <p>在了解了最基本的绘制点、线的方法之后，我们来看一下如何绘制一个矩形。</p> <div class="language- extra-class"><pre class="language-text"><code>    var canvas = document.getElementById(&quot;canvas&quot;);
    var context = canvas.getContext(&quot;2d&quot;);
    var cx = canvas.width = 400;
    var cy = canvas.height = 400;

    context.beginPath();
    context.fillStyle = '#fff';
    context.fillRect(10, 10, 100, 100);
    context.strokeStyle = '#fff';
    context.strokeRect(130, 10, 100, 100);

</code></pre></div><p>这里我们使用下面的方法：</p> <ul><li><code>fillRect(x,y,width,height)</code>：绘制一个实心矩形</li> <li><code>strokeRect(x,y,width,height)</code>：绘制一个空心矩形</li></ul> <p>通过 <code>fillStyle</code> 和 <code>strokeStyle</code> 来设置填充的颜色和描边的颜色。</p> <h3 id="颜色、样式和阴影"><a href="#颜色、样式和阴影" aria-hidden="true" class="header-anchor">#</a> 颜色、样式和阴影</h3> <p>上面几个函数教大家怎么绘制点、线、以及圆形和矩形，都是通过先创建路径，然后再使用 <code>fill()</code> 或 <code>stroke()</code> 进行填充或者描边。</p> <table><thead><tr><th>属性</th> <th>描述</th></tr></thead> <tbody><tr><td><code>fillStyle</code></td> <td>设置或返回用于填充绘画的颜色、渐变或模式</td></tr> <tr><td><code>strokeStyle</code></td> <td>设置或返回用于笔触的颜色、渐变或模式</td></tr> <tr><td><code>shadowColor</code></td> <td>设置或返回用于阴影的颜色</td></tr> <tr><td><code>shadowBlur</code></td> <td>设置或返回用于阴影的模糊级别</td></tr> <tr><td><code>shadowOffsetX</code></td> <td>设置或返回阴影距形状的水平距离</td></tr> <tr><td><code>shadowOffsetY</code></td> <td>设置或返回阴影距形状的垂直距离</td></tr></tbody></table> <h4 id="设置阴影"><a href="#设置阴影" aria-hidden="true" class="header-anchor">#</a> 设置阴影</h4> <p>设置阴影我们用到的是 <code>shadowBlur</code> 这个属性。</p> <div class="language- extra-class"><pre class="language-text"><code>
    var canvas = document.getElementById(&quot;canvas&quot;);
    var context = canvas.getContext(&quot;2d&quot;);
    var cx = canvas.width = 400;
    var cy = canvas.height = 400;

    context.beginPath();
    context.arc(100,100,50,0,2*Math.PI,false);
    context.fillStyle = '#fff';
    context.shadowBlur = 20;
    context.shadowColor = '#fff';
    context.fill()

</code></pre></div><p>同样的方（tao）法（lu），我们只要在 <code>fill()</code> 方法之前设置模糊指数（<code>shadowBlur</code>）和颜色（<code>shadowColor</code>）就可以了。</p> <h4 id="设置渐变"><a href="#设置渐变" aria-hidden="true" class="header-anchor">#</a> 设置渐变</h4> <table><thead><tr><th>方法</th> <th>描述</th></tr></thead> <tbody><tr><td><code>createLinearGradient()</code></td> <td>创建线性渐变（用在画布内容上）</td></tr> <tr><td><code>createPattern()</code></td> <td>在指定的方向上重复指定的元素</td></tr> <tr><td><code>createRadialGradient()</code></td> <td>创建放射状/环形的渐变（用在画布内容上）</td></tr> <tr><td><code>addColorStop()</code></td> <td>规定渐变对象中的颜色和停止位置</td></tr></tbody></table> <p>其中绘制渐变主要用到了 <code>createLinearGradient()</code> 方法， <code>context.createLinearGradient(x0,y0,x1,y1);</code></p> <ul><li>x0：开始渐变的 x 坐标</li> <li>y0：开始渐变的 y 坐标</li> <li>x1：结束渐变的 x 坐标</li> <li>y1：结束渐变的 y 坐标</li></ul> <p>这是设置比如说我们下一个粉色到白色的由上向下的渐变：</p> <div class="language-html extra-class"><pre class="language-html"><code>    <span class="token doctype">&lt;!DOCTYPE html&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>en<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">charset</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>UTF-8<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>title</span><span class="token punctuation">&gt;</span></span>Title<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>title</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span><span class="token punctuation">&gt;</span></span><span class="token style language-css">
            <span class="token selector">#canvas</span> <span class="token punctuation">{</span>
                <span class="token property">background</span><span class="token punctuation">:</span> <span class="token function">rgb</span><span class="token punctuation">(</span>220,50,100<span class="token punctuation">)</span> <span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>canvas</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>canvas<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>canvas</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script language-javascript">
         <span class="token keyword">var</span> canvas <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">&quot;canvas&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">var</span> context <span class="token operator">=</span> canvas<span class="token punctuation">.</span><span class="token function">getContext</span><span class="token punctuation">(</span><span class="token string">&quot;2d&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">var</span> cx <span class="token operator">=</span> canvas<span class="token punctuation">.</span>width <span class="token operator">=</span> <span class="token number">400</span><span class="token punctuation">;</span>
        <span class="token keyword">var</span> cy <span class="token operator">=</span> canvas<span class="token punctuation">.</span>height <span class="token operator">=</span> <span class="token number">400</span><span class="token punctuation">;</span>
        
        <span class="token keyword">var</span> grd <span class="token operator">=</span> context<span class="token punctuation">.</span><span class="token function">createLinearGradient</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">,</span><span class="token number">100</span><span class="token punctuation">,</span><span class="token number">100</span><span class="token punctuation">,</span><span class="token number">200</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        grd<span class="token punctuation">.</span><span class="token function">addColorStop</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token string">'pink'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        grd<span class="token punctuation">.</span><span class="token function">addColorStop</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token string">'orange'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        
        context<span class="token punctuation">.</span>fillStyle <span class="token operator">=</span> grd<span class="token punctuation">;</span>
        context<span class="token punctuation">.</span><span class="token function">fillRect</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">,</span><span class="token number">100</span><span class="token punctuation">,</span><span class="token number">200</span><span class="token punctuation">,</span><span class="token number">200</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">&gt;</span></span>

</code></pre></div><p>可以看出，<code>createLinearGradient()</code> 的参数是两个点的坐标，这两个点的连线实际上就是渐变的方向。我们可以使用 <code>addColorStop()</code> 方法来设置渐变的颜色。</p> <p><code>gradient.addColorStop(stop,color);</code>:</p> <ul><li><code>stop</code>：介于 0.0 与 1.0 之间的值，表示渐变中开始与结束之间的位置</li> <li><code>color</code>：在结束位置显示的 CSS 颜色值</li></ul> <p>我们可以设置多个颜色断点，比如，要实现一个彩虹的效果，只需要多增加几个颜色断点就可以了~</p> <div class="language- extra-class"><pre class="language-text"><code>    var canvas = document.getElementById(&quot;canvas&quot;);
    var context = canvas.getContext(&quot;2d&quot;);
    var cx = canvas.width = 400;
    var cy = canvas.height = 400;

    var grd = context.createLinearGradient(0,0,0,400);
    grd.addColorStop(0,'rgb(255, 0, 0)');
    grd.addColorStop(0.2,'rgb(255, 165, 0)');
    grd.addColorStop(0.3,'rgb(255, 255, 0)');
    grd.addColorStop(0.5,'rgb(0, 255, 0)');
    grd.addColorStop(0.7,'rgb(0, 127, 255)');
    grd.addColorStop(0.9,'rgb(0, 0, 255)');
    grd.addColorStop(1,'rgb(139, 0, 255)');

    context.fillStyle = grd;
    context.fillRect(0,0,400,400);

</code></pre></div><p>效果如下：</p> <img src="/beifen/011canvas.png"> <h2 id="图形转换"><a href="#图形转换" aria-hidden="true" class="header-anchor">#</a> 图形转换</h2> <table><thead><tr><th>方法</th> <th>描述</th></tr></thead> <tbody><tr><td><code>scale()</code></td> <td>缩放当前绘图至更大或更小</td></tr> <tr><td><code>rotate()</code></td> <td>旋转当前绘图</td></tr> <tr><td><code>translate()</code></td> <td>重新映射画布上的 (0,0) 位置</td></tr> <tr><td><code>transform()</code></td> <td>替换绘图的当前转换矩阵</td></tr> <tr><td><code>setTransform()</code></td> <td>将当前转换重置为单位矩阵，然后运行 <code>transform()</code></td></tr></tbody></table> <h4 id="缩放"><a href="#缩放" aria-hidden="true" class="header-anchor">#</a> 缩放</h4> <p>我们来看一下怎么使用 Canvas 实现缩放的功能，绘制一个矩形；放大到 200%，再次绘制矩形；放大到 200%，然后再次绘制矩形；放大到 200%，再次绘制矩形：</p> <div class="language- extra-class"><pre class="language-text"><code>    var canvas = document.getElementById(&quot;canvas&quot;);
    var context = canvas.getContext(&quot;2d&quot;);
    var cx = canvas.width = 400;
    var cy = canvas.height = 400;

    context.strokeStyle = 'white';
    context.strokeRect(5,5,50,25);
    context.scale(2,2);
    context.strokeRect(5,5,50,25);
    context.scale(2,2);
    context.strokeRect(5,5,50,25);

</code></pre></div><p>只是使用 <code>scale()</code> 方法就可以实现缩放的效果，我们再来看一下浏览器中的显示情况：</p> <p>可以看到，在设置 <code>scale()</code> 方法之后再设置的矩形，无论是线条的宽度还是坐标的位置，都被放大了。并且 <code>scale()</code> 的效果是可以叠加的，也就是说，我们在上面的例子中使用了两次 <code>scale(2,2)</code> 那么，最后一个矩形相对于第一个矩形长和宽，以及坐标的位置就放大了 4 倍。</p> <h4 id="旋转"><a href="#旋转" aria-hidden="true" class="header-anchor">#</a> 旋转</h4> <p>其实在图形变换中，只要掌握了一种，其他的图形变换方式就会迎刃而解了。我们再来看一下旋转的例子吧。</p> <div class="language- extra-class"><pre class="language-text"><code>    var canvas = document.getElementById(&quot;canvas&quot;);
    var context = canvas.getContext(&quot;2d&quot;);
    var cx = canvas.width = 400;
    var cy = canvas.height = 400;

    context.fillStyle = 'white';
    context.rotate(20*Math.PI/180);
    context.fillRect(70,30,200,100);

</code></pre></div><p>我们使用的是 <code>rotate()</code> 方法 <code>context.rotate(angle);</code></p> <ul><li><code>angle</code> : 旋转角度，以弧度计。 如需将角度转换为弧度，请使用 <code>degrees*Math.PI/180</code> 公式进行计算。 举例：如需旋转 5 度，可规定下面的公式：<code>5*Math.PI/180</code>。</li></ul> <p>在刚刚的例子中，我们将画布旋转了 20°，然后再画了一个矩形。</p> <p>通过上述两个例子，我们会发现一个特点，在进行图形变换的时候，我们需要画布旋转，然后再绘制图形。</p> <p>这样的结果是，我们使用的图形变换的方法都是作用在画布上的，既然对画布进行了变换，那么在接下来绘制的图形都会变换。这点是需要注意的。</p> <p>比如我对画布使用了 <code>rotate(20*Math.PI/180)</code> 方法，就是将画布旋转了 20°，然后之后绘制的图形都会旋转 20°。</p> <h3 id="图像绘制"><a href="#图像绘制" aria-hidden="true" class="header-anchor">#</a> 图像绘制</h3> <p>Canvas 还有一个经常用的方法是<code>drawImage()</code>。向画布上绘制图像、画布或视频</p> <p><code>context.drawImage(img,sx,sy,swidth,sheight,x,y,width,height);</code></p> <ul><li><code>img</code>：规定要使用的图像、画布或视频</li> <li><code>sx</code>：可选。开始剪切的 x 坐标位置</li> <li><code>sy</code>：可选。开始剪切的 y 坐标位置</li> <li><code>swidth</code>：可选。被剪切图像的宽度</li> <li><code>sheight</code>：可选。被剪切图像的高度</li> <li><code>x</code>：在画布上放置图像的 x 坐标位置</li> <li><code>y</code>：在画布上放置图像的 y 坐标位置</li> <li><code>width</code>：可选。要使用的图像的宽度（伸展或缩小图像）</li> <li><code>height</code>：可选。要使用的图像的高度（伸展或缩小图像）</li></ul> <p>经过上面对 Canvas 常见方法的介绍，相信你也可以绘制一些基本的图形了，你看到的那些炫酷的效果都是由这些简单的图形构成的。在下一节我将会带大家分析怎么使用这些最基本的元素来组成炫酷的特效~~</p> <h2 id="源码"><a href="#源码" aria-hidden="true" class="header-anchor">#</a> 源码</h2> <p>本小册中各种特效的源码地址：<a href="https://github.com/sunshine940326/canvas" target="_blank" rel="noopener noreferrer">sunshine940326/canvas<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <Chart></Chart> <!----></div> <div class="page-edit"><!----> <!----></div> <div class="page-nav"><p class="inner"><span class="prev">
        ←
        <a href="/canvas/" class="prev router-link-active">
           canvas
        </a></span> <span class="next"><a href="/canvas/002canvastexiao.html">
           canvas特效
        </a>
        →
      </span></p></div> </div> <!----></div></div>
    <script src="/assets/js/app.3d372a91.js" defer></script><script src="/assets/js/73.79ebf212.js" defer></script><script src="/assets/js/8.b0af1d23.js" defer></script>
  </body>
</html>
