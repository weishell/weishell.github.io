(window.webpackJsonp=window.webpackJsonp||[]).push([[241],{252:function(t,a,s){"use strict";s.r(a);var e=s(0),n=Object(e.a)({},function(){this.$createElement;this._self._c;return this._m(0)},[function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",{staticClass:"content"},[s("h2",{attrs:{id:"babel"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#babel","aria-hidden":"true"}},[t._v("#")]),t._v(" babel")]),t._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("cnpm i --save-dev babel-loader @babel/core @babel/preset-env\n")])])]),s("p",[t._v("在webpack配置中配置规则")]),t._v(" "),s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[t._v("rules"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n\t\t"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\t\t\ttest"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token regex"}},[t._v("/\\.js$/")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n\t\t\texclude"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token regex"}},[t._v("/node_modules/")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n\t\t\tloader"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"babel-loader"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n\t\t\toptions"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\t\t\t\tpresets"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"@babel/preset-env"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n\t\t\t"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\t\t"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\t\t\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n")])])]),s("p",[t._v("这种语法转换有局限性，因为低版本对于某些转换后的js还是不认识，如map,promise等")]),t._v(" "),s("h2",{attrs:{id:"polyfill"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#polyfill","aria-hidden":"true"}},[t._v("#")]),t._v(" polyfill")]),t._v(" "),s("p",[t._v("Polyfill是一个js库，主要抚平不同浏览器之间对js实现的差异。")]),t._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("cnpm i --save @babel/polyfill\n")])])]),s("p",[t._v("在原先的业务代码前加上"),s("code",[t._v("import '@babel/polyfill';")]),t._v("不过在最新版本的webpack中只要配置了"),s("code",[t._v("useBuiltIns:'usage'")]),t._v(", "),s("code",[t._v("import '@babel/polyfill';")]),t._v("会自动被引入")]),t._v(" "),s("p",[t._v("而且可以采用合适的方法来减少体积")]),t._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v('{\n\t\t\ttest: /\\.js$/,\n\t\t\texclude:/node_modules/,\n\t\t\tloader:"babel-loader",\n\t\t\toptions:{\n\t\t\t\tpresets:[["@babel/preset-env",\n\t\t\t\t\t{\n\t\t\t\t\t\ttargets: {\n\t\t\t\t\t\tchrome: "67",//目标浏览器版本\n\t\t\t\t\t\t\n\t\t\t\t\t  },\n\t\t\t\t\tuseBuiltIns:\'usage\',//使用了哪些ES6语法然后只转换用到的ES6\n\t\t\t\t\t}\n\t\t\t\t]]\n\t\t\t}\n\t\t},\t\n')])])]),s("h2",{attrs:{id:"另外一种方法-不污染全局"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#另外一种方法-不污染全局","aria-hidden":"true"}},[t._v("#")]),t._v(" 另外一种方法 不污染全局")]),t._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("cnpm install --save-dev @babel/plugin-transform-runtime\n")])])]),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("cnpm install --save @babel/runtime\n")])])]),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("cnpm install --save @babel/runtime-corejs2\n//如果设置corejs为2时需要安装\n")])])]),s("h2",{attrs:{id:"babelrc"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#babelrc","aria-hidden":"true"}},[t._v("#")]),t._v(" .babelrc")]),t._v(" "),s("p",[t._v("可把options里的配置单独抽出来放在.babelrc 中")]),t._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v('{\n\t\t\ttest: /\\.js$/,\n\t\t\texclude:/node_modules/,\n\t\t\tloader:"babel-loader",\n\t\t\t\n\t\t},\t\n')])])]),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v('{\n\t"plugins": [["@babel/plugin-transform-runtime",{\n\t\t "corejs": 2,\n\t\t"helpers": true,\n\t\t"regenerator": true,\n\t\t"useESModules": false\n\t}]]\n} \n\n')])])])])}],!1,null,null,null);a.default=n.exports}}]);