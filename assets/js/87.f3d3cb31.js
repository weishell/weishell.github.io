(window.webpackJsonp=window.webpackJsonp||[]).push([[87],{505:function(t,a,s){"use strict";s.r(a);var n=s(43),e=Object(n.a)({},(function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("h2",{attrs:{id:"kettle"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#kettle"}},[t._v("#")]),t._v(" kettle")]),t._v(" "),s("h3",{attrs:{id:"js脚本打印日志的方法"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#js脚本打印日志的方法"}},[t._v("#")]),t._v(" js脚本打印日志的方法")]),t._v(" "),s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" subject"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"自定义日志输出"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//实例化日志channel对象")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" log"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("org"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("pentaho"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("di"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("core"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("logging"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("LogChannel")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("subject"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//日志输出")]),t._v("\nlog"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("logMinimal")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"XXXXXXXXXXXXXXXXXXXXXXXX-preRows:"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v("preRows"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("size")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),s("h3",{attrs:{id:"kettlejs脚本获取值"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#kettlejs脚本获取值"}},[t._v("#")]),t._v(" kettlejs脚本获取值")]),t._v(" "),s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//不兼容模式")]),t._v("\nmyVar "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("FieldName"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//字段名称")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//兼容模式 根据字段类型的不同，使用不同的方法")]),t._v("\nmyVar "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" FieldName"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("getString")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\nmyVar "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" FieldName"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("getNumber")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),s("h4",{attrs:{id:"kettlejs脚本修改值"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#kettlejs脚本修改值"}},[t._v("#")]),t._v(" kettlejs脚本修改值")]),t._v(" "),s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//不兼容模式")]),t._v("\nFieldName "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" myVar \n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//兼容模式")]),t._v("\nFieldName"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("setValue")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("myVar"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),s("p",[t._v("js脚本中使用java类")]),t._v(" "),s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//不兼容模式")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" myVar "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("java"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("lang"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("String")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"xxxxx"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//兼容模式")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" myVar "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Packages"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("java"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("lang"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("String")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"xxx"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),s("div",{staticClass:"language- extra-class"},[s("pre",[s("code",[t._v("\tfStr=replace(row[i],'\\r','');\n\t \n\t           fStr=replace(fStr,'\\n','');\n\t \n\t           fStr=replace(fStr,'\\t',' ');\n\t \n\t           fStr=replace(fStr,';','；');\n\t \n\t           fStr=replace(fStr,'·','');\n\t           \n\t           fStr=replace(fStr,'#','');\n\t           fStr=replace(fStr,'\\\\$','');\n\t           fStr=replace(fStr,'@','');\n\t           fStr=replace(fStr,'!','');\n\t           fStr=replace(fStr,'~','');\n\t           fStr=replace(fStr,'\\\\%','');\n\t           fStr=replace(fStr,'\\\\^','');\n\t           fStr=replace(fStr,'&','');\n\t           fStr=replace(fStr,'\\\\*','');\n\t           fStr=replace(fStr,'\\\\(','');\n\t           fStr=replace(fStr,'\\\\)','');\n")])])])])}),[],!1,null,null,null);a.default=e.exports}}]);