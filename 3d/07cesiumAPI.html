<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>cesium API | web</title>
    <meta name="generator" content="VuePress 1.9.10">
    <link rel="icon" href="/img/logo.jpg">
    <meta name="description" content="welcome">
    
    <link rel="preload" href="/assets/css/0.styles.060b550a.css" as="style"><link rel="preload" href="/assets/js/app.4a1cc306.js" as="script"><link rel="preload" href="/assets/js/2.3f136e0e.js" as="script"><link rel="preload" href="/assets/js/1.4c2557fc.js" as="script"><link rel="preload" href="/assets/js/31.1de01a96.js" as="script"><link rel="preload" href="/assets/js/24.00cd04e3.js" as="script"><link rel="prefetch" href="/assets/js/10.5e85aee1.js"><link rel="prefetch" href="/assets/js/100.6a00dea2.js"><link rel="prefetch" href="/assets/js/101.b7e914e8.js"><link rel="prefetch" href="/assets/js/102.6b916645.js"><link rel="prefetch" href="/assets/js/103.08af668c.js"><link rel="prefetch" href="/assets/js/104.70d090b5.js"><link rel="prefetch" href="/assets/js/105.a1ac6081.js"><link rel="prefetch" href="/assets/js/106.768d0585.js"><link rel="prefetch" href="/assets/js/107.240a513d.js"><link rel="prefetch" href="/assets/js/108.1e360265.js"><link rel="prefetch" href="/assets/js/109.147932fa.js"><link rel="prefetch" href="/assets/js/11.6c93a7cd.js"><link rel="prefetch" href="/assets/js/110.0301515f.js"><link rel="prefetch" href="/assets/js/111.43ee8e96.js"><link rel="prefetch" href="/assets/js/112.409379ff.js"><link rel="prefetch" href="/assets/js/113.4a90120b.js"><link rel="prefetch" href="/assets/js/114.d4e5ad78.js"><link rel="prefetch" href="/assets/js/115.0eab7888.js"><link rel="prefetch" href="/assets/js/116.a2d0d64d.js"><link rel="prefetch" href="/assets/js/117.e56f1de9.js"><link rel="prefetch" href="/assets/js/118.68afa526.js"><link rel="prefetch" href="/assets/js/119.af0dac0e.js"><link rel="prefetch" href="/assets/js/12.6d91f8ed.js"><link rel="prefetch" href="/assets/js/120.9f894ef4.js"><link rel="prefetch" href="/assets/js/121.c953c85f.js"><link rel="prefetch" href="/assets/js/122.3480e969.js"><link rel="prefetch" href="/assets/js/123.7ec431d2.js"><link rel="prefetch" href="/assets/js/124.f4fca97f.js"><link rel="prefetch" href="/assets/js/125.1c47672b.js"><link rel="prefetch" href="/assets/js/126.5802187e.js"><link rel="prefetch" href="/assets/js/127.53df07c3.js"><link rel="prefetch" href="/assets/js/128.aea2541c.js"><link rel="prefetch" href="/assets/js/129.2d0c5117.js"><link rel="prefetch" href="/assets/js/13.cd88a1ed.js"><link rel="prefetch" href="/assets/js/130.96730d47.js"><link rel="prefetch" href="/assets/js/131.213efa0e.js"><link rel="prefetch" href="/assets/js/132.9aa0a986.js"><link rel="prefetch" href="/assets/js/133.6efc051f.js"><link rel="prefetch" href="/assets/js/134.a7f8e5de.js"><link rel="prefetch" href="/assets/js/135.913f3fe2.js"><link rel="prefetch" href="/assets/js/136.89efd43f.js"><link rel="prefetch" href="/assets/js/137.4fa7839a.js"><link rel="prefetch" href="/assets/js/138.ab6b7947.js"><link rel="prefetch" href="/assets/js/139.71eb0b12.js"><link rel="prefetch" href="/assets/js/14.3b447948.js"><link rel="prefetch" href="/assets/js/140.5c0cbaaf.js"><link rel="prefetch" href="/assets/js/141.ad33a636.js"><link rel="prefetch" href="/assets/js/142.5d915d73.js"><link rel="prefetch" href="/assets/js/143.a7ca4184.js"><link rel="prefetch" href="/assets/js/144.e2dbb879.js"><link rel="prefetch" href="/assets/js/145.f812ed37.js"><link rel="prefetch" href="/assets/js/146.1962baeb.js"><link rel="prefetch" href="/assets/js/147.084581eb.js"><link rel="prefetch" href="/assets/js/148.25d8e092.js"><link rel="prefetch" href="/assets/js/149.1675a36f.js"><link rel="prefetch" href="/assets/js/15.42ceb2eb.js"><link rel="prefetch" href="/assets/js/150.327a1471.js"><link rel="prefetch" href="/assets/js/151.86da8d85.js"><link rel="prefetch" href="/assets/js/152.ba8bdff1.js"><link rel="prefetch" href="/assets/js/153.463005be.js"><link rel="prefetch" href="/assets/js/154.abf5d382.js"><link rel="prefetch" href="/assets/js/155.1a0a92f7.js"><link rel="prefetch" href="/assets/js/156.ebd63943.js"><link rel="prefetch" href="/assets/js/157.c3a776d3.js"><link rel="prefetch" href="/assets/js/158.8dbe4788.js"><link rel="prefetch" href="/assets/js/159.2e6068ee.js"><link rel="prefetch" href="/assets/js/16.f0a02e7c.js"><link rel="prefetch" href="/assets/js/160.222d4057.js"><link rel="prefetch" href="/assets/js/161.3f1e123c.js"><link rel="prefetch" href="/assets/js/162.2cb1bc94.js"><link rel="prefetch" href="/assets/js/163.a923310a.js"><link rel="prefetch" href="/assets/js/164.705624c6.js"><link rel="prefetch" href="/assets/js/165.a3519f1e.js"><link rel="prefetch" href="/assets/js/166.7d20f776.js"><link rel="prefetch" href="/assets/js/167.ff4d3fba.js"><link rel="prefetch" href="/assets/js/168.61f78c0d.js"><link rel="prefetch" href="/assets/js/169.712ad01c.js"><link rel="prefetch" href="/assets/js/17.bbbe20c1.js"><link rel="prefetch" href="/assets/js/170.065d746e.js"><link rel="prefetch" href="/assets/js/171.d39f6764.js"><link rel="prefetch" href="/assets/js/172.0edfa01b.js"><link rel="prefetch" href="/assets/js/173.a9a13379.js"><link rel="prefetch" href="/assets/js/174.23818e72.js"><link rel="prefetch" href="/assets/js/175.abbf00d5.js"><link rel="prefetch" href="/assets/js/176.6de2aa75.js"><link rel="prefetch" href="/assets/js/177.b1795a2f.js"><link rel="prefetch" href="/assets/js/178.5af26321.js"><link rel="prefetch" href="/assets/js/179.00b253c8.js"><link rel="prefetch" href="/assets/js/18.21cbf265.js"><link rel="prefetch" href="/assets/js/180.5597cfc5.js"><link rel="prefetch" href="/assets/js/181.26e7b98e.js"><link rel="prefetch" href="/assets/js/182.ff39fa26.js"><link rel="prefetch" href="/assets/js/183.c605d1b6.js"><link rel="prefetch" href="/assets/js/184.4ff69289.js"><link rel="prefetch" href="/assets/js/185.d24d393f.js"><link rel="prefetch" href="/assets/js/186.6650f617.js"><link rel="prefetch" href="/assets/js/187.c41bcc59.js"><link rel="prefetch" href="/assets/js/188.8c92ba02.js"><link rel="prefetch" href="/assets/js/189.383aa9fb.js"><link rel="prefetch" href="/assets/js/19.a8ff0e62.js"><link rel="prefetch" href="/assets/js/190.f1a93dcb.js"><link rel="prefetch" href="/assets/js/191.e6243a0e.js"><link rel="prefetch" href="/assets/js/192.f1573816.js"><link rel="prefetch" href="/assets/js/193.c9dbed66.js"><link rel="prefetch" href="/assets/js/194.1d3cfcba.js"><link rel="prefetch" href="/assets/js/195.f722389d.js"><link rel="prefetch" href="/assets/js/196.d2147a66.js"><link rel="prefetch" href="/assets/js/197.52419d86.js"><link rel="prefetch" href="/assets/js/198.0e537110.js"><link rel="prefetch" href="/assets/js/199.48f16270.js"><link rel="prefetch" href="/assets/js/20.ba2395ea.js"><link rel="prefetch" href="/assets/js/200.0702ebab.js"><link rel="prefetch" href="/assets/js/201.09670490.js"><link rel="prefetch" href="/assets/js/202.65fcc3b7.js"><link rel="prefetch" href="/assets/js/203.5a1b0c40.js"><link rel="prefetch" href="/assets/js/204.a80d8a1d.js"><link rel="prefetch" href="/assets/js/205.34c3bb6d.js"><link rel="prefetch" href="/assets/js/206.084cee8a.js"><link rel="prefetch" href="/assets/js/207.8ba3a284.js"><link rel="prefetch" href="/assets/js/208.da0fc1ae.js"><link rel="prefetch" href="/assets/js/209.9f678fa3.js"><link rel="prefetch" href="/assets/js/21.84a55ce0.js"><link rel="prefetch" href="/assets/js/210.04d5ceb5.js"><link rel="prefetch" href="/assets/js/211.b431d237.js"><link rel="prefetch" href="/assets/js/212.a5881967.js"><link rel="prefetch" href="/assets/js/213.ec9203a7.js"><link rel="prefetch" href="/assets/js/214.60cb9b4e.js"><link rel="prefetch" href="/assets/js/215.71964251.js"><link rel="prefetch" href="/assets/js/216.f0829eee.js"><link rel="prefetch" href="/assets/js/217.59857bf2.js"><link rel="prefetch" href="/assets/js/218.9120d575.js"><link rel="prefetch" href="/assets/js/219.a34923f8.js"><link rel="prefetch" href="/assets/js/22.f8d8681c.js"><link rel="prefetch" href="/assets/js/220.aa647101.js"><link rel="prefetch" href="/assets/js/221.00402072.js"><link rel="prefetch" href="/assets/js/222.7cb8f203.js"><link rel="prefetch" href="/assets/js/223.4f88ed61.js"><link rel="prefetch" href="/assets/js/224.831af3ba.js"><link rel="prefetch" href="/assets/js/225.3f282a29.js"><link rel="prefetch" href="/assets/js/226.8af5f7f7.js"><link rel="prefetch" href="/assets/js/227.632ec343.js"><link rel="prefetch" href="/assets/js/228.9f803633.js"><link rel="prefetch" href="/assets/js/229.b69a425e.js"><link rel="prefetch" href="/assets/js/23.b64d0d9b.js"><link rel="prefetch" href="/assets/js/230.ea56d5c0.js"><link rel="prefetch" href="/assets/js/231.30e1c9f5.js"><link rel="prefetch" href="/assets/js/232.7847922a.js"><link rel="prefetch" href="/assets/js/233.e8978345.js"><link rel="prefetch" href="/assets/js/234.82164dd4.js"><link rel="prefetch" href="/assets/js/235.7cc40860.js"><link rel="prefetch" href="/assets/js/236.066f2918.js"><link rel="prefetch" href="/assets/js/237.399a97ff.js"><link rel="prefetch" href="/assets/js/238.90fa0973.js"><link rel="prefetch" href="/assets/js/239.5ebb338e.js"><link rel="prefetch" href="/assets/js/240.1d2c43fe.js"><link rel="prefetch" href="/assets/js/241.d79a2794.js"><link rel="prefetch" href="/assets/js/242.80b212e9.js"><link rel="prefetch" href="/assets/js/243.3fed8b9f.js"><link rel="prefetch" href="/assets/js/244.369af764.js"><link rel="prefetch" href="/assets/js/245.5be0c754.js"><link rel="prefetch" href="/assets/js/246.ad639be5.js"><link rel="prefetch" href="/assets/js/247.c61ebe3d.js"><link rel="prefetch" href="/assets/js/248.386498a3.js"><link rel="prefetch" href="/assets/js/249.c1049db3.js"><link rel="prefetch" href="/assets/js/25.c75b9a25.js"><link rel="prefetch" href="/assets/js/250.f09e031b.js"><link rel="prefetch" href="/assets/js/251.f60cfda7.js"><link rel="prefetch" href="/assets/js/252.677d026c.js"><link rel="prefetch" href="/assets/js/253.8d79fa23.js"><link rel="prefetch" href="/assets/js/254.992a4ac3.js"><link rel="prefetch" href="/assets/js/255.a59f973a.js"><link rel="prefetch" href="/assets/js/256.5c110147.js"><link rel="prefetch" href="/assets/js/257.e7e55308.js"><link rel="prefetch" href="/assets/js/258.b8ebd330.js"><link rel="prefetch" href="/assets/js/259.d9c6ca73.js"><link rel="prefetch" href="/assets/js/26.78335fa7.js"><link rel="prefetch" href="/assets/js/260.20bdca0e.js"><link rel="prefetch" href="/assets/js/261.1ade46b0.js"><link rel="prefetch" href="/assets/js/262.3c8214ff.js"><link rel="prefetch" href="/assets/js/263.21593786.js"><link rel="prefetch" href="/assets/js/264.d11d6a7e.js"><link rel="prefetch" href="/assets/js/265.9861418b.js"><link rel="prefetch" href="/assets/js/266.01abcaf6.js"><link rel="prefetch" href="/assets/js/267.56da6267.js"><link rel="prefetch" href="/assets/js/268.74eb285d.js"><link rel="prefetch" href="/assets/js/269.e0bd887d.js"><link rel="prefetch" href="/assets/js/27.a9ba4945.js"><link rel="prefetch" href="/assets/js/270.b2c23533.js"><link rel="prefetch" href="/assets/js/271.cff8c189.js"><link rel="prefetch" href="/assets/js/272.ef1fc876.js"><link rel="prefetch" href="/assets/js/273.139dee3b.js"><link rel="prefetch" href="/assets/js/274.d82b7d37.js"><link rel="prefetch" href="/assets/js/275.28d0e055.js"><link rel="prefetch" href="/assets/js/276.b907a57d.js"><link rel="prefetch" href="/assets/js/277.7e7129cd.js"><link rel="prefetch" href="/assets/js/278.ecc41bfc.js"><link rel="prefetch" href="/assets/js/279.aaf2083d.js"><link rel="prefetch" href="/assets/js/28.626e3bbc.js"><link rel="prefetch" href="/assets/js/280.a0663c75.js"><link rel="prefetch" href="/assets/js/281.ac0a9df9.js"><link rel="prefetch" href="/assets/js/282.e608bae8.js"><link rel="prefetch" href="/assets/js/283.7859d7b0.js"><link rel="prefetch" href="/assets/js/284.3aea999d.js"><link rel="prefetch" href="/assets/js/285.9c8d8da1.js"><link rel="prefetch" href="/assets/js/286.e7500c07.js"><link rel="prefetch" href="/assets/js/287.7d673525.js"><link rel="prefetch" href="/assets/js/288.8fbcfca4.js"><link rel="prefetch" href="/assets/js/289.06c91d39.js"><link rel="prefetch" href="/assets/js/29.e8552ac1.js"><link rel="prefetch" href="/assets/js/290.678edefa.js"><link rel="prefetch" href="/assets/js/291.2fa920fe.js"><link rel="prefetch" href="/assets/js/292.f8d8f34b.js"><link rel="prefetch" href="/assets/js/293.8b1811f5.js"><link rel="prefetch" href="/assets/js/294.a32a94ca.js"><link rel="prefetch" href="/assets/js/295.659250cb.js"><link rel="prefetch" href="/assets/js/296.1853caa6.js"><link rel="prefetch" href="/assets/js/297.7d244d63.js"><link rel="prefetch" href="/assets/js/298.67b8af9b.js"><link rel="prefetch" href="/assets/js/299.b6796447.js"><link rel="prefetch" href="/assets/js/3.d456f831.js"><link rel="prefetch" href="/assets/js/30.b3fffabf.js"><link rel="prefetch" href="/assets/js/300.8ba7d6ab.js"><link rel="prefetch" href="/assets/js/301.1527760b.js"><link rel="prefetch" href="/assets/js/302.cb129d11.js"><link rel="prefetch" href="/assets/js/303.2caaa9ca.js"><link rel="prefetch" href="/assets/js/304.6889fe9c.js"><link rel="prefetch" href="/assets/js/305.1aacc49f.js"><link rel="prefetch" href="/assets/js/306.33b87ab4.js"><link rel="prefetch" href="/assets/js/307.b76b0cd5.js"><link rel="prefetch" href="/assets/js/308.fd53f952.js"><link rel="prefetch" href="/assets/js/309.b0bfcc60.js"><link rel="prefetch" href="/assets/js/310.bbb926a4.js"><link rel="prefetch" href="/assets/js/311.5941db12.js"><link rel="prefetch" href="/assets/js/312.3abfb2e1.js"><link rel="prefetch" href="/assets/js/313.e3f67422.js"><link rel="prefetch" href="/assets/js/314.7ecdc36c.js"><link rel="prefetch" href="/assets/js/315.0c50a68a.js"><link rel="prefetch" href="/assets/js/316.bdd8e402.js"><link rel="prefetch" href="/assets/js/317.7b323fdc.js"><link rel="prefetch" href="/assets/js/318.a8be77b6.js"><link rel="prefetch" href="/assets/js/319.4755a545.js"><link rel="prefetch" href="/assets/js/32.dd891bdf.js"><link rel="prefetch" href="/assets/js/320.8f1a2c63.js"><link rel="prefetch" href="/assets/js/321.f2a6fcd5.js"><link rel="prefetch" href="/assets/js/322.47c9ce5f.js"><link rel="prefetch" href="/assets/js/323.8bcf4dd0.js"><link rel="prefetch" href="/assets/js/324.9a11644c.js"><link rel="prefetch" href="/assets/js/325.02574055.js"><link rel="prefetch" href="/assets/js/326.03ae1bb0.js"><link rel="prefetch" href="/assets/js/327.62a68eaf.js"><link rel="prefetch" href="/assets/js/328.6de95de3.js"><link rel="prefetch" href="/assets/js/329.a674b3c7.js"><link rel="prefetch" href="/assets/js/33.63cef4cf.js"><link rel="prefetch" href="/assets/js/330.24ffcbee.js"><link rel="prefetch" href="/assets/js/331.a96520d0.js"><link rel="prefetch" href="/assets/js/332.2ab02ded.js"><link rel="prefetch" href="/assets/js/333.9c53206e.js"><link rel="prefetch" href="/assets/js/334.82ab6740.js"><link rel="prefetch" href="/assets/js/335.befe3cfa.js"><link rel="prefetch" href="/assets/js/336.d25a0075.js"><link rel="prefetch" href="/assets/js/337.5470fffe.js"><link rel="prefetch" href="/assets/js/338.c7035e51.js"><link rel="prefetch" href="/assets/js/339.078d481b.js"><link rel="prefetch" href="/assets/js/34.e9fab6c6.js"><link rel="prefetch" href="/assets/js/340.56812f94.js"><link rel="prefetch" href="/assets/js/341.eebcaa2d.js"><link rel="prefetch" href="/assets/js/342.66c9bf55.js"><link rel="prefetch" href="/assets/js/343.ff29ebc0.js"><link rel="prefetch" href="/assets/js/344.a23a97d5.js"><link rel="prefetch" href="/assets/js/345.15574c08.js"><link rel="prefetch" href="/assets/js/346.d0e88891.js"><link rel="prefetch" href="/assets/js/347.90e64aba.js"><link rel="prefetch" href="/assets/js/348.f0331f46.js"><link rel="prefetch" href="/assets/js/349.adc617d8.js"><link rel="prefetch" href="/assets/js/35.7e1c8272.js"><link rel="prefetch" href="/assets/js/350.deb7e702.js"><link rel="prefetch" href="/assets/js/351.ec9c7876.js"><link rel="prefetch" href="/assets/js/352.d4318187.js"><link rel="prefetch" href="/assets/js/353.f04aa71e.js"><link rel="prefetch" href="/assets/js/354.bd0dc778.js"><link rel="prefetch" href="/assets/js/355.007c2988.js"><link rel="prefetch" href="/assets/js/356.603f22c6.js"><link rel="prefetch" href="/assets/js/357.ca028457.js"><link rel="prefetch" href="/assets/js/358.2cd44183.js"><link rel="prefetch" href="/assets/js/359.3875a61a.js"><link rel="prefetch" href="/assets/js/36.96b5a13c.js"><link rel="prefetch" href="/assets/js/360.9a2cdb73.js"><link rel="prefetch" href="/assets/js/361.a504b34c.js"><link rel="prefetch" href="/assets/js/362.d73ece78.js"><link rel="prefetch" href="/assets/js/363.3ac4a24f.js"><link rel="prefetch" href="/assets/js/364.e72893b8.js"><link rel="prefetch" href="/assets/js/365.ef0a1fe0.js"><link rel="prefetch" href="/assets/js/366.ef670a0d.js"><link rel="prefetch" href="/assets/js/367.e2de743b.js"><link rel="prefetch" href="/assets/js/368.afa677bd.js"><link rel="prefetch" href="/assets/js/369.13bfebe4.js"><link rel="prefetch" href="/assets/js/37.84413b94.js"><link rel="prefetch" href="/assets/js/370.0b3c7fba.js"><link rel="prefetch" href="/assets/js/371.0bb607f2.js"><link rel="prefetch" href="/assets/js/372.78b3563c.js"><link rel="prefetch" href="/assets/js/373.be0436fc.js"><link rel="prefetch" href="/assets/js/374.990d11ad.js"><link rel="prefetch" href="/assets/js/375.e529f869.js"><link rel="prefetch" href="/assets/js/376.dbfdc942.js"><link rel="prefetch" href="/assets/js/377.197ad929.js"><link rel="prefetch" href="/assets/js/378.ab0aca79.js"><link rel="prefetch" href="/assets/js/379.bd30a493.js"><link rel="prefetch" href="/assets/js/38.4a9c2059.js"><link rel="prefetch" href="/assets/js/380.f690cf84.js"><link rel="prefetch" href="/assets/js/381.9be3b00a.js"><link rel="prefetch" href="/assets/js/382.b1b7206d.js"><link rel="prefetch" href="/assets/js/383.b6efb9ad.js"><link rel="prefetch" href="/assets/js/384.796e2273.js"><link rel="prefetch" href="/assets/js/385.d1288fd0.js"><link rel="prefetch" href="/assets/js/386.d7717f33.js"><link rel="prefetch" href="/assets/js/387.8d2dfffa.js"><link rel="prefetch" href="/assets/js/388.08da0a7b.js"><link rel="prefetch" href="/assets/js/389.f05365bc.js"><link rel="prefetch" href="/assets/js/39.403dae81.js"><link rel="prefetch" href="/assets/js/390.ac599b8c.js"><link rel="prefetch" href="/assets/js/391.739febb8.js"><link rel="prefetch" href="/assets/js/392.ef8ebf35.js"><link rel="prefetch" href="/assets/js/393.c8fc3179.js"><link rel="prefetch" href="/assets/js/394.e988becf.js"><link rel="prefetch" href="/assets/js/395.d0d9c365.js"><link rel="prefetch" href="/assets/js/396.cc00fb85.js"><link rel="prefetch" href="/assets/js/397.7effc21e.js"><link rel="prefetch" href="/assets/js/398.ea2e2eb2.js"><link rel="prefetch" href="/assets/js/399.1a13c999.js"><link rel="prefetch" href="/assets/js/4.291f8f7c.js"><link rel="prefetch" href="/assets/js/40.cd27e419.js"><link rel="prefetch" href="/assets/js/400.09c63159.js"><link rel="prefetch" href="/assets/js/401.8a7c5f47.js"><link rel="prefetch" href="/assets/js/402.d8104504.js"><link rel="prefetch" href="/assets/js/403.ef09d216.js"><link rel="prefetch" href="/assets/js/404.63458cb8.js"><link rel="prefetch" href="/assets/js/405.ee2e1b1d.js"><link rel="prefetch" href="/assets/js/406.9d8655e8.js"><link rel="prefetch" href="/assets/js/407.727ab3e0.js"><link rel="prefetch" href="/assets/js/408.ae772629.js"><link rel="prefetch" href="/assets/js/409.2e8c1ae2.js"><link rel="prefetch" href="/assets/js/41.7dda39e1.js"><link rel="prefetch" href="/assets/js/410.0371ffa6.js"><link rel="prefetch" href="/assets/js/411.4d48deb3.js"><link rel="prefetch" href="/assets/js/412.adee52e1.js"><link rel="prefetch" href="/assets/js/413.ee5e4162.js"><link rel="prefetch" href="/assets/js/414.b4b3916d.js"><link rel="prefetch" href="/assets/js/415.dab2b1b4.js"><link rel="prefetch" href="/assets/js/416.d53509f8.js"><link rel="prefetch" href="/assets/js/417.3b89f40e.js"><link rel="prefetch" href="/assets/js/418.82eaf4a8.js"><link rel="prefetch" href="/assets/js/419.c6d09732.js"><link rel="prefetch" href="/assets/js/42.f9dada26.js"><link rel="prefetch" href="/assets/js/420.727600bd.js"><link rel="prefetch" href="/assets/js/421.a490735e.js"><link rel="prefetch" href="/assets/js/422.aa024c3d.js"><link rel="prefetch" href="/assets/js/423.717b8375.js"><link rel="prefetch" href="/assets/js/424.7dc50492.js"><link rel="prefetch" href="/assets/js/425.28a2538d.js"><link rel="prefetch" href="/assets/js/426.7815d3f6.js"><link rel="prefetch" href="/assets/js/427.6574b84e.js"><link rel="prefetch" href="/assets/js/428.8c317439.js"><link rel="prefetch" href="/assets/js/429.ecc892dd.js"><link rel="prefetch" href="/assets/js/43.d21c5c38.js"><link rel="prefetch" href="/assets/js/430.ff3137ff.js"><link rel="prefetch" href="/assets/js/431.7d92dbe3.js"><link rel="prefetch" href="/assets/js/432.cdbb78b0.js"><link rel="prefetch" href="/assets/js/433.79e7c3cb.js"><link rel="prefetch" href="/assets/js/434.b1cf1617.js"><link rel="prefetch" href="/assets/js/435.61721e62.js"><link rel="prefetch" href="/assets/js/436.d2bf84ce.js"><link rel="prefetch" href="/assets/js/437.91f6dd5b.js"><link rel="prefetch" href="/assets/js/438.4aed3b34.js"><link rel="prefetch" href="/assets/js/439.e508656b.js"><link rel="prefetch" href="/assets/js/44.2cc2766c.js"><link rel="prefetch" href="/assets/js/440.b9961801.js"><link rel="prefetch" href="/assets/js/441.4ec98db2.js"><link rel="prefetch" href="/assets/js/442.a62046a8.js"><link rel="prefetch" href="/assets/js/443.8fa6f1b9.js"><link rel="prefetch" href="/assets/js/444.45ec367f.js"><link rel="prefetch" href="/assets/js/445.40e10642.js"><link rel="prefetch" href="/assets/js/446.d2ed8f0a.js"><link rel="prefetch" href="/assets/js/447.763c95b1.js"><link rel="prefetch" href="/assets/js/448.128cc026.js"><link rel="prefetch" href="/assets/js/449.21b2ac85.js"><link rel="prefetch" href="/assets/js/45.8d59df20.js"><link rel="prefetch" href="/assets/js/450.9b7cbae4.js"><link rel="prefetch" href="/assets/js/451.4a82eb4a.js"><link rel="prefetch" href="/assets/js/452.8e6a595a.js"><link rel="prefetch" href="/assets/js/453.0efc44f7.js"><link rel="prefetch" href="/assets/js/454.f1d9e9ec.js"><link rel="prefetch" href="/assets/js/455.af087bdc.js"><link rel="prefetch" href="/assets/js/456.4fdbb29d.js"><link rel="prefetch" href="/assets/js/457.8fce50dc.js"><link rel="prefetch" href="/assets/js/458.e7577594.js"><link rel="prefetch" href="/assets/js/459.01b979c5.js"><link rel="prefetch" href="/assets/js/46.120ac28c.js"><link rel="prefetch" href="/assets/js/460.31c1b52e.js"><link rel="prefetch" href="/assets/js/461.2f357456.js"><link rel="prefetch" href="/assets/js/462.1fcc9ca9.js"><link rel="prefetch" href="/assets/js/463.abe0f9f5.js"><link rel="prefetch" href="/assets/js/464.1d6ff60b.js"><link rel="prefetch" href="/assets/js/465.2bf84cad.js"><link rel="prefetch" href="/assets/js/466.38fcc001.js"><link rel="prefetch" href="/assets/js/467.4275d866.js"><link rel="prefetch" href="/assets/js/468.e0ac717a.js"><link rel="prefetch" href="/assets/js/469.1987e4c4.js"><link rel="prefetch" href="/assets/js/47.0d7d1100.js"><link rel="prefetch" href="/assets/js/470.d15dbe05.js"><link rel="prefetch" href="/assets/js/471.d663acea.js"><link rel="prefetch" href="/assets/js/472.812c33c4.js"><link rel="prefetch" href="/assets/js/473.18945ea3.js"><link rel="prefetch" href="/assets/js/474.fc248ae1.js"><link rel="prefetch" href="/assets/js/475.2220c95d.js"><link rel="prefetch" href="/assets/js/476.32678451.js"><link rel="prefetch" href="/assets/js/477.5f2f7986.js"><link rel="prefetch" href="/assets/js/478.d1163de4.js"><link rel="prefetch" href="/assets/js/48.69e848d6.js"><link rel="prefetch" href="/assets/js/49.bed0b499.js"><link rel="prefetch" href="/assets/js/5.ee104b00.js"><link rel="prefetch" href="/assets/js/50.182cc8fd.js"><link rel="prefetch" href="/assets/js/51.240e72ac.js"><link rel="prefetch" href="/assets/js/52.92ec3c91.js"><link rel="prefetch" href="/assets/js/53.14d81771.js"><link rel="prefetch" href="/assets/js/54.ad98faee.js"><link rel="prefetch" href="/assets/js/55.d8c5d39e.js"><link rel="prefetch" href="/assets/js/56.a73adb50.js"><link rel="prefetch" href="/assets/js/57.116b2c4e.js"><link rel="prefetch" href="/assets/js/58.f029f70b.js"><link rel="prefetch" href="/assets/js/59.46da176c.js"><link rel="prefetch" href="/assets/js/6.67fdd29b.js"><link rel="prefetch" href="/assets/js/60.f0b33a61.js"><link rel="prefetch" href="/assets/js/61.6e541786.js"><link rel="prefetch" href="/assets/js/62.79a43417.js"><link rel="prefetch" href="/assets/js/63.fdb19bf0.js"><link rel="prefetch" href="/assets/js/64.b5801ea1.js"><link rel="prefetch" href="/assets/js/65.1231b059.js"><link rel="prefetch" href="/assets/js/66.c553f021.js"><link rel="prefetch" href="/assets/js/67.8f23acbd.js"><link rel="prefetch" href="/assets/js/68.d968e67c.js"><link rel="prefetch" href="/assets/js/69.c24c6c77.js"><link rel="prefetch" href="/assets/js/7.ead19e0d.js"><link rel="prefetch" href="/assets/js/70.5034fb46.js"><link rel="prefetch" href="/assets/js/71.be3bda5e.js"><link rel="prefetch" href="/assets/js/72.0d67e610.js"><link rel="prefetch" href="/assets/js/73.f09d2b7c.js"><link rel="prefetch" href="/assets/js/74.d6abc00c.js"><link rel="prefetch" href="/assets/js/75.02b40c78.js"><link rel="prefetch" href="/assets/js/76.07a54c55.js"><link rel="prefetch" href="/assets/js/77.f2183f93.js"><link rel="prefetch" href="/assets/js/78.1cbfe6cd.js"><link rel="prefetch" href="/assets/js/79.375a1dc6.js"><link rel="prefetch" href="/assets/js/80.81157f7e.js"><link rel="prefetch" href="/assets/js/81.bf40ee42.js"><link rel="prefetch" href="/assets/js/82.e7f0836d.js"><link rel="prefetch" href="/assets/js/83.dbc5a29d.js"><link rel="prefetch" href="/assets/js/84.50871f79.js"><link rel="prefetch" href="/assets/js/85.ce01d5c5.js"><link rel="prefetch" href="/assets/js/86.5fc9bc7d.js"><link rel="prefetch" href="/assets/js/87.a412b96c.js"><link rel="prefetch" href="/assets/js/88.360c711a.js"><link rel="prefetch" href="/assets/js/89.ed2bda9d.js"><link rel="prefetch" href="/assets/js/90.2ecd77c8.js"><link rel="prefetch" href="/assets/js/91.f9dfd823.js"><link rel="prefetch" href="/assets/js/92.e7b8fd77.js"><link rel="prefetch" href="/assets/js/93.2d3131ab.js"><link rel="prefetch" href="/assets/js/94.82a7f530.js"><link rel="prefetch" href="/assets/js/95.36bfa138.js"><link rel="prefetch" href="/assets/js/96.e306546f.js"><link rel="prefetch" href="/assets/js/97.4f104980.js"><link rel="prefetch" href="/assets/js/98.69344392.js"><link rel="prefetch" href="/assets/js/99.e0ebee3b.js"><link rel="prefetch" href="/assets/js/vendors~docsearch.6f140a46.js">
    <link rel="stylesheet" href="/assets/css/0.styles.060b550a.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">web</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link">
  首页
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="前端" class="dropdown-title"><span class="title">前端</span> <span class="arrow down"></span></button> <button type="button" aria-label="前端" class="mobile-dropdown-title"><span class="title">前端</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/ajax/" class="nav-link">
  ajax
</a></li><li class="dropdown-item"><!----> <a href="/angular/" class="nav-link">
  angular
</a></li><li class="dropdown-item"><!----> <a href="/3d/" class="nav-link router-link-active">
  3d
</a></li><li class="dropdown-item"><!----> <a href="/basic/" class="nav-link">
  basic
</a></li><li class="dropdown-item"><!----> <a href="/canvas/" class="nav-link">
  canvas
</a></li><li class="dropdown-item"><!----> <a href="/chart/" class="nav-link">
  chart
</a></li><li class="dropdown-item"><!----> <a href="/css/" class="nav-link">
  css
</a></li><li class="dropdown-item"><!----> <a href="/d3/" class="nav-link">
  d3
</a></li><li class="dropdown-item"><!----> <a href="/es6/" class="nav-link">
  es6
</a></li><li class="dropdown-item"><!----> <a href="/fast/" class="nav-link">
  fast
</a></li><li class="dropdown-item"><!----> <a href="/htmlcss/" class="nav-link">
  htmlcss
</a></li><li class="dropdown-item"><!----> <a href="/jsstore/" class="nav-link">
  jsstore
</a></li><li class="dropdown-item"><!----> <a href="/object/" class="nav-link">
  object
</a></li><li class="dropdown-item"><!----> <a href="/plugin/" class="nav-link">
  plugin
</a></li><li class="dropdown-item"><!----> <a href="/react/" class="nav-link">
  react
</a></li><li class="dropdown-item"><!----> <a href="/svg/" class="nav-link">
  svg
</a></li><li class="dropdown-item"><!----> <a href="/ssr/" class="nav-link">
  ssr
</a></li><li class="dropdown-item"><!----> <a href="/test/" class="nav-link">
  test
</a></li><li class="dropdown-item"><!----> <a href="/typescript/" class="nav-link">
  Typescript
</a></li><li class="dropdown-item"><!----> <a href="/ui/" class="nav-link">
  ui
</a></li><li class="dropdown-item"><!----> <a href="/vue/" class="nav-link">
  vue
</a></li><li class="dropdown-item"><!----> <a href="/webdb/" class="nav-link">
  webdb
</a></li><li class="dropdown-item"><!----> <a href="/webpack/" class="nav-link">
  webpack
</a></li><li class="dropdown-item"><!----> <a href="/webrtc/" class="nav-link">
  webrtc
</a></li><li class="dropdown-item"><!----> <a href="/wx/" class="nav-link">
  wx
</a></li><li class="dropdown-item"><!----> <a href="/phone/" class="nav-link">
  phone
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="后端" class="dropdown-title"><span class="title">后端</span> <span class="arrow down"></span></button> <button type="button" aria-label="后端" class="mobile-dropdown-title"><span class="title">后端</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/node/" class="nav-link">
  node
</a></li><li class="dropdown-item"><!----> <a href="/koa/" class="nav-link">
  koa
</a></li><li class="dropdown-item"><!----> <a href="/mongo/" class="nav-link">
  mongo
</a></li><li class="dropdown-item"><!----> <a href="/mysql/" class="nav-link">
  mysql
</a></li><li class="dropdown-item"><!----> <a href="/http/" class="nav-link">
  http
</a></li><li class="dropdown-item"><!----> <a href="/nginx/" class="nav-link">
  nginx
</a></li><li class="dropdown-item"><!----> <a href="/other/" class="nav-link">
  other
</a></li><li class="dropdown-item"><!----> <a href="/python/" class="nav-link">
  python
</a></li><li class="dropdown-item"><!----> <a href="/mk/" class="nav-link">
  mk
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="其他" class="dropdown-title"><span class="title">其他</span> <span class="arrow down"></span></button> <button type="button" aria-label="其他" class="mobile-dropdown-title"><span class="title">其他</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/reactnative/" class="nav-link">
  reactnative
</a></li><li class="dropdown-item"><!----> <a href="/hmos/" class="nav-link">
  hmos
</a></li><li class="dropdown-item"><!----> <a href="/book/" class="nav-link">
  book
</a></li><li class="dropdown-item"><!----> <a href="/confusing/" class="nav-link">
  confusing
</a></li><li class="dropdown-item"><!----> <a href="/tool/" class="nav-link">
  tool
</a></li><li class="dropdown-item"><!----> <a href="/increase/" class="nav-link">
  increase
</a></li><li class="dropdown-item"><!----> <a href="/write/" class="nav-link">
  write
</a></li><li class="dropdown-item"><!----> <a href="/interview/" class="nav-link">
  interview
</a></li><li class="dropdown-item"><!----> <a href="https://github.com/weishell/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  github
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://gitee.com/weishell/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  gitee
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></div></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link">
  首页
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="前端" class="dropdown-title"><span class="title">前端</span> <span class="arrow down"></span></button> <button type="button" aria-label="前端" class="mobile-dropdown-title"><span class="title">前端</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/ajax/" class="nav-link">
  ajax
</a></li><li class="dropdown-item"><!----> <a href="/angular/" class="nav-link">
  angular
</a></li><li class="dropdown-item"><!----> <a href="/3d/" class="nav-link router-link-active">
  3d
</a></li><li class="dropdown-item"><!----> <a href="/basic/" class="nav-link">
  basic
</a></li><li class="dropdown-item"><!----> <a href="/canvas/" class="nav-link">
  canvas
</a></li><li class="dropdown-item"><!----> <a href="/chart/" class="nav-link">
  chart
</a></li><li class="dropdown-item"><!----> <a href="/css/" class="nav-link">
  css
</a></li><li class="dropdown-item"><!----> <a href="/d3/" class="nav-link">
  d3
</a></li><li class="dropdown-item"><!----> <a href="/es6/" class="nav-link">
  es6
</a></li><li class="dropdown-item"><!----> <a href="/fast/" class="nav-link">
  fast
</a></li><li class="dropdown-item"><!----> <a href="/htmlcss/" class="nav-link">
  htmlcss
</a></li><li class="dropdown-item"><!----> <a href="/jsstore/" class="nav-link">
  jsstore
</a></li><li class="dropdown-item"><!----> <a href="/object/" class="nav-link">
  object
</a></li><li class="dropdown-item"><!----> <a href="/plugin/" class="nav-link">
  plugin
</a></li><li class="dropdown-item"><!----> <a href="/react/" class="nav-link">
  react
</a></li><li class="dropdown-item"><!----> <a href="/svg/" class="nav-link">
  svg
</a></li><li class="dropdown-item"><!----> <a href="/ssr/" class="nav-link">
  ssr
</a></li><li class="dropdown-item"><!----> <a href="/test/" class="nav-link">
  test
</a></li><li class="dropdown-item"><!----> <a href="/typescript/" class="nav-link">
  Typescript
</a></li><li class="dropdown-item"><!----> <a href="/ui/" class="nav-link">
  ui
</a></li><li class="dropdown-item"><!----> <a href="/vue/" class="nav-link">
  vue
</a></li><li class="dropdown-item"><!----> <a href="/webdb/" class="nav-link">
  webdb
</a></li><li class="dropdown-item"><!----> <a href="/webpack/" class="nav-link">
  webpack
</a></li><li class="dropdown-item"><!----> <a href="/webrtc/" class="nav-link">
  webrtc
</a></li><li class="dropdown-item"><!----> <a href="/wx/" class="nav-link">
  wx
</a></li><li class="dropdown-item"><!----> <a href="/phone/" class="nav-link">
  phone
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="后端" class="dropdown-title"><span class="title">后端</span> <span class="arrow down"></span></button> <button type="button" aria-label="后端" class="mobile-dropdown-title"><span class="title">后端</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/node/" class="nav-link">
  node
</a></li><li class="dropdown-item"><!----> <a href="/koa/" class="nav-link">
  koa
</a></li><li class="dropdown-item"><!----> <a href="/mongo/" class="nav-link">
  mongo
</a></li><li class="dropdown-item"><!----> <a href="/mysql/" class="nav-link">
  mysql
</a></li><li class="dropdown-item"><!----> <a href="/http/" class="nav-link">
  http
</a></li><li class="dropdown-item"><!----> <a href="/nginx/" class="nav-link">
  nginx
</a></li><li class="dropdown-item"><!----> <a href="/other/" class="nav-link">
  other
</a></li><li class="dropdown-item"><!----> <a href="/python/" class="nav-link">
  python
</a></li><li class="dropdown-item"><!----> <a href="/mk/" class="nav-link">
  mk
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="其他" class="dropdown-title"><span class="title">其他</span> <span class="arrow down"></span></button> <button type="button" aria-label="其他" class="mobile-dropdown-title"><span class="title">其他</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/reactnative/" class="nav-link">
  reactnative
</a></li><li class="dropdown-item"><!----> <a href="/hmos/" class="nav-link">
  hmos
</a></li><li class="dropdown-item"><!----> <a href="/book/" class="nav-link">
  book
</a></li><li class="dropdown-item"><!----> <a href="/confusing/" class="nav-link">
  confusing
</a></li><li class="dropdown-item"><!----> <a href="/tool/" class="nav-link">
  tool
</a></li><li class="dropdown-item"><!----> <a href="/increase/" class="nav-link">
  increase
</a></li><li class="dropdown-item"><!----> <a href="/write/" class="nav-link">
  write
</a></li><li class="dropdown-item"><!----> <a href="/interview/" class="nav-link">
  interview
</a></li><li class="dropdown-item"><!----> <a href="https://github.com/weishell/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  github
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://gitee.com/weishell/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  gitee
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></div></div> <!----></nav>  <ul class="sidebar-links"><li><a href="/3d/" aria-current="page" class="sidebar-link">3d图形</a></li><li><a href="/3d/01webgpu.html" class="sidebar-link">webgpu</a></li><li><a href="/3d/02threejs.html" class="sidebar-link">theejs项目问题合集</a></li><li><a href="/3d/03ht.html" class="sidebar-link">ht</a></li><li><a href="/3d/04cesium.html" class="sidebar-link">cesium1</a></li><li><a href="/3d/05cesium.html" class="sidebar-link">cesium2</a></li><li><a href="/3d/06cesium.html" class="sidebar-link">cesium3</a></li><li><a href="/3d/07cesiumAPI.html" aria-current="page" class="active sidebar-link">cesiumAPI</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/3d/07cesiumAPI.html#cesium-api" class="sidebar-link">cesium API</a></li></ul></li><li><a href="/3d/08weggl.html" class="sidebar-link">webgl</a></li><li><a href="/3d/babylon1.html" class="sidebar-link">babylobjs基础</a></li><li><a href="/3d/babylon2API.html" class="sidebar-link">babylonjs API</a></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h2 id="cesium-api"><a href="#cesium-api" class="header-anchor">#</a> cesium API</h2> <div class="top"><ul><li><a href="#Global">Global全局</a> <a href="#defaultValue"> defaultValue</a></li></ul> <ul><li><a href="#camera">Camera 相机</a></li> <li><a href="#pickEllipsoid">camera.pickEllipsoid 选择椭圆</a></li> <li><a href="#flyto">camera.flyTo 飞行</a></li> <li><a href="#camera.lookAt">camera.lookAt</a></li> <li><a href="#flyToBoundingSphere">flyToBoundingSphere</a></li> <li><a href="#HeadingPitchRoll">HeadingPitchRoll航向、俯仰、滚动</a></li> <li><a href="#ScreenSpaceCameraController(scene)">ScreenSpaceCameraController(scene)</a></li></ul> <ul><li><a href="#BoundingSphere">BoundingSphere包围球</a></li></ul> <ul><li><a href="#Ellipsoid">Ellipsoid</a></li></ul> <ul><li><a href="#light">light 光源</a></li> <li><a href="#DirectionalLight">DirectionalLight无限远距离的光</a></li> <li><a href="#ImageBasedLighting">ImageBasedLighting</a></li></ul> <ul><li><a href="#IonResource">IonResource</a></li></ul> <ul><li><a href="#Cesium3DTileset">Cesium3DTileset瓦片集</a></li> <li><a href="#Cesium3DTileStyle">Cesium3DTileStyle</a></li></ul> <ul><li><a href="#Transforms">Transforms转换</a></li></ul> <ul><li><a href="#cartesian2">Cartesian2</a></li> <li><a href="#cartesian3">Cartesian3 笛卡尔坐标</a></li> <li><a href="#cartesian3fromDegreesArray">Cartesian3.fromDegreesArray经纬度转笛卡尔坐标[静态]</a></li> <li><a href="#Cartesian3.fromDegreesArrayHeights">Cartesian3.fromDegreesArrayHeights</a></li> <li><a href="#Cartesian3.fromDegrees">Cartesian3.fromDegrees单个经纬度转笛卡尔坐标</a></li> <li><a href="#Cartesian3.clamp">Cartesian3.clamp</a></li> <li><a href="#Cartesian3.lerp">Cartesian3.lerp插值</a></li> <li><a href="#Cartesian3.magnitude">Cartesian3.magnitude</a></li></ul> <ul><li><a href="#Quaternion">Quaternion四元数</a></li></ul> <ul><li><a href="#cartographic">Cartographic 制图位置</a> <a href="#fromCartesian">Cartographic.fromCartesian 笛卡尔位置转弧度</a> <a href="#fromDegrees">Cartographic.fromDegrees 笛卡尔位置转弧度</a></li></ul> <ul><li><a href="#viewer">Viewer 视图</a></li> <li><a href="#viewer.flytTo">viewer.flytTo</a></li> <li><a href="#viewerentities">viewer.entities实体</a></li> <li><a href="#viewerbaseLayer">viewer.baseLayer 图层</a></li> <li><a href="#viewer.extend">viewer.extend</a></li> <li><a href="#resolutionScale">resolutionScale渲染分辨率的缩放因子</a></li> <li><a href="#selectedEntity">selectedEntity</a></li> <li><a href="#selectedEntityChanged">selectedEntityChanged</a></li></ul> <ul><li><a href="#Model">Model 模型</a></li> <li><a href="#Model.fromGltfAsync">Model.fromGltfAsync</a></li> <li><a href="#model.readyEvent">model.readyEvent</a></li> <li><a href="#model.boundingSphere">model.boundingSphere模型边界球体</a></li></ul> <ul><li><a href="#VoxelShapeType">VoxelShapeType体素形状枚举[非标准]</a></li> <li><a href="#MetadataType">MetadataType元数据类型[非标准]</a></li> <li><a href="#MetadataComponentType">MetadataComponentType元数据组件枚举[非标准]</a></li></ul> <ul><li><a href="#WebMapTileServiceImageryProvider">WebMapTileServiceImageryProvider</a></li></ul> <ul><li><a href="#Terrain">Terrain地形</a></li></ul> <ul><li><a href="#primitive">Primitive 图元</a></li> <li><a href="#polygonGeometry">PolygonGeometry 描述几何体</a></li> <li><a href="#PolygonGeometryCreateGeometry">PolygonGeometry.createGeometry定义计算几何体[静态]</a></li> <li><a href="#polylineGeometry">polygonHierarchy</a></li> <li><a href="#perInstanceColorAppearance">PerInstanceColorAppearance</a></li> <li><a href="#PolylineCollection">PolylineCollection 线段集合</a></li></ul> <ul><li><a href="#geometryInstance">GeometryInstance 几何实例化</a></li> <li><a href="#colorGeometryInstanceAttribute">ColorGeometryInstanceAttribute颜色附着几何体</a></li> <li><a href="#colorGeometryInstanceAttributeColor">ColorGeometryInstanceAttribute.fromColor根据color设置</a></li> <li><a href="#ColorGeometryInstanceAttributetoValue">ColorGeometryInstanceAttribute.toValue颜色转换为可分配颜色属性</a></li> <li><a href="#ShowGeometryInstanceAttribute">ShowGeometryInstanceAttribute几何体实例是否可见</a></li></ul> <ul><li><a href="#Material">Material 材质</a></li></ul> <ul><li><a href="#appearance">appearance外观</a></li></ul> <ul><li><a href="#Property">Property属性设置</a></li></ul> <ul><li><a href="#event">Event 事件</a></li> <li><a href="#screenSpaceEventHandler">ScreenSpaceEventHandler 事件处理</a></li> <li><a href="#setInputAction">setInputAction 设置输入动作</a></li> <li><a href="#ScreenSpaceEventTyp">ScreenSpaceEventTyp鼠标枚举</a></li></ul> <ul><li><a href="#scene">Scene 场景</a></li> <li><a href="#pick">pick</a></li> <li><a href="#primitive">Primitive 图元</a></li> <li><a href="#geometryInstances">geometryInstances</a></li> <li><a href="#VoxelPrimitive">VoxelPrimitive[非标准]</a></li> <li><a href="#debugShowFramesPerSecond">debugShowFramesPerSecond</a></li> <li><a href="#specularEnvironmentMapsSupported">specularEnvironmentMapsSupported是否镜面环境贴图支持</a></li> <li><a href="#skybox">skyBox 天空盒</a></li> <li><a href="#globe">globe 地球本身</a></li> <li><a href="#postProcessStages">scene.postProcessStages 渲染的后处理效果</a></li> <li><a href="#ScreenSpaceCameraController">ScreenSpaceCameraController用户操作交互</a></li></ul> <ul><li><a href="#skybox">skyBox 天空盒</a></li></ul> <ul><li><a href="#globe">globe 地球本身</a></li> <li><a href="#enableLighting">enableLighting 启用光照[属性]</a></li></ul> <ul><li><a href="#CallbackProperty(callback, isConstant)">CallbackProperty(callback, isConstant)属性回调函数</a></li> <li><a href="#SampledPositionProperty">SampledPositionProperty</a></li> <li><a href="#VelocityVectorProperty">VelocityVectorProperty</a></li> <li><a href="#SampledProperty">SampledProperty取样</a></li> <li><a href="#NodeTransformationProperty">NodeTransformationProperty</a></li></ul> <ul><li><a href="#color">Color 颜色</a></li> <li><a href="#coloralpha">Color.fromAlpha 透明度修改</a></li> <li><a href="#Color.fromHsl">Color.fromHsl</a></li> <li><a href="#Color.clone">Color.clone</a></li> <li><a href="#colorconst">Color[const] color默认的常量颜色</a></li></ul> <ul><li><a href="#ColorBlendMode">ColorBlendMode 颜色混合模式</a></li></ul> <ul><li><a href="#Math">Math</a></li> <li><a href="#Matrix">Matrix矩阵</a></li></ul> <ul><li><a href="#defined">defined</a></li></ul> <ul><li><a href="#Cesium3DTileFeature">Cesium3DTileFeature</a></li></ul> <ul><li><a href="#featureDetection">FeatureDetection 特性检测</a></li> <li><a href="#supportsImageRenderingPixelated">FeatureDetection.supportsImageRenderingPixelated[静态]</a></li></ul> <ul><li><a href="#glslcesium">glsl在cesium中应用</a></li> <li><a href="#Cesium.CustomShader">Cesium.CustomShader自定义着色器[非标准]</a></li></ul> <ul><li><a href="#infoBox">infoBox</a></li></ul> <ul><li><a href="#clock">clock 时钟</a></li> <li><a href="#JulianDate">JulianDate</a></li> <li><a href="#TimeIntervalCollection">TimeIntervalCollection</a></li> <li><a href="#timeline">timeline时间线</a></li></ul> <ul><li><a href="#VideoSynchronizer">VideoSynchronizer视频元素与模拟时钟同步</a></li></ul> <ul><li><a href="#knockout">knockout</a></li></ul> <ul><li><a href="#viewerCesium3DTilesInspectorMixin">viewerCesium3DTilesInspectorMixin</a></li> <li><a href="#VoxelInspector">VoxelInspector</a></li></ul></div> <p><a name="Global">Global全局</a>
设置全局属性和方法</p> <p><a name="#defaultValue">defaultValue</a>
默认值。</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// 使用 Cesium.defaultValue 来获取 'color'，如果未定义则使用 '#FFFFFF'（白色）  </span>
<span class="token keyword">var</span> color <span class="token operator">=</span> Cesium<span class="token punctuation">.</span><span class="token function">defaultValue</span><span class="token punctuation">(</span>options<span class="token punctuation">.</span>color<span class="token punctuation">,</span> <span class="token string">'#FFFFFF'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  
</code></pre></div><p><a name="camera">Camera 相机</a>
相机由位置、方向和视图截头体定义。</p> <p>方向与视图形成标准正交基，向上和向右=视图x向上单位向量。</p> <p>观察截头体由6个平面定义。 每个平面由一个Cartesian4对象表示，其中x、y和z分量 定义垂直于平面的单位向量，w组件是 从原点/相机位置的平面。</p> <ul><li>camera.frustum.near：相机近裁剪面距离</li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// Create a camera looking down the negative z-axis, positioned at the origin,</span>
<span class="token comment">// with a field of view of 60 degrees, and 1:1 aspect ratio.</span>
<span class="token keyword">const</span> camera <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Cesium<span class="token punctuation">.</span>Camera</span><span class="token punctuation">(</span>scene<span class="token punctuation">)</span><span class="token punctuation">;</span>
camera<span class="token punctuation">.</span>position <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Cesium<span class="token punctuation">.</span>Cartesian3</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
camera<span class="token punctuation">.</span>direction <span class="token operator">=</span> Cesium<span class="token punctuation">.</span>Cartesian3<span class="token punctuation">.</span><span class="token function">negate</span><span class="token punctuation">(</span>Cesium<span class="token punctuation">.</span>Cartesian3<span class="token punctuation">.</span><span class="token constant">UNIT_Z</span><span class="token punctuation">,</span> <span class="token keyword">new</span> <span class="token class-name">Cesium<span class="token punctuation">.</span>Cartesian3</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
camera<span class="token punctuation">.</span>up <span class="token operator">=</span> Cesium<span class="token punctuation">.</span>Cartesian3<span class="token punctuation">.</span><span class="token function">clone</span><span class="token punctuation">(</span>Cesium<span class="token punctuation">.</span>Cartesian3<span class="token punctuation">.</span><span class="token constant">UNIT_Y</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
camera<span class="token punctuation">.</span>frustum<span class="token punctuation">.</span>fov <span class="token operator">=</span> Cesium<span class="token punctuation">.</span>Math<span class="token punctuation">.</span><span class="token constant">PI_OVER_THREE</span><span class="token punctuation">;</span>
camera<span class="token punctuation">.</span>frustum<span class="token punctuation">.</span>near <span class="token operator">=</span> <span class="token number">1.0</span><span class="token punctuation">;</span>
camera<span class="token punctuation">.</span>frustum<span class="token punctuation">.</span>far <span class="token operator">=</span> <span class="token number">2.0</span><span class="token punctuation">;</span>
</code></pre></div><p><a name="pickEllipsoid">camera.pickEllipsoid</a></p> <table><thead><tr><th>Name</th> <th>Type</th> <th>Default</th> <th>Description</th></tr></thead> <tbody><tr><td>windowPosition</td> <td>Cartesian2</td> <td>-</td> <td>The x and y coordinates of a pixel.</td></tr> <tr><td>ellipsoid</td> <td>Ellipsoid</td> <td>Ellipsoid.default</td> <td>optional The ellipsoid to pick.</td></tr> <tr><td>result</td> <td>Cartesian3</td> <td>-</td> <td>optional The object onto which to store the result.</td></tr></tbody></table> <p>选择一个椭球或地图。如果选择了椭球体或地图，则返回世界坐标（笛卡尔/空间直角坐标）中椭球体或地图表面的点。如果未选择椭球体或地图，则返回undefined。</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> result <span class="token operator">=</span> viewer<span class="token punctuation">.</span>camera<span class="token punctuation">.</span><span class="token function">pickEllipsoid</span><span class="token punctuation">(</span>center<span class="token punctuation">,</span> ellipsoid<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p><a name="flyto">camera.flyTo 飞行动画</a></p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> Cartesian3<span class="token punctuation">,</span> Math <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;cesium&quot;</span><span class="token punctuation">;</span>

viewer<span class="token punctuation">.</span>camera<span class="token punctuation">.</span><span class="token function">flyTo</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    <span class="token comment">// 目的地</span>
    <span class="token literal-property property">destination</span><span class="token operator">:</span> Cartesian3<span class="token punctuation">.</span><span class="token function">fromDegrees</span><span class="token punctuation">(</span><span class="token number">120.47</span><span class="token punctuation">,</span> <span class="token number">36.3</span><span class="token punctuation">,</span> <span class="token number">350000</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token comment">// 姿态</span>
    <span class="token literal-property property">orientation</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token literal-property property">heading</span><span class="token operator">:</span> Math<span class="token punctuation">.</span><span class="token function">toRadians</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        <span class="token literal-property property">pitch</span><span class="token operator">:</span> Math<span class="token punctuation">.</span><span class="token function">toRadians</span><span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">90</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        <span class="token literal-property property">roll</span><span class="token operator">:</span> <span class="token number">0.0</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
	<span class="token comment">// 或者 </span>
	<span class="token literal-property property">orientation</span><span class="token operator">:</span> <span class="token punctuation">{</span>
	  <span class="token comment">//表示相机应该面向的方向</span>
	  <span class="token literal-property property">direction</span><span class="token operator">:</span> cameraTransform<span class="token punctuation">.</span>direction<span class="token punctuation">,</span>
	  <span class="token comment">//表示相机上方应该指向的方向。这通常用于定义相机的垂直方向，以确保相机不会翻滚或倾斜到不期望的角度。</span>
	  <span class="token literal-property property">up</span><span class="token operator">:</span> cameraTransform<span class="token punctuation">.</span>up<span class="token punctuation">,</span>
	<span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token comment">// 持续时间</span>
    <span class="token literal-property property">duration</span><span class="token operator">:</span><span class="token number">3</span><span class="token punctuation">,</span>
	<span class="token comment">//定义了相机飞行过程中的缓动效果。</span>
	<span class="token literal-property property">easingFunction</span><span class="token operator">:</span>Cesium<span class="token punctuation">.</span>EasingFunction<span class="token punctuation">.</span><span class="token constant">QUADRATIC_IN_OUT</span>
    <span class="token comment">//......</span>
	<span class="token literal-property property">endTransform</span><span class="token operator">:</span>Cesium<span class="token punctuation">.</span>Matrix4<span class="token punctuation">.</span><span class="token constant">IDENTITY</span><span class="token comment">//表示飞行完成时相机将处于的参考帧的变换矩阵。</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// 1. Fly to a position with a top-down view 飞到有自上而下视野的位置</span>
viewer<span class="token punctuation">.</span>camera<span class="token punctuation">.</span><span class="token function">flyTo</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    <span class="token literal-property property">destination</span> <span class="token operator">:</span> Cesium<span class="token punctuation">.</span>Cartesian3<span class="token punctuation">.</span><span class="token function">fromDegrees</span><span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">117.16</span><span class="token punctuation">,</span> <span class="token number">32.71</span><span class="token punctuation">,</span> <span class="token number">15000.0</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// 2. Fly to a Rectangle with a top-down view 飞到有自上而下视野的位置</span>
viewer<span class="token punctuation">.</span>camera<span class="token punctuation">.</span><span class="token function">flyTo</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    <span class="token literal-property property">destination</span> <span class="token operator">:</span> Cesium<span class="token punctuation">.</span>Rectangle<span class="token punctuation">.</span><span class="token function">fromDegrees</span><span class="token punctuation">(</span>west<span class="token punctuation">,</span> south<span class="token punctuation">,</span> east<span class="token punctuation">,</span> north<span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// 3. Fly to a position with an orientation using unit vectors. 使用单位向量飞到具有方向的位置</span>
viewer<span class="token punctuation">.</span>camera<span class="token punctuation">.</span><span class="token function">flyTo</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    <span class="token literal-property property">destination</span> <span class="token operator">:</span> Cesium<span class="token punctuation">.</span>Cartesian3<span class="token punctuation">.</span><span class="token function">fromDegrees</span><span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">122.19</span><span class="token punctuation">,</span> <span class="token number">46.25</span><span class="token punctuation">,</span> <span class="token number">5000.0</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token literal-property property">orientation</span> <span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token literal-property property">direction</span> <span class="token operator">:</span> <span class="token keyword">new</span> <span class="token class-name">Cesium<span class="token punctuation">.</span>Cartesian3</span><span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">0.04231243104240401</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">0.20123236049443421</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">0.97862924300734</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        <span class="token literal-property property">up</span> <span class="token operator">:</span> <span class="token keyword">new</span> <span class="token class-name">Cesium<span class="token punctuation">.</span>Cartesian3</span><span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">0.47934589305293746</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">0.8553216253114552</span><span class="token punctuation">,</span> <span class="token number">0.1966022179118339</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// 4. Fly to a position with an orientation using heading, pitch and roll. 使用航向、俯仰和滚动飞到一个有方向的位置</span>
viewer<span class="token punctuation">.</span>camera<span class="token punctuation">.</span><span class="token function">flyTo</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    <span class="token literal-property property">destination</span> <span class="token operator">:</span> Cesium<span class="token punctuation">.</span>Cartesian3<span class="token punctuation">.</span><span class="token function">fromDegrees</span><span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">122.19</span><span class="token punctuation">,</span> <span class="token number">46.25</span><span class="token punctuation">,</span> <span class="token number">5000.0</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token literal-property property">orientation</span> <span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token literal-property property">heading</span> <span class="token operator">:</span> Cesium<span class="token punctuation">.</span>Math<span class="token punctuation">.</span><span class="token function">toRadians</span><span class="token punctuation">(</span><span class="token number">175.0</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        <span class="token literal-property property">pitch</span> <span class="token operator">:</span> Cesium<span class="token punctuation">.</span>Math<span class="token punctuation">.</span><span class="token function">toRadians</span><span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">35.0</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        <span class="token literal-property property">roll</span> <span class="token operator">:</span> <span class="token number">0.0</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p><a name="camera.lookAt">camera.lookAt</a></p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">//offset: Cartesian3 | HeadingPitchRange</span>
<span class="token function">lookAt</span><span class="token punctuation">(</span>target<span class="token punctuation">,</span> offset<span class="token punctuation">)</span>
</code></pre></div><div class="language-js extra-class"><pre class="language-js"><code>camera<span class="token punctuation">.</span><span class="token function">lookAt</span><span class="token punctuation">(</span>
	<span class="token comment">//这是摄像机要指向的目标点的位置。这里，目标点是某个模型（model）的外接球体（bounding sphere）的中心。</span>
	model<span class="token punctuation">.</span>boundingSphere<span class="token punctuation">.</span>center<span class="token punctuation">,</span>
	<span class="token keyword">new</span> <span class="token class-name">Cesium<span class="token punctuation">.</span>HeadingPitchRange</span><span class="token punctuation">(</span>heading<span class="token punctuation">,</span> pitch<span class="token punctuation">,</span> radius <span class="token operator">*</span> <span class="token number">2.0</span><span class="token punctuation">)</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>功能：将摄像机的视角设置为指向一个特定的目标点，并且调整摄像机的朝向（heading）、倾斜角度（pitch）和与目标的距离（range）。</p> <ul><li>特点：
<ol><li>摄像机视角会锁定在目标点上，但用户仍然可以围绕目标点旋转视角。</li> <li>适用于需要固定视角在特定目标上，同时允许用户进行视角旋转的场景。</li></ol></li></ul> <p><a name="flyToBoundingSphere">flyToBoundingSphere</a>
将相机飞到当前视图包含提供的边界球的位置。</p> <div class="language-js extra-class"><pre class="language-js"><code> <span class="token keyword">const</span> voxelPrimitive <span class="token operator">=</span> viewer<span class="token punctuation">.</span>scene<span class="token punctuation">.</span>primitives<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>
	<span class="token keyword">new</span> <span class="token class-name">Cesium<span class="token punctuation">.</span>VoxelPrimitive</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
	  <span class="token literal-property property">provider</span><span class="token operator">:</span> provider<span class="token punctuation">,</span>
	  <span class="token literal-property property">customShader</span><span class="token operator">:</span> customShader<span class="token punctuation">,</span>
	  <span class="token literal-property property">modelMatrix</span><span class="token operator">:</span> modelMatrix<span class="token punctuation">,</span>
	<span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// voxelPrimitive.boundingSphere:获取边界球</span>
viewer<span class="token punctuation">.</span>camera<span class="token punctuation">.</span><span class="token function">flyToBoundingSphere</span><span class="token punctuation">(</span>voxelPrimitive<span class="token punctuation">.</span>boundingSphere<span class="token punctuation">,</span> <span class="token punctuation">{</span>
	<span class="token comment">//duration属性被设置为0.0，意味着相机将立即跳转到目标位置，而不是在一段时间内平滑过渡。</span>
	<span class="token literal-property property">duration</span><span class="token operator">:</span> <span class="token number">0.0</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p><a name="HeadingPitchRoll">HeadingPitchRoll航向、俯仰、滚动</a>
表示为航向、俯仰和滚动的旋转。航向是绕负z轴的旋转。音高是绕负y轴的旋转。滚动是绕正x轴的旋转。</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">//参数为弧度制</span>
<span class="token keyword">const</span> hpr <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Cesium<span class="token punctuation">.</span>HeadingPitchRoll</span><span class="token punctuation">(</span>heading<span class="token punctuation">,</span> pitch<span class="token punctuation">,</span> roll<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> orientation <span class="token operator">=</span> Cesium<span class="token punctuation">.</span>Transforms<span class="token punctuation">.</span><span class="token function">headingPitchRollQuaternion</span><span class="token punctuation">(</span>
    position<span class="token punctuation">,</span>
    hpr
<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p><a name="ScreenSpaceCameraController(scene)">ScreenSpaceCameraController(scene)</a>
根据鼠标输入到画布修改相机位置和方向。</p> <p><a name="BoundingSphere">BoundingSphere包围球</a></p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">new</span> <span class="token class-name">Cesium<span class="token punctuation">.</span>BoundingSphere</span><span class="token punctuation">(</span>center<span class="token punctuation">,</span> radius<span class="token punctuation">)</span>
</code></pre></div><table><thead><tr><th>Name</th> <th>Type</th> <th>Default</th> <th>Description</th></tr></thead> <tbody><tr><td>center</td> <td>Cartesian3</td> <td>Cartesian3.ZERO</td> <td>optional The center of the bounding sphere.</td></tr> <tr><td>radius</td> <td>number</td> <td>0.0</td> <td>optional The radius of the bounding sphere.</td></tr></tbody></table> <ul><li>Cesium.BoundingSphere.fromPoints(positions, result) → BoundingSphere
计算一个紧密贴合的包围一系列三维笛卡尔坐标点的包围球。这个包围球是通过运行两种算法来计算的，一种是朴素算法，另一种是里特算法。使用两个球中较小的那个以确保紧密贴合。</li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// 让文字出现在多边形的内容范围内</span>
 <span class="token keyword">var</span> polygonCenter <span class="token operator">=</span> Cesium<span class="token punctuation">.</span>BoundingSphere<span class="token punctuation">.</span><span class="token function">fromPoints</span><span class="token punctuation">(</span>outputArray<span class="token punctuation">)</span><span class="token punctuation">.</span>center<span class="token punctuation">;</span>
  viewer<span class="token punctuation">.</span>entities<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  <span class="token literal-property property">name</span><span class="token operator">:</span><span class="token string">&quot;SgJeevesLine&quot;</span><span class="token punctuation">,</span>
  <span class="token literal-property property">id</span><span class="token operator">:</span>el<span class="token punctuation">.</span>moduleId<span class="token punctuation">,</span>
  <span class="token literal-property property">position</span><span class="token operator">:</span> polygonCenter<span class="token punctuation">,</span>
  <span class="token literal-property property">label</span><span class="token operator">:</span> <span class="token punctuation">{</span>
	<span class="token literal-property property">text</span><span class="token operator">:</span> el<span class="token punctuation">.</span>moduleDeviceName<span class="token punctuation">,</span> <span class="token comment">// 文字描述</span>
	<span class="token literal-property property">fillColor</span><span class="token operator">:</span> Cesium<span class="token punctuation">.</span>Color<span class="token punctuation">.</span><span class="token constant">WHITE</span><span class="token punctuation">,</span>
	<span class="token literal-property property">outlineColor</span><span class="token operator">:</span>  Cesium<span class="token punctuation">.</span>Color<span class="token punctuation">.</span><span class="token function">fromBytes</span><span class="token punctuation">(</span><span class="token number">255</span><span class="token punctuation">,</span><span class="token number">255</span><span class="token punctuation">,</span><span class="token number">255</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
	<span class="token literal-property property">outlineWidth</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
	<span class="token literal-property property">style</span><span class="token operator">:</span> Cesium<span class="token punctuation">.</span>LabelStyle<span class="token punctuation">.</span><span class="token constant">FILL_AND_OUTLINE</span><span class="token punctuation">,</span>
	<span class="token literal-property property">pixelOffset</span><span class="token operator">:</span> <span class="token keyword">new</span> <span class="token class-name">Cesium<span class="token punctuation">.</span>Cartesian2</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">20</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token comment">// 文字偏移量</span>
	<span class="token literal-property property">distanceDisplayCondition</span><span class="token operator">:</span><span class="token keyword">new</span> <span class="token class-name">Cesium<span class="token punctuation">.</span>DistanceDisplayCondition</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">3000</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
	<span class="token literal-property property">disableDepthTestDistance</span><span class="token operator">:</span> Number<span class="token punctuation">.</span><span class="token constant">POSITIVE_INFINITY</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token literal-property property">polygon</span><span class="token operator">:</span> <span class="token punctuation">{</span>
	<span class="token literal-property property">hierarchy</span><span class="token operator">:</span> Cesium<span class="token punctuation">.</span>Cartesian3<span class="token punctuation">.</span><span class="token function">fromDegreesArray</span><span class="token punctuation">(</span>temArr<span class="token punctuation">)</span><span class="token punctuation">,</span>
	<span class="token literal-property property">material</span><span class="token operator">:</span> el<span class="token punctuation">.</span>status <span class="token operator">==</span> <span class="token number">0</span> <span class="token operator">?</span> blueColor <span class="token operator">:</span> redColor<span class="token punctuation">,</span>
	<span class="token literal-property property">outline</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
	<span class="token literal-property property">outlineColor</span><span class="token operator">:</span> <span class="token keyword">new</span> <span class="token class-name">Cesium<span class="token punctuation">.</span>Color</span><span class="token punctuation">(</span><span class="token number">102</span><span class="token operator">/</span><span class="token number">255</span><span class="token punctuation">,</span><span class="token number">204</span><span class="token operator">/</span><span class="token number">255</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><p><a name="Ellipsoid">Ellipsoid</a>
由方程定义的笛卡尔坐标的二次曲面 (x / a)^2 + (y / b)^2 + (z / c)^2 = 1。主要使用 由铯来代表行星体的形状。 不是直接构造这个对象，而是提供的 通常使用常量。</p> <ul><li>将相机的当前位置转换为地理坐标（Cartographic）</li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">var</span> cartographic <span class="token operator">=</span> Cesium<span class="token punctuation">.</span>Ellipsoid<span class="token punctuation">.</span><span class="token constant">WGS84</span><span class="token punctuation">.</span><span class="token function">cartesianToCartographic</span><span class="token punctuation">(</span>viewer<span class="token punctuation">.</span>camera<span class="token punctuation">.</span>position<span class="token punctuation">)</span><span class="token punctuation">;</span>  
<span class="token comment">// 从地理坐标中提取经度和纬度，并转换为度数  </span>
<span class="token keyword">var</span> longitude <span class="token operator">=</span> Cesium<span class="token punctuation">.</span>Math<span class="token punctuation">.</span><span class="token function">toDegrees</span><span class="token punctuation">(</span>cartographic<span class="token punctuation">.</span>longitude<span class="token punctuation">)</span><span class="token punctuation">;</span>  
<span class="token keyword">var</span> latitude <span class="token operator">=</span> Cesium<span class="token punctuation">.</span>Math<span class="token punctuation">.</span><span class="token function">toDegrees</span><span class="token punctuation">(</span>cartographic<span class="token punctuation">.</span>latitude<span class="token punctuation">)</span><span class="token punctuation">;</span> 
console<span class="token punctuation">.</span><span class="token function">warn</span><span class="token punctuation">(</span>longitude<span class="token punctuation">,</span>latitude<span class="token punctuation">)</span>
</code></pre></div><ul><li>Cesium.Ellipsoid.WGS84：定义的一个地球椭球体，它基于WGS 84大地水准面模型，Cesium.Ellipsoid.WGS84.maximumRadius是这个椭球体的最大半径</li></ul> <p><a name="light">light 光源</a>
光源。这种类型描述了一个接口，不打算直接实例化。color和intensity一起产生高动态范围的光颜色。intensity也可以单独用于在不改变色调的情况下使光变暗或变亮。</p> <ul><li>scene.light.intensity = 7.0;//强度控制光的强度。intensity的最小值为0.0，没有最大值。</li> <li>scene.light.color = xxx;</li></ul> <p><a name="DirectionalLight">DirectionalLight无限远距离的光</a></p> <div class="language-js extra-class"><pre class="language-js"><code>scene<span class="token punctuation">.</span>light <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Cesium<span class="token punctuation">.</span>DirectionalLight</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  <span class="token literal-property property">direction</span><span class="token operator">:</span> <span class="token keyword">new</span> <span class="token class-name">Cesium<span class="token punctuation">.</span>Cartesian3</span><span class="token punctuation">(</span>
	<span class="token number">0.2454278300540191</span><span class="token punctuation">,</span>
	<span class="token number">0.8842635425193919</span><span class="token punctuation">,</span>
	<span class="token number">0.39729481195458805</span>
  <span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token literal-property property">intensity</span><span class="token operator">:</span> <span class="token number">0.0</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p><a name="ImageBasedLighting">ImageBasedLighting</a>
用于管理图块集和模型上基于图像的照明的属性。还管理必要的资源和纹理。</p> <ol><li>luminanceAtZenith:
<ul><li>这个参数指定了天顶（即头顶正上方的点，在球坐标系中对应于极点的方向）的亮度。</li> <li>亮度值通常是一个介于0和1之间的浮点数，其中0表示完全黑暗，1表示最大亮度。</li> <li>在代码中，它被设置为0.7，这意味着天顶处的亮度是最大亮度的70%。</li></ul></li> <li>sphericalHarmonicCoefficients:
<ul><li>这个参数是一个数组，包含了用于计算全局光照的球谐系数。</li> <li>球谐光照是一种技术，它使用球谐函数来近似场景中的全局光照。</li> <li>这些系数通常是通过预处理步骤从HDR环境贴图中计算出来的。</li></ul></li> <li>specularEnvironmentMaps:
<ul><li>这个参数指定了用于镜面反射的环境贴图的URL。</li> <li>环境贴图是一种图像，它包含了场景中所有方向上的光照信息。</li> <li>在渲染过程中，这个贴图被用来计算物体表面的镜面反射高光。</li></ul></li> <li>imageBasedLightingFactor:增加了来自地球、天空、大气和恒星天空盒的照
<ul><li>这个笛卡尔用于将这些光源的最终漫射和镜面照明贡献缩放到最终颜色。0.0的值将禁用这些光源。</li> <li>默认值： Cartesian2(1.0, 1.0)</li></ul></li></ol> <div class="language-js extra-class"><pre class="language-js"><code>imageBasedLighting<span class="token punctuation">.</span>imageBasedLightingFactor <span class="token operator">=</span> Cesium<span class="token punctuation">.</span>Cartesian2<span class="token punctuation">.</span><span class="token constant">ONE</span><span class="token punctuation">;</span>
</code></pre></div><div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> <span class="token constant">L00</span> <span class="token operator">=</span><span class="token operator">...</span>
<span class="token comment">//...</span>
<span class="token keyword">const</span> <span class="token constant">L22</span> <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Cesium<span class="token punctuation">.</span>Cartesian3</span><span class="token punctuation">(</span>
	  <span class="token operator">-</span><span class="token number">0.052426788955927</span><span class="token punctuation">,</span>
	  <span class="token operator">-</span><span class="token number">0.048315055668354</span><span class="token punctuation">,</span>
	  <span class="token operator">-</span><span class="token number">0.041973855346441</span>
	<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">const</span> coefficients <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token constant">L00</span><span class="token punctuation">,</span> <span class="token constant">L1_1</span><span class="token punctuation">,</span> <span class="token constant">L10</span><span class="token punctuation">,</span> <span class="token constant">L11</span><span class="token punctuation">,</span> <span class="token constant">L2_2</span><span class="token punctuation">,</span> <span class="token constant">L2_1</span><span class="token punctuation">,</span> <span class="token constant">L20</span><span class="token punctuation">,</span> <span class="token constant">L21</span><span class="token punctuation">,</span> <span class="token constant">L22</span><span class="token punctuation">]</span><span class="token punctuation">;</span>

        <span class="token keyword">const</span> imageBasedLighting <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Cesium<span class="token punctuation">.</span>ImageBasedLighting</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
          <span class="token literal-property property">luminanceAtZenith</span><span class="token operator">:</span> <span class="token number">0.7</span><span class="token punctuation">,</span>
          <span class="token literal-property property">sphericalHarmonicCoefficients</span><span class="token operator">:</span> coefficients<span class="token punctuation">,</span>
          <span class="token literal-property property">specularEnvironmentMaps</span><span class="token operator">:</span> url<span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p><a name="IonResource">IonResource</a></p> <ul><li>Cesium.IonResource.fromAssetId(assetId, options):通过 fromAssetId 方法，你可以根据资源的唯一资产ID（Asset ID）来获取该资源的 URL 或直接获取一个 Cesium.IonResource 对象，这个对象封装了与资源相关的元数据和网络请求信息。</li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> resource <span class="token operator">=</span> <span class="token keyword">await</span> Cesium<span class="token punctuation">.</span>IonResource<span class="token punctuation">.</span><span class="token function">fromAssetId</span><span class="token punctuation">(</span>ionAssetId<span class="token punctuation">)</span><span class="token punctuation">;</span>
	model <span class="token operator">=</span> <span class="token keyword">await</span> Cesium<span class="token punctuation">.</span>Model<span class="token punctuation">.</span><span class="token function">fromGltfAsync</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
	  <span class="token literal-property property">url</span><span class="token operator">:</span> resource<span class="token punctuation">,</span>
	  <span class="token literal-property property">modelMatrix</span><span class="token operator">:</span> modelMatrix<span class="token punctuation">,</span>
	  imageBasedLighting<span class="token punctuation">,</span>
	<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

	scene<span class="token punctuation">.</span>primitives<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>model<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p><a name="Cesium3DTileset">Cesium3DTileset瓦片集</a>
tileset，即瓦片集，是由一组瓦片（Tile）按照某种空间数据结构（如树状结构）组织而成的集合。</p> <ul><li>maximumScreenSpaceError:属性用于控制3D瓦片集的细节层次（LOD，Level of Detail）。这个值越大，Cesium在渲染时就会使用更少的瓦片来代表tileset，<code>从而降低渲染质量但提高性能</code>。这个值需要根据tileset的复杂度和场景的需求来调整。</li></ul> <p>用于流式传输海量异构3D地理空间数据集。此对象通常不直接实例化，请使用Cesium3DTileset.fromUrl。</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">try</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> tileset <span class="token operator">=</span> <span class="token keyword">await</span> Cesium<span class="token punctuation">.</span>Cesium3DTileset<span class="token punctuation">.</span><span class="token function">fromUrl</span><span class="token punctuation">(</span>
     <span class="token string">&quot;http://localhost:8002/tilesets/Seattle/tileset.json&quot;</span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
  tileset<span class="token punctuation">.</span>maximumScreenSpaceError <span class="token operator">=</span> <span class="token number">8.0</span><span class="token punctuation">;</span>
  scene<span class="token punctuation">.</span>primitives<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>tileset<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span>error<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">error</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">Error creating tileset: </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>error<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><p>cesium内部模型id（可以把自己的模型转换后上传cesium云端使用）</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// Load a Cesium3DTileset with a Cesium ion asset ID of 124624234</span>
<span class="token keyword">try</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> tileset <span class="token operator">=</span> <span class="token keyword">await</span> Cesium<span class="token punctuation">.</span>Cesium3DTileset<span class="token punctuation">.</span><span class="token function">fromIonAssetId</span><span class="token punctuation">(</span><span class="token number">124624234</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  scene<span class="token punctuation">.</span>primitives<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>tileset<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span>error<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">error</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">Error creating tileset: </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>error<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><blockquote><p>v.1.99支持这种写法，不知道新版本还支不支持</p></blockquote> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// tilesetOption</span>
<span class="token comment">// {url: 'http://183.252.50.230:50001/3d/xdp_3d_v3/tileset.json',</span>
<span class="token comment">//  skipLevelOfDetail: true,</span>
<span class="token comment">//   baseScreenSpaceError: 1024, </span>
<span class="token comment">//   skipScreenSpaceErrorFactor: 16000, </span>
<span class="token comment">//   skipLevels: 1, …}</span>
     tilesetObjArr<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Cesium<span class="token punctuation">.</span>Cesium3DTileset</span><span class="token punctuation">(</span>tilesetOption<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
          tilesetObjArr<span class="token punctuation">[</span>tilesetObjArr<span class="token punctuation">.</span>length <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">.</span>readyPromise<span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span>
            <span class="token parameter">tileset</span>
          <span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token comment">// if(titleArr.length === 0){</span>
            <span class="token function">callVueFun</span><span class="token punctuation">(</span><span class="token string">&quot;mainView&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//vueFlyAround飞入效果，mainView到主视图</span>
            <span class="token comment">// }</span>
            viewer<span class="token punctuation">.</span>scene<span class="token punctuation">.</span>primitives<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>tileset<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            console<span class="token punctuation">.</span><span class="token function">warn</span><span class="token punctuation">(</span>viewer<span class="token punctuation">.</span>flyTo <span class="token operator">===</span> viewer<span class="token punctuation">.</span>camera<span class="token punctuation">.</span>flyTo<span class="token punctuation">,</span> <span class="token string">&quot;195&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

            <span class="token comment">// viewer.flyTo(tileset);</span>

            viewer<span class="token punctuation">.</span>camera<span class="token punctuation">.</span><span class="token function">flyTo</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
              <span class="token literal-property property">destination</span><span class="token operator">:</span> Cesium<span class="token punctuation">.</span>Cartesian3<span class="token punctuation">.</span><span class="token function">fromDegrees</span><span class="token punctuation">(</span>
                <span class="token number">120.559563</span><span class="token punctuation">,</span>
                <span class="token number">40.330925</span><span class="token punctuation">,</span>
                <span class="token number">2868.257627384771</span>
              <span class="token punctuation">)</span><span class="token punctuation">,</span>
              <span class="token literal-property property">orientation</span><span class="token operator">:</span> <span class="token punctuation">{</span>
                <span class="token literal-property property">heading</span><span class="token operator">:</span> <span class="token number">5.800168655043299</span><span class="token punctuation">,</span>
                <span class="token literal-property property">pitch</span><span class="token operator">:</span> <span class="token operator">-</span><span class="token number">0.877669300487109</span><span class="token punctuation">,</span>
                <span class="token literal-property property">roll</span><span class="token operator">:</span> <span class="token number">0.00006451130178319886</span>
              <span class="token punctuation">}</span>
            <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

            <span class="token comment">//效果</span>
            <span class="token comment">// 更换模型颜色</span>
            tileset<span class="token punctuation">.</span>readyPromise<span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">tileset</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
              <span class="token comment">// callVueFun('initModel',{}) // 注释</span>
              <span class="token keyword">if</span> <span class="token punctuation">(</span>item<span class="token punctuation">.</span>modelColor<span class="token punctuation">)</span> <span class="token punctuation">{</span>
                tileset<span class="token punctuation">.</span>style <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Cesium<span class="token punctuation">.</span>Cesium3DTileStyle</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
                  <span class="token literal-property property">color</span><span class="token operator">:</span> <span class="token punctuation">{</span>
                    <span class="token literal-property property">conditions</span><span class="token operator">:</span> <span class="token punctuation">[</span>
                      <span class="token punctuation">[</span><span class="token string">&quot;true&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;color('&quot;</span> <span class="token operator">+</span> item<span class="token punctuation">.</span>modelColor <span class="token operator">+</span> <span class="token string">&quot;',1)&quot;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
                    <span class="token punctuation">]</span><span class="token punctuation">,</span>
                  <span class="token punctuation">}</span><span class="token punctuation">,</span>
                <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
              <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
                item<span class="token punctuation">.</span>modelColor <span class="token operator">=</span> <span class="token string">&quot;rgb(57,103,255)&quot;</span><span class="token punctuation">;</span>
              <span class="token punctuation">}</span>
              <span class="token keyword">var</span> boundingSphere <span class="token operator">=</span> tileset<span class="token punctuation">.</span>boundingSphere<span class="token punctuation">;</span>
              <span class="token comment">// 获取模型中心点的笛卡尔坐标</span>
              <span class="token keyword">var</span> center <span class="token operator">=</span> boundingSphere<span class="token punctuation">.</span>center<span class="token punctuation">;</span>
              <span class="token comment">// 将笛卡尔坐标转换为地理坐标</span>
              <span class="token keyword">var</span> cartographic <span class="token operator">=</span> Cesium<span class="token punctuation">.</span>Cartographic<span class="token punctuation">.</span><span class="token function">fromCartesian</span><span class="token punctuation">(</span>center<span class="token punctuation">)</span><span class="token punctuation">;</span>
              <span class="token comment">// 获取经纬度</span>
              <span class="token keyword">var</span> longitude <span class="token operator">=</span> Cesium<span class="token punctuation">.</span>Math<span class="token punctuation">.</span><span class="token function">toDegrees</span><span class="token punctuation">(</span>cartographic<span class="token punctuation">.</span>longitude<span class="token punctuation">)</span><span class="token punctuation">;</span>
              <span class="token keyword">var</span> latitude <span class="token operator">=</span> Cesium<span class="token punctuation">.</span>Math<span class="token punctuation">.</span><span class="token function">toDegrees</span><span class="token punctuation">(</span>cartographic<span class="token punctuation">.</span>latitude<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
          <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p><a name="Cesium3DTileStyle">Cesium3DTileStyle</a>
应用于Cesium3DTileset.</p> <p>计算使用定义的表达式 3D瓷砖样式语言。</p> <div class="language-js extra-class"><pre class="language-js"><code>
<span class="token keyword">const</span> buildingsTileset <span class="token operator">=</span> <span class="token keyword">await</span> Cesium<span class="token punctuation">.</span>Cesium3DTileset<span class="token punctuation">.</span><span class="token function">fromIonAssetId</span><span class="token punctuation">(</span><span class="token number">2389064</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">maximumScreenSpaceError</span><span class="token operator">:</span> <span class="token number">12</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
viewer<span class="token punctuation">.</span>scene<span class="token punctuation">.</span>primitives<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>buildingsTileset<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// 条件表达式用于判断 HGT（假设代表建筑物的高度）的值，颜色值则是根据条件满足时应用于建筑物的颜色。</span>

<span class="token comment">// 当 HGT 不为 undefined 且小于 5 时，建筑物被着色为黄色（#f5fd2d）。</span>
<span class="token comment">// 当 HGT 不为 undefined 且在 5 到 10 之间（包括 5，不包括 10）时，建筑物被着色为浅棕色（#d3a34a）。</span>
<span class="token comment">// 当 HGT 不为 undefined 且在 10 到 15 之间（包括 10，不包括 15）时，建筑物被着色为深灰色（#947e75）。</span>
<span class="token comment">// 当 HGT 不为 undefined 且在 15 到 20 之间（包括 15，不包括 20）时，建筑物被着色为深蓝色（#565a9f）。</span>
<span class="token comment">// 当 HGT 不为 undefined 且大于或等于 20 时，建筑物被着色为深蓝色（#223bc3）。</span>
<span class="token comment">// 如果以上条件都不满足（即 HGT 为 undefined 或不满足任何高度条件），建筑物被着色为白色（color('white')）。这里的 &quot;true&quot; 条件是一个兜底条件，确保所有建筑物都能被着色。</span>

<span class="token keyword">const</span> buildingStyle <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Cesium<span class="token punctuation">.</span>Cesium3DTileStyle</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  <span class="token literal-property property">color</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">conditions</span><span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">[</span><span class="token string">&quot;${HGT} !== undefined &amp;&amp; ${HGT} &lt; 5&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;color('#f5fd2d')&quot;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token punctuation">[</span><span class="token string">&quot;${HGT} !== undefined &amp;&amp; ${HGT} &gt;= 5 &amp;&amp; ${HGT} &lt; 10&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;color('#d3a34a')&quot;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token punctuation">[</span><span class="token string">&quot;${HGT} !== undefined &amp;&amp; ${HGT} &gt;= 10 &amp;&amp; ${HGT} &lt; 15&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;color('#947e75')&quot;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token punctuation">[</span><span class="token string">&quot;${HGT} !== undefined &amp;&amp; ${HGT} &gt;= 15 &amp;&amp; ${HGT} &lt; 20&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;color('#565a9f')&quot;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token punctuation">[</span><span class="token string">&quot;${HGT} !== undefined &amp;&amp; ${HGT} &gt; 20&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;color('#223bc3')&quot;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token punctuation">[</span><span class="token string">&quot;true&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;color('white')&quot;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

buildingsTileset<span class="token punctuation">.</span>style <span class="token operator">=</span> buildingStyle<span class="token punctuation">;</span>
</code></pre></div><p><a name="Transforms">Transforms转换</a>
包含将位置转换为各种参考帧的函数。</p> <ul><li>Cesium.Transforms.headingPitchRollQuaternion：从以提供的原点为中心的航向-俯仰-滚动角计算轴的参考帧计算四元数。航向是从当地东方向的旋转，其中正角向东增加。俯仰是从当地东-北平面的旋转。正俯仰角在平面上方。负俯仰角在平面下方。滚动是第一次绕当地东轴旋转。</li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> orientation <span class="token operator">=</span> Cesium<span class="token punctuation">.</span>Transforms<span class="token punctuation">.</span><span class="token function">headingPitchRollQuaternion</span><span class="token punctuation">(</span>
	position<span class="token punctuation">,</span>
	hpr
<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><ul><li>headingPitchRollToFixedFrame</li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> modelMatrix <span class="token operator">=</span> Cesium<span class="token punctuation">.</span>Transforms<span class="token punctuation">.</span><span class="token function">headingPitchRollToFixedFrame</span><span class="token punctuation">(</span>
  origin<span class="token punctuation">,</span>
  hpr
<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p><a name="cartesian2">Cartesian2</a></p> <div class="language-js extra-class"><pre class="language-js"><code>console<span class="token punctuation">.</span><span class="token function">warn</span><span class="token punctuation">(</span>Cesium<span class="token punctuation">.</span>Cartesian2<span class="token punctuation">.</span><span class="token constant">ZERO</span><span class="token punctuation">,</span>Cesium<span class="token punctuation">.</span>Cartesian2<span class="token punctuation">.</span><span class="token constant">ONE</span><span class="token punctuation">)</span>
<span class="token comment">//Cartesian2 {x: 0, y: 0} Cartesian2 {x: 1, y: 1}</span>
</code></pre></div><p><a name="cartesian3">Cartesian3 笛卡尔坐标</a></p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// xyz ：number</span>
<span class="token keyword">new</span> <span class="token class-name">Cesium<span class="token punctuation">.</span>Cartesian3</span><span class="token punctuation">(</span>x<span class="token punctuation">,</span> y<span class="token punctuation">,</span> z<span class="token punctuation">)</span>
</code></pre></div><ul><li>Cesium.Cartesian3.fromElements：从x、y和z坐标创建Cartesian3实例。</li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// f1 和 f2 在实际应用中是可以互换使用的，没有实质性的区别</span>
<span class="token keyword">const</span> f1 <span class="token operator">=</span> Cesium<span class="token punctuation">.</span>Cartesian3<span class="token punctuation">.</span><span class="token function">fromElements</span><span class="token punctuation">(</span>
	Cesium<span class="token punctuation">.</span>Ellipsoid<span class="token punctuation">.</span><span class="token constant">WGS84</span><span class="token punctuation">.</span>maximumRadius<span class="token punctuation">,</span>
	Cesium<span class="token punctuation">.</span>Ellipsoid<span class="token punctuation">.</span><span class="token constant">WGS84</span><span class="token punctuation">.</span>maximumRadius<span class="token punctuation">,</span>
	Cesium<span class="token punctuation">.</span>Ellipsoid<span class="token punctuation">.</span><span class="token constant">WGS84</span><span class="token punctuation">.</span>maximumRadius
  <span class="token punctuation">)</span>
<span class="token keyword">const</span> f2 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Cesium<span class="token punctuation">.</span>Cartesian3</span><span class="token punctuation">(</span> Cesium<span class="token punctuation">.</span>Ellipsoid<span class="token punctuation">.</span><span class="token constant">WGS84</span><span class="token punctuation">.</span>maximumRadius<span class="token punctuation">,</span>
	Cesium<span class="token punctuation">.</span>Ellipsoid<span class="token punctuation">.</span><span class="token constant">WGS84</span><span class="token punctuation">.</span>maximumRadius<span class="token punctuation">,</span>
	Cesium<span class="token punctuation">.</span>Ellipsoid<span class="token punctuation">.</span><span class="token constant">WGS84</span><span class="token punctuation">.</span>maximumRadius<span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">warn</span><span class="token punctuation">(</span>f1<span class="token punctuation">)</span>

console<span class="token punctuation">.</span><span class="token function">warn</span><span class="token punctuation">(</span>f2<span class="token punctuation">)</span>
</code></pre></div><p><a name="cartesian3fromDegreesArray">Cartesian3.fromDegreesArray</a></p> <p>给定以度为单位的经度和纬度值数组，返回Cartesian3位置数组。</p> <div class="language-js extra-class"><pre class="language-js"><code>  <span class="token keyword">const</span> positions <span class="token operator">=</span> Cesium<span class="token punctuation">.</span>Cartesian3<span class="token punctuation">.</span><span class="token function">fromDegreesArray</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token operator">-</span><span class="token number">115.0</span><span class="token punctuation">,</span> <span class="token number">37.0</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">107.0</span><span class="token punctuation">,</span> <span class="token number">33.0</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    console<span class="token punctuation">.</span><span class="token function">warn</span><span class="token punctuation">(</span>positions<span class="token punctuation">)</span>
    <span class="token comment">// [</span>
    <span class="token comment">// {</span>
    <span class="token comment">//     x: -2155350.226166898,</span>
    <span class="token comment">//     y: -4622163.476136757,</span>
    <span class="token comment">//     z: 3817393.160348164</span>
    <span class="token comment">// },</span>
    <span class="token comment">// {</span>
    <span class="token comment">//     x: -1565496.9213366297,</span>
    <span class="token comment">//     y: -5120509.704382778,</span>
    <span class="token comment">//     z: 3453958.6411778987</span>
    <span class="token comment">// }</span>
    <span class="token comment">// ]</span>
</code></pre></div><p><a name="Cartesian3.fromDegreesArrayHeights">Cartesian3.fromDegreesArrayHeights</a>
用于将包含经度、纬度和高度的数组转换为一个 Cartesian3 对象数组。每个 Cartesian3 对象代表地球上的一个点，在三维笛卡尔坐标系中的位置。</p> <div class="language-js extra-class"><pre class="language-js"><code>Cesium<span class="token punctuation">.</span>Cartesian3<span class="token punctuation">.</span><span class="token function">fromDegreesArrayHeights</span><span class="token punctuation">(</span>coordinates<span class="token punctuation">,</span> ellipsoid<span class="token punctuation">,</span> result<span class="token punctuation">)</span>
<span class="token comment">//ellipsoid：（可选）一个表示地球椭球体的 Ellipsoid 对象。如果未指定，则默认使用 WGS84 椭球体。</span>
<span class="token comment">//result：（可选）一个用于存储结果的数组。如果提供了这个参数，那么结果将被存储在这个数组中，而不是创建一个新的数组。</span>
</code></pre></div><p><a name="Cartesian3.fromDegrees">Cartesian3.fromDegrees单个经纬度转笛卡尔坐标</a></p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">let</span> point <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Cartesian3<span class="token punctuation">.</span>fromDegrees</span><span class="token punctuation">(</span>lon<span class="token punctuation">,</span> lat<span class="token punctuation">,</span> h<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p><a name="Cartesian3.clamp">Cartesian3.clamp</a>
限制一个值位于两个值之间。</p> <div class="language-js extra-class"><pre class="language-js"><code>Cesium<span class="token punctuation">.</span>Cartesian3<span class="token punctuation">.</span><span class="token function">clamp</span><span class="token punctuation">(</span>cartesian<span class="token punctuation">,</span> min<span class="token punctuation">,</span> max<span class="token punctuation">,</span> result<span class="token punctuation">)</span>
</code></pre></div><div class="language-js extra-class"><pre class="language-js"><code> coordGlobal <span class="token operator">=</span> Cesium<span class="token punctuation">.</span>Cartesian3<span class="token punctuation">.</span><span class="token function">clamp</span><span class="token punctuation">(</span>
  Cesium<span class="token punctuation">.</span>Cartesian3<span class="token punctuation">.</span><span class="token function">fromElements</span><span class="token punctuation">(</span>
	tileX <span class="token operator">*</span> dimensions<span class="token punctuation">.</span>x <span class="token operator">+</span> <span class="token punctuation">(</span>x <span class="token operator">-</span> paddingBefore<span class="token punctuation">.</span>x<span class="token punctuation">)</span><span class="token punctuation">,</span>
	tileY <span class="token operator">*</span> dimensions<span class="token punctuation">.</span>y <span class="token operator">+</span> <span class="token punctuation">(</span>y <span class="token operator">-</span> paddingBefore<span class="token punctuation">.</span>y<span class="token punctuation">)</span><span class="token punctuation">,</span>
	tileZ <span class="token operator">*</span> dimensions<span class="token punctuation">.</span>z <span class="token operator">+</span> <span class="token punctuation">(</span>z <span class="token operator">-</span> paddingBefore<span class="token punctuation">.</span>z<span class="token punctuation">)</span><span class="token punctuation">,</span>
	coordGlobal
  <span class="token punctuation">)</span><span class="token punctuation">,</span>
  minimumGlobalCoord<span class="token punctuation">,</span>
  maximumGlobalCoord<span class="token punctuation">,</span>
  coordGlobal
<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p><a name="Cartesian3.lerp">Cartesian3.lerp插值</a>
使用提供的笛卡尔函数计算t处的线性插值或外推。</p> <p>这行代码使用CesiumJS的Cartesian3.lerp函数来计算startPosition和endPosition之间的一个线性插值点。startPosition和endPosition都是Cesium.Cartesian3实例，代表3D空间中的点。locationFactor（之前计算得到的）决定了插值点的位置，介于0（完全在startPosition）和1（完全在endPosition）之间。最后一个参数是一个新创建的Cesium.Cartesian3()实例，用于存储计算结果。</p> <div class="language-js extra-class"><pre class="language-js"><code> <span class="token keyword">const</span> location <span class="token operator">=</span> Cesium<span class="token punctuation">.</span>Cartesian3<span class="token punctuation">.</span><span class="token function">lerp</span><span class="token punctuation">(</span>
	startPosition<span class="token punctuation">,</span>
	endPosition<span class="token punctuation">,</span>
	locationFactor<span class="token punctuation">,</span>
	<span class="token keyword">new</span> <span class="token class-name">Cesium<span class="token punctuation">.</span>Cartesian3</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p><a name="Cartesian3.magnitude">Cartesian3.magnitude</a>
计算笛卡尔的大小（长度）。</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// 取模长度</span>
<span class="token keyword">const</span> metersPerSecond <span class="token operator">=</span> Cesium<span class="token punctuation">.</span>Cartesian3<span class="token punctuation">.</span><span class="token function">magnitude</span><span class="token punctuation">(</span>velocityVector<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p><a name="Quaternion">Quaternion四元数</a>
new Cesium.Quaternion(x, y, z, w)：用于表示3维空间中旋转的一组4维坐标。</p> <ul><li>Cesium.Quaternion.fromAxisAngle(axis, angle, result) → Quaternion：计算表示绕轴旋转的四元数。</li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">return</span> Cesium<span class="token punctuation">.</span>Quaternion<span class="token punctuation">.</span><span class="token function">fromAxisAngle</span><span class="token punctuation">(</span>  
  Cesium<span class="token punctuation">.</span>Cartesian3<span class="token punctuation">.</span><span class="token constant">UNIT_X</span><span class="token punctuation">,</span> <span class="token comment">// 旋转轴  </span>
  wheelAngleProperty<span class="token punctuation">.</span><span class="token function">getValue</span><span class="token punctuation">(</span>time<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token comment">// 旋转角度  </span>
  result <span class="token comment">// 存储结果的四元数对象  </span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p><a name="cartographic">Cartographic 制图位置</a></p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">new</span> <span class="token class-name">Cesium<span class="token punctuation">.</span>Cartographic</span><span class="token punctuation">(</span>longitude<span class="token punctuation">,</span> latitude<span class="token punctuation">,</span> height<span class="token punctuation">)</span>
</code></pre></div><p>由经度、纬度和高度定义的位置。</p> <p><a name="fromCartesian">Cartographic.fromCartesian 笛卡尔坐标转弧度[静态方法]</a></p> <p>从笛卡尔坐标创建一个新的制图实例。结果对象中的值将以<code>弧度</code>为单位。</p> <table><thead><tr><th>Name</th> <th>Type</th> <th>Default</th> <th>Description</th></tr></thead> <tbody><tr><td>cartesian</td> <td>Cartesian3</td> <td>-</td> <td>The Cartesian position to convert to cartographic representation.</td></tr> <tr><td>ellipsoid</td> <td>Ellipsoid</td> <td>Ellipsoid.default</td> <td>optional The ellipsoid on which the position lies.</td></tr> <tr><td>result</td> <td>Cartographic</td> <td>-</td> <td>optional The object onto which to store the result.</td></tr></tbody></table> <div class="language-js extra-class"><pre class="language-js"><code>Cesium<span class="token punctuation">.</span>Cartographic<span class="token punctuation">.</span><span class="token function">fromCartesian</span><span class="token punctuation">(</span>cartesian3<span class="token punctuation">,</span> ellipsoid<span class="token punctuation">,</span> result<span class="token punctuation">)</span>
</code></pre></div><p><a href="#fromDegrees">Cartographic.fromDegrees 笛卡尔位置转弧度[静态方法]</a></p> <div class="language-js extra-class"><pre class="language-js"><code>  <span class="token comment">// 转换为笛卡尔坐标</span>
  <span class="token keyword">const</span> cartesian1 <span class="token operator">=</span> Cesium<span class="token punctuation">.</span>Cartesian3<span class="token punctuation">.</span><span class="token function">fromDegrees</span><span class="token punctuation">(</span><span class="token number">110</span><span class="token punctuation">,</span> <span class="token number">20</span><span class="token punctuation">,</span> <span class="token number">20</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">const</span> cartesian2 <span class="token operator">=</span> Cesium<span class="token punctuation">.</span>Cartesian3<span class="token punctuation">.</span><span class="token function">fromDegrees</span><span class="token punctuation">(</span><span class="token number">110</span><span class="token punctuation">,</span> <span class="token number">20</span><span class="token punctuation">,</span> <span class="token number">30</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token comment">// 转为弧度制</span>
  <span class="token keyword">let</span> cartographic <span class="token operator">=</span> Cesium<span class="token punctuation">.</span>Cartographic<span class="token punctuation">.</span><span class="token function">fromCartesian</span><span class="token punctuation">(</span>cartesian1<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token comment">// 角度制</span>
  <span class="token keyword">let</span> lon <span class="token operator">=</span> Cesium<span class="token punctuation">.</span>Math<span class="token punctuation">.</span><span class="token function">toDegrees</span><span class="token punctuation">(</span>cartographic<span class="token punctuation">.</span>longitude<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">let</span> lat <span class="token operator">=</span> Cesium<span class="token punctuation">.</span>Math<span class="token punctuation">.</span><span class="token function">toDegrees</span><span class="token punctuation">(</span>cartographic<span class="token punctuation">.</span>latitude<span class="token punctuation">)</span><span class="token punctuation">;</span>

  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;笛卡尔坐标：&quot;</span><span class="token punctuation">,</span>cartesian1<span class="token punctuation">,</span> cartesian2<span class="token punctuation">)</span><span class="token punctuation">;</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;弧度制&quot;</span><span class="token punctuation">,</span>cartographic<span class="token punctuation">)</span><span class="token punctuation">;</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'经纬度'</span><span class="token punctuation">,</span>lon<span class="token punctuation">,</span> lat<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">//   笛卡尔坐标： Je {x: -2050703.247253584, y: 5634260.865831492, z: 2167703.6282316237} </span>
<span class="token comment">//   Je {x: -2050706.4611916323, y: 5634269.696053707, z: 2167707.0484330566}</span>

<span class="token comment">//  弧度制 Fr {longitude: 1.9198621771937627, latitude: 0.34906585039886584, height: 19.999999999848896}</span>
  
<span class="token comment">//  经纬度 110.00000000000001 19.999999999999996</span>

</code></pre></div><p><a name="viewer">Viewer 视图</a></p> <p>用于构建应用程序的基本小部件。它将所有标准cesium小部件组合到一个可重用的包中。小部件始终可以通过使用mixins进行扩展，这增加了对各种应用程序有用的功能。</p> <div class="language-js extra-class"><pre class="language-js"><code> <span class="token keyword">new</span> <span class="token class-name">Cesium<span class="token punctuation">.</span>Viewer</span><span class="token punctuation">(</span>container<span class="token punctuation">,</span> options<span class="token punctuation">)</span><span class="token comment">//（容器、选项）</span>
</code></pre></div><div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// viewer中可以解构出很多对象</span>
<span class="token keyword">const</span> <span class="token punctuation">{</span> scene<span class="token punctuation">,</span> camera<span class="token punctuation">,</span> clock <span class="token punctuation">}</span> <span class="token operator">=</span> viewer<span class="token punctuation">;</span>
</code></pre></div><div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// Initialize the viewer widget with several custom options and mixins.</span>
<span class="token keyword">try</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> viewer <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Cesium<span class="token punctuation">.</span>Viewer</span><span class="token punctuation">(</span><span class="token string">&quot;cesiumContainer&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
    <span class="token comment">// Start in Columbus Viewer</span>
    <span class="token literal-property property">sceneMode</span><span class="token operator">:</span> Cesium<span class="token punctuation">.</span>SceneMode<span class="token punctuation">.</span><span class="token constant">COLUMBUS_VIEW</span><span class="token punctuation">,</span>
    <span class="token comment">// Use Cesium World Terrain</span>
    <span class="token literal-property property">terrain</span><span class="token operator">:</span> Cesium<span class="token punctuation">.</span>Terrain<span class="token punctuation">.</span><span class="token function">fromWorldTerrain</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token comment">// Hide the base layer picker</span>
    <span class="token literal-property property">baseLayerPicker</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
    <span class="token comment">// Use OpenStreetMaps</span>
    <span class="token literal-property property">baseLayer</span><span class="token operator">:</span> <span class="token keyword">new</span> <span class="token class-name">Cesium<span class="token punctuation">.</span>ImageryLayer</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Cesium<span class="token punctuation">.</span>OpenStreetMapImageryProvider</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      <span class="token literal-property property">url</span><span class="token operator">:</span> <span class="token string">&quot;https://tile.openstreetmap.org/&quot;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token literal-property property">skyBox</span><span class="token operator">:</span> <span class="token keyword">new</span> <span class="token class-name">Cesium<span class="token punctuation">.</span>SkyBox</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      <span class="token literal-property property">sources</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token literal-property property">positiveX</span><span class="token operator">:</span> <span class="token string">&quot;stars/TychoSkymapII.t3_08192x04096_80_px.jpg&quot;</span><span class="token punctuation">,</span>
        <span class="token literal-property property">negativeX</span><span class="token operator">:</span> <span class="token string">&quot;stars/TychoSkymapII.t3_08192x04096_80_mx.jpg&quot;</span><span class="token punctuation">,</span>
        <span class="token literal-property property">positiveY</span><span class="token operator">:</span> <span class="token string">&quot;stars/TychoSkymapII.t3_08192x04096_80_py.jpg&quot;</span><span class="token punctuation">,</span>
        <span class="token literal-property property">negativeY</span><span class="token operator">:</span> <span class="token string">&quot;stars/TychoSkymapII.t3_08192x04096_80_my.jpg&quot;</span><span class="token punctuation">,</span>
        <span class="token literal-property property">positiveZ</span><span class="token operator">:</span> <span class="token string">&quot;stars/TychoSkymapII.t3_08192x04096_80_pz.jpg&quot;</span><span class="token punctuation">,</span>
        <span class="token literal-property property">negativeZ</span><span class="token operator">:</span> <span class="token string">&quot;stars/TychoSkymapII.t3_08192x04096_80_mz.jpg&quot;</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token comment">// Show Columbus View map with Web Mercator projection</span>
    <span class="token literal-property property">mapProjection</span><span class="token operator">:</span> <span class="token keyword">new</span> <span class="token class-name">Cesium<span class="token punctuation">.</span>WebMercatorProjection</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span>error<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>error<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">// Add basic drag and drop functionality</span>
viewer<span class="token punctuation">.</span><span class="token function">extend</span><span class="token punctuation">(</span>Cesium<span class="token punctuation">.</span>viewerDragDropMixin<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// Show a pop-up alert if we encounter an error when processing a dropped file</span>
viewer<span class="token punctuation">.</span>dropError<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">dropHandler<span class="token punctuation">,</span> name<span class="token punctuation">,</span> error</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>error<span class="token punctuation">)</span><span class="token punctuation">;</span>
  window<span class="token punctuation">.</span><span class="token function">alert</span><span class="token punctuation">(</span>error<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> viewer <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Cesium<span class="token punctuation">.</span>Viewer</span><span class="token punctuation">(</span><span class="token string">&quot;cesiumContainer&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">infoBox</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span><span class="token comment">// 开启后点击到的模型提示信息</span>
  <span class="token literal-property property">selectionIndicator</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span><span class="token comment">//开启后选中模型会有选中框 </span>
  <span class="token literal-property property">shadows</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span><span class="token comment">//开启后有阴影</span>
  <span class="token literal-property property">shouldAnimate</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span><span class="token comment">//允许动画</span>
  <span class="token literal-property property">orderIndependentTranslucency</span><span class="token operator">:</span><span class="token boolean">false</span><span class="token punctuation">,</span><span class="token comment">//表示禁用Cesium Viewer中的顺序无关透明（Order Independent Translucency）功能。</span>
  <span class="token comment">//OIT是一种技术，用于改善场景中半透明对象（如玻璃、烟雾等）的渲染效果，使它们看起来更加真实，</span>
  <span class="token comment">//即使它们相互重叠。禁用此功能可能会降低半透明对象的渲染质量，但可能会提高渲染性能。</span>
  <span class="token literal-property property">terrain</span><span class="token operator">:</span> Cesium<span class="token punctuation">.</span>Terrain<span class="token punctuation">.</span><span class="token function">fromWorldTerrain</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token comment">//表示使用Cesium的世界地形数据作为场景的地形层。</span>
  <span class="token literal-property property">timeline</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span><span class="token comment">// 时间轴</span>
	<span class="token comment">//这个选项决定了Cesium是否应该使用浏览器推荐的分辨率进行渲染。</span>
	<span class="token comment">//当设置为true时，Cesium会尝试使用高分辨率渲染（如设备像素比率大于1时的视网膜显示），</span>
	<span class="token comment">//这可能会提高视觉质量，但也可能增加GPU的负担。将其设置为false意味着Cesium将使用默认的、</span>
	<span class="token comment">//可能较低的分辨率进行渲染，这有助于在性能较低的设备上保持流畅的体验。</span>
	<span class="token literal-property property">useBrowserRecommendedResolution</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
    <span class="token literal-property property">geocoder</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>  <span class="token operator">/</span>【放大镜搜索按钮】<span class="token operator">/</span> 禁用地理编码器控件。地理编码器允许用户通过输入地址或地名来定位地图。
	<span class="token literal-property property">baseLayerPicker</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span><span class="token comment">// 底图切换按钮</span>
	baseLayer：<span class="token keyword">new</span> <span class="token class-name">Cesium<span class="token punctuation">.</span>ImageryLayer</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Cesium<span class="token punctuation">.</span>OpenStreetMapImageryProvider</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      <span class="token literal-property property">url</span><span class="token operator">:</span> <span class="token string">&quot;https://tile.openstreetmap.org/&quot;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token comment">//应用于地球仪的最底部图像层。如果设置为false，则不会添加图像提供程序。此值仅在'baseLayerPicker'设置为false时有效。</span>
	<span class="token literal-property property">showRenderLoopErrors</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span><span class="token comment">//这个选项设置为false意味着在渲染循环中出现错误时，不会显示错误信息。</span>
	<span class="token comment">//将这个选项设置为false可以避免在控制台看到这些错误信息，但不推荐这样做，错误信息可以帮助开发者诊断问题。</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

</code></pre></div><p><a name="viewer.flytTo">viewer.flytTo</a></p> <p>它通常用于将视图（包括地图、3D 地球等）平滑地飞行到指定的目标位置、缩放级别或视角。</p> <p>它可以接受一个目标对象（如 Cesium.Cartesian3 表示的地理坐标），也可以接受一个包含目标位置、持续时间、完成回调等参数的配置对象。</p> <div class="language-js extra-class"><pre class="language-js"><code> viewer<span class="token punctuation">.</span><span class="token function">flyTo</span><span class="token punctuation">(</span>tileset<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p><a name="viewerentities">viewer.entities实体</a></p> <ul><li>添加实体方法add</li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// 创建多线段</span>
<span class="token keyword">this</span><span class="token punctuation">.</span>viewer<span class="token punctuation">.</span>entities<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
	<span class="token literal-property property">id</span><span class="token operator">:</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">odLine_</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>index<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">_</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>i<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">,</span>
	<span class="token literal-property property">polyline</span><span class="token operator">:</span> <span class="token punctuation">{</span>
		width<span class="token punctuation">,</span>
		<span class="token literal-property property">positions</span><span class="token operator">:</span> _siglePositions<span class="token punctuation">,</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><div class="language-js extra-class"><pre class="language-js"><code>  <span class="token keyword">const</span> entity <span class="token operator">=</span> viewer<span class="token punctuation">.</span>entities<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    <span class="token literal-property property">name</span><span class="token operator">:</span> url<span class="token punctuation">,</span> 
    <span class="token literal-property property">position</span><span class="token operator">:</span> position<span class="token punctuation">,</span> <span class="token comment">//位置</span>
    <span class="token literal-property property">orientation</span><span class="token operator">:</span> orientation<span class="token punctuation">,</span><span class="token comment">//实体的方向.四元数</span>
    <span class="token literal-property property">model</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token literal-property property">uri</span><span class="token operator">:</span> url<span class="token punctuation">,</span> <span class="token comment">//模型地址</span>
      <span class="token literal-property property">minimumPixelSize</span><span class="token operator">:</span> <span class="token number">128</span><span class="token punctuation">,</span><span class="token comment">//定义了模型在屏幕上显示的最小像素尺寸。即使模型在地理上远离视口，它也会保持至少这个尺寸，有助于在缩放或远离模型时保持其可见性。</span>
      <span class="token literal-property property">maximumScale</span><span class="token operator">:</span> <span class="token number">20000</span><span class="token punctuation">,</span><span class="token comment">//定义了模型可以缩放的最大比例。这有助于防止模型在接近视口时变得过大。</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> videoElement <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">&quot;trailer&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//一个video标签</span>
<span class="token keyword">const</span> sphere <span class="token operator">=</span> viewer<span class="token punctuation">.</span>entities<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token punctuation">{</span>  
    <span class="token literal-property property">position</span><span class="token operator">:</span> Cesium<span class="token punctuation">.</span>Cartesian3<span class="token punctuation">.</span><span class="token function">fromDegrees</span><span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">79</span><span class="token punctuation">,</span> <span class="token number">39</span><span class="token punctuation">,</span> <span class="token number">1000</span><span class="token punctuation">)</span><span class="token punctuation">,</span>  
    <span class="token literal-property property">ellipsoid</span><span class="token operator">:</span> <span class="token punctuation">{</span>  
	  <span class="token comment">//椭圆球半径</span>
      <span class="token literal-property property">radii</span><span class="token operator">:</span> <span class="token keyword">new</span> <span class="token class-name">Cesium<span class="token punctuation">.</span>Cartesian3</span><span class="token punctuation">(</span><span class="token number">1000</span><span class="token punctuation">,</span> <span class="token number">1000</span><span class="token punctuation">,</span> <span class="token number">1000</span><span class="token punctuation">)</span><span class="token punctuation">,</span>  
      <span class="token literal-property property">material</span><span class="token operator">:</span> videoElement<span class="token punctuation">,</span>  
    <span class="token punctuation">}</span><span class="token punctuation">,</span>  
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  
</code></pre></div><ul><li>删除所有实体removeAll</li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">//将当前viewer场景中的所有实体全部移除</span>
viewer<span class="token punctuation">.</span>entities<span class="token punctuation">.</span><span class="token function">removeAll</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><ul><li>trackedEntity：获取或设置摄像机当前正在跟踪的Entity实例。</li></ul> <p>Cesium的视图就会自动调整，以确保这个实体始终保持在视图中。</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// 创建Cesium Viewer实例  </span>
<span class="token keyword">var</span> viewer <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Cesium<span class="token punctuation">.</span>Viewer</span><span class="token punctuation">(</span><span class="token string">'cesiumContainer'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  
  
<span class="token comment">// 添加一个实体到场景  </span>
<span class="token keyword">var</span> entity <span class="token operator">=</span> viewer<span class="token punctuation">.</span>entities<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token punctuation">{</span>  
    <span class="token literal-property property">name</span> <span class="token operator">:</span> <span class="token string">'A sample entity'</span><span class="token punctuation">,</span>  
    <span class="token literal-property property">position</span> <span class="token operator">:</span> Cesium<span class="token punctuation">.</span>Cartesian3<span class="token punctuation">.</span><span class="token function">fromDegrees</span><span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">75.59777</span><span class="token punctuation">,</span> <span class="token number">40.03883</span><span class="token punctuation">)</span><span class="token punctuation">,</span>  
    <span class="token literal-property property">point</span> <span class="token operator">:</span> <span class="token punctuation">{</span>  
        <span class="token literal-property property">pixelSize</span> <span class="token operator">:</span> <span class="token number">10</span><span class="token punctuation">,</span>  
        <span class="token literal-property property">color</span> <span class="token operator">:</span> Cesium<span class="token punctuation">.</span>Color<span class="token punctuation">.</span><span class="token constant">RED</span>  
    <span class="token punctuation">}</span>  
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  
  
<span class="token comment">// 设置trackedEntity为刚才添加的实体  </span>
viewer<span class="token punctuation">.</span>trackedEntity <span class="token operator">=</span> entity<span class="token punctuation">;</span>
</code></pre></div><ul><li>model:实体模型的部分属性</li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// 创建一个实体并添加到viewer的实体集合中  </span>
<span class="token keyword">var</span> entity <span class="token operator">=</span> viewer<span class="token punctuation">.</span>entities<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token punctuation">{</span>  
    <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">'My Model'</span><span class="token punctuation">,</span>  
    <span class="token literal-property property">position</span><span class="token operator">:</span> Cesium<span class="token punctuation">.</span>Cartesian3<span class="token punctuation">.</span><span class="token function">fromDegrees</span><span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">123.0744619</span><span class="token punctuation">,</span> <span class="token number">44.0503706</span><span class="token punctuation">,</span> <span class="token number">5000.0</span><span class="token punctuation">)</span><span class="token punctuation">,</span>  
    <span class="token literal-property property">model</span><span class="token operator">:</span> <span class="token punctuation">{</span>  
        <span class="token literal-property property">uri</span><span class="token operator">:</span> <span class="token string">'path/to/your/model.gltf'</span><span class="token punctuation">,</span>  
        <span class="token literal-property property">minimumPixelSize</span><span class="token operator">:</span> <span class="token number">128</span><span class="token punctuation">,</span>  
        <span class="token literal-property property">maximumScale</span><span class="token operator">:</span> <span class="token number">20000</span><span class="token punctuation">,</span>  
        <span class="token literal-property property">color</span><span class="token operator">:</span> Cesium<span class="token punctuation">.</span>Color<span class="token punctuation">.</span><span class="token constant">WHITE</span><span class="token punctuation">.</span><span class="token function">withAlpha</span><span class="token punctuation">(</span><span class="token number">0.5</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token comment">// 初始颜色，带透明度  </span>
        <span class="token comment">// 注意：在创建实体时，你也可以直接设置colorBlendMode，但这里我们留空  </span>
    <span class="token punctuation">}</span>  
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  
</code></pre></div><div class="language-js extra-class"><pre class="language-js"><code>entity<span class="token punctuation">.</span>model<span class="token punctuation">.</span>colorBlendMode <span class="token operator">=</span> Cesium<span class="token punctuation">.</span>ColorBlendMode<span class="token punctuation">.</span><span class="token constant">MIX</span><span class="token punctuation">;</span> <span class="token comment">// 设置为MIX混合模式  </span>
</code></pre></div><div class="language-js extra-class"><pre class="language-js"><code>entity<span class="token punctuation">.</span>model<span class="token punctuation">.</span>color
</code></pre></div><p><a name="viewerbaseLayer">viewer.baseLayer 图层</a></p> <p>基础图层,通常有new Cesium.ImageryLayer(imageryProvider, options)提供</p> <ul><li>Cesium.ImageryLayer.fromProviderAsync(imageryProviderPromise, options)【静态方法】：从异步图像提供程序创建一个新的图像层。该层将处理任何异步加载或错误，并在准备好后开始渲染图像层。
<ul><li>imageryProviderPromise: Promise.<ImageryProvider></ImageryProvider></li> <li>Cesium.buildModuleUrl(&quot;Assets/Textures/NaturalEarthII&quot;) // 给相对url返回绝对url</li> <li>TileMapServiceImageryProvider.fromUrl:从指定的url创建TileMapServiceImageryProvider。</li></ul></li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> viewer <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Cesium<span class="token punctuation">.</span>Viewer</span><span class="token punctuation">(</span><span class="token string">&quot;cesiumContainer&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">baseLayer</span><span class="token operator">:</span> Cesium<span class="token punctuation">.</span>ImageryLayer<span class="token punctuation">.</span><span class="token function">fromProviderAsync</span><span class="token punctuation">(</span>
	Cesium<span class="token punctuation">.</span>TileMapServiceImageryProvider<span class="token punctuation">.</span><span class="token function">fromUrl</span><span class="token punctuation">(</span>
	  Cesium<span class="token punctuation">.</span><span class="token function">buildModuleUrl</span><span class="token punctuation">(</span><span class="token string">&quot;Assets/Textures/NaturalEarthII&quot;</span><span class="token punctuation">)</span>
	<span class="token punctuation">)</span>
  <span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> viewer <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Cesium<span class="token punctuation">.</span>Viewer</span><span class="token punctuation">(</span><span class="token string">&quot;cesiumContainer&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">baseLayer</span><span class="token operator">:</span> Cesium<span class="token punctuation">.</span>ImageryLayer<span class="token punctuation">.</span><span class="token function">fromProviderAsync</span><span class="token punctuation">(</span>Cesium<span class="token punctuation">.</span>IonImageryProvider<span class="token punctuation">.</span><span class="token function">fromAssetId</span><span class="token punctuation">(</span><span class="token number">3812</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><ul><li>new Cesium.ImageryLayer:添加图层其他方案</li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> viewer <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Cesium<span class="token punctuation">.</span>Viewer</span><span class="token punctuation">(</span><span class="token string">&quot;cesiumContainer&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
	<span class="token literal-property property">baseLayer</span><span class="token operator">:</span> <span class="token keyword">new</span> <span class="token class-name">Cesium<span class="token punctuation">.</span>ImageryLayer</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Cesium<span class="token punctuation">.</span>OpenStreetMapImageryProvider</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
	  <span class="token literal-property property">url</span><span class="token operator">:</span> <span class="token string">&quot;https://tile.openstreetmap.org/&quot;</span>
	<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// Add Cesium ion's default world imagery layer</span>
<span class="token keyword">const</span> imageryLayer <span class="token operator">=</span> Cesium<span class="token punctuation">.</span>ImageryLayer<span class="token punctuation">.</span><span class="token function">fromWorldImagery</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
scene<span class="token punctuation">.</span>imageryLayers<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>imageryLayer<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><ul><li>继续添加其他图层</li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> provider <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Cesium<span class="token punctuation">.</span>WebMapTileServiceImageryProvider</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
	  <span class="token literal-property property">url</span><span class="token operator">:</span>
		<span class="token string">&quot;https://gibs.earthdata.nasa.gov/wmts/epsg4326/best/MODIS_Terra_CorrectedReflectance_TrueColor/default/{Time}/{TileMatrixSet}/{TileMatrix}/{TileRow}/{TileCol}.jpg&quot;</span><span class="token punctuation">,</span>
	  <span class="token literal-property property">layer</span><span class="token operator">:</span> <span class="token string">&quot;MODIS_Terra_CorrectedReflectance_TrueColor&quot;</span><span class="token punctuation">,</span><span class="token comment">//指定要获取的影像图层名称</span>
	  <span class="token literal-property property">style</span><span class="token operator">:</span> <span class="token string">&quot;default&quot;</span><span class="token punctuation">,</span><span class="token comment">//设置影像的样式为默认样式。</span>
	  <span class="token literal-property property">tileMatrixSetID</span><span class="token operator">:</span> <span class="token string">&quot;250m&quot;</span><span class="token punctuation">,</span><span class="token comment">//指定瓦片矩阵集的 ID，表示瓦片的分辨率级别。</span>
	  <span class="token literal-property property">maximumLevel</span><span class="token operator">:</span> <span class="token number">5</span><span class="token punctuation">,</span><span class="token comment">//设置最大的瓦片级别。</span>
	  <span class="token literal-property property">format</span><span class="token operator">:</span> <span class="token string">&quot;image/jpeg&quot;</span><span class="token punctuation">,</span><span class="token comment">//指定影像的格式为 JPEG。</span>
	  <span class="token literal-property property">clock</span><span class="token operator">:</span> viewer<span class="token punctuation">.</span>clock<span class="token punctuation">,</span><span class="token comment">//将 viewer 对象的时钟（clock）传递给影像服务提供者，可能用于与时间相关的动态影像显示。</span>
	  <span class="token literal-property property">times</span><span class="token operator">:</span> times<span class="token punctuation">,</span><span class="token comment">//传递之前创建的时间间隔集合 times，用于获取特定时间段内的影像数据。</span>
	  <span class="token literal-property property">credit</span><span class="token operator">:</span> <span class="token string">&quot;NASA Global Imagery Browse Services for EOSDIS&quot;</span><span class="token punctuation">,</span><span class="token comment">//设置影像数据的来源说明。</span>
	<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
       
        <span class="token keyword">const</span> layer <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Cesium<span class="token punctuation">.</span>ImageryLayer</span><span class="token punctuation">(</span>provider<span class="token punctuation">)</span><span class="token punctuation">;</span>
viewer<span class="token punctuation">.</span>imageryLayers<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>layer<span class="token punctuation">)</span>
</code></pre></div><p><a name="viewer.extend">viewer.extend</a>
使用提供的mixin扩展基本查看器功能。mixin可以向提供的查看器实例添加附加属性、函数或其他行为。</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token function">extend</span><span class="token punctuation">(</span>mixin<span class="token punctuation">,</span> options<span class="token punctuation">)</span>
</code></pre></div><div class="language-js extra-class"><pre class="language-js"><code> viewer<span class="token punctuation">.</span><span class="token function">extend</span><span class="token punctuation">(</span>Cesium<span class="token punctuation">.</span>viewerVoxelInspectorMixin<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p><a name="resolutionScale">resolutionScale渲染分辨率的缩放因子</a></p> <p>获取或设置渲染分辨率的缩放因子。小于1.0的值可以提高功能较弱设备的性能，而大于1.0的值将以更高的分辨率渲染，然后缩放，从而提高视觉保真度。例如，如果小部件以640x480的大小布局，将此值设置为0.5将导致场景以320x240渲染，然后在将其设置为2.0时进行缩放，将导致场景以1280x960渲染，然后进行缩放。</p> <p>viewer.resolutionScale 默认为1，可根据需求调整</p> <div class="language-js extra-class"><pre class="language-js"><code> viewer<span class="token punctuation">.</span>resolutionScale <span class="token operator">=</span> window<span class="token punctuation">.</span>devicePixelRatio <span class="token comment">//设备的物理像素分辨率与CSS像素分辨率之间的比率</span>
</code></pre></div><p><a name="selectedEntity">selectedEntity</a>
selectedEntity 是当前在视图中被选中的实体（例如，一个点、线、多边形或自定义对象）</p> <div class="language-js extra-class"><pre class="language-js"><code> tableHtmlScratch <span class="token operator">+=</span>
      <span class="token string">&quot;&lt;tr&gt;&lt;th colspan='4'&gt;&lt;i style='font-size:10px'&gt;Hover on a row for description&lt;/i&gt;&lt;/th&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&quot;</span><span class="token punctuation">;</span>
viewer<span class="token punctuation">.</span>selectedEntity<span class="token punctuation">.</span>description <span class="token operator">=</span> tableHtmlScratch<span class="token punctuation">;</span>
</code></pre></div><p><a name="selectedEntityChanged">selectedEntityChanged</a>
用于监听当前选中实体发生变化的事件。当用户在视图中选中不同的实体时，这个事件会被触发。</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// 假设您已经创建了一个 CesiumViewer 实例，并命名为 viewer  </span>
<span class="token keyword">var</span> viewer <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Cesium<span class="token punctuation">.</span>Viewer</span><span class="token punctuation">(</span><span class="token string">'cesiumContainer'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  
  
<span class="token comment">// 监听 selectedEntityChanged 事件  </span>
viewer<span class="token punctuation">.</span>selectedEntityChanged<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">newSelectedEntity</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>  
    <span class="token comment">// 检查是否有新的选中实体  </span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>Cesium<span class="token punctuation">.</span><span class="token function">defined</span><span class="token punctuation">(</span>newSelectedEntity<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>  
        <span class="token comment">// 打印选中实体的名称（如果实体有 name 属性）  </span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'Selected entity name:'</span><span class="token punctuation">,</span> newSelectedEntity<span class="token punctuation">.</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span>  
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>  
        <span class="token comment">// 如果没有选中实体，打印提示信息  </span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'No entity selected.'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  
    <span class="token punctuation">}</span>  
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  
  
<span class="token comment">// 为了演示，我们可以添加一些实体到场景中  </span>
<span class="token keyword">var</span> entities <span class="token operator">=</span> viewer<span class="token punctuation">.</span>entities<span class="token punctuation">;</span>  
  
<span class="token comment">// 添加第一个实体  </span>
entities<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token punctuation">{</span>  
    <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">'Entity 1'</span><span class="token punctuation">,</span>  
    <span class="token literal-property property">position</span><span class="token operator">:</span> Cesium<span class="token punctuation">.</span>Cartesian3<span class="token punctuation">.</span><span class="token function">fromDegrees</span><span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">75.59777</span><span class="token punctuation">,</span> <span class="token number">40.03883</span><span class="token punctuation">)</span>  
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  
  
<span class="token comment">// 添加第二个实体  </span>
entities<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token punctuation">{</span>  
    <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">'Entity 2'</span><span class="token punctuation">,</span>  
    <span class="token literal-property property">position</span><span class="token operator">:</span> Cesium<span class="token punctuation">.</span>Cartesian3<span class="token punctuation">.</span><span class="token function">fromDegrees</span><span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">122.1958</span><span class="token punctuation">,</span> <span class="token number">37.4078</span><span class="token punctuation">)</span>  
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  
  
<span class="token comment">// ... 可以继续添加更多实体  </span>
  
<span class="token comment">// 在实际应用中，用户会通过点击或其他交互方式来选中实体  </span>
<span class="token comment">// 在这个示例中，我们可以直接设置 selectedEntity 来模拟选中过程  </span>
<span class="token comment">// 注意：在实际应用中，您通常不会这样做，而是让用户通过交互来选中实体  </span>
<span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>  
    <span class="token comment">// 选中第一个实体  </span>
    viewer<span class="token punctuation">.</span>selectedEntity <span class="token operator">=</span> entities<span class="token punctuation">.</span>values<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token comment">// 这将触发 selectedEntityChanged 事件  </span>
    <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>  
        <span class="token comment">// 一段时间后，选中第二个实体  </span>
        viewer<span class="token punctuation">.</span>selectedEntity <span class="token operator">=</span> entities<span class="token punctuation">.</span>values<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token comment">// 这将再次触发 selectedEntityChanged 事件  </span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">3000</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 延迟3秒  </span>
<span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">3000</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 初始延迟3秒，以便用户有时间看到场景加载</span>
</code></pre></div><blockquote><p>viewer.selectedEntity也可以通过点击事件自动切换</p></blockquote> <p><a name="Model">Model 模型</a></p> <blockquote><p>To construct a Model, call Model.fromGltfAsync. Do not call the constructor directly.</p></blockquote> <ul><li>colorBlendAmount:当colorBlendMode为MIX时，用于确定颜色强度的值。0.0的值会导致模型呈现的颜色，而1.0的值会导致纯色，中间的任何值都会导致两者的混合。 ( Default Value: 0.5 )</li></ul> <div class="language-js extra-class"><pre class="language-js"><code> entityxxx<span class="token punctuation">.</span>model<span class="token punctuation">.</span>colorBlendMode <span class="token operator">=</span> number<span class="token punctuation">;</span>
</code></pre></div><ul><li>silhouetteColor:剪影颜色,轮廓颜色， 默认值： Color.RED</li></ul> <div class="language-js extra-class"><pre class="language-js"><code>entity<span class="token punctuation">.</span>model<span class="token punctuation">.</span>silhouetteColor <span class="token operator">=</span> xxx
</code></pre></div><ul><li>silhouetteSize:轮廓尺寸，（以像素为单位），默认0.0</li> <li>color</li> <li>uri: //模型地址</li> <li>minimumPixelSize: number,//定义了模型在屏幕上显示的最小像素尺寸。即使模型在地理上远离视口，它也会保持至少这个尺寸，有助于在缩放或远离模型时保持其可见性。</li> <li>maximumScale: number,//定义了模型可以缩放的最大比例。这有助于防止模型在接近视口时变得过大。</li></ul> <p><a name="#Model.fromGltfAsync">Model.fromGltfAsync</a>
从glTF资产异步创建模型。此函数返回一个Promise，当模型准备好渲染时，即下载外部二进制、图像和着色器文件并创建WebGL资源时，该Promise会解析。</p> <div class="language-js extra-class"><pre class="language-js"><code> <span class="token keyword">const</span> resource <span class="token operator">=</span> <span class="token keyword">await</span> Cesium<span class="token punctuation">.</span>IonResource<span class="token punctuation">.</span><span class="token function">fromAssetId</span><span class="token punctuation">(</span>ionAssetId<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token comment">// console.warn(resource)</span>
	model <span class="token operator">=</span> <span class="token keyword">await</span> Cesium<span class="token punctuation">.</span>Model<span class="token punctuation">.</span><span class="token function">fromGltfAsync</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
	  <span class="token literal-property property">url</span><span class="token operator">:</span> resource<span class="token punctuation">,</span>
	  <span class="token literal-property property">modelMatrix</span><span class="token operator">:</span> modelMatrix<span class="token punctuation">,</span>
	  imageBasedLighting<span class="token punctuation">,</span>
	<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

	scene<span class="token punctuation">.</span>primitives<span class="token punctuation">.</span><span class="token function">removeAll</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	scene<span class="token punctuation">.</span>primitives<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>model<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p><a name="model.readyEvent">model.readyEvent</a>
这是一个Cesium中3D模型对象的事件属性。当模型完全加载并准备好在场景中显示时，这个事件会被触发。</p> <div class="language-js extra-class"><pre class="language-js"><code>model<span class="token punctuation">.</span>readyEvent<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token comment">// do something</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p><a name="model.boundingSphere">model.boundingSphere模型边界球体</a></p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// 获取球体半径</span>
 <span class="token keyword">let</span> <span class="token punctuation">{</span> radius <span class="token punctuation">}</span> <span class="token operator">=</span> model<span class="token punctuation">.</span>boundingSphere<span class="token punctuation">;</span>
</code></pre></div><p><a name="VoxelShapeType">VoxelShapeType体素形状枚举[非标准]</a></p> <table><thead><tr><th>名称</th> <th>类型</th> <th>描述</th></tr></thead> <tbody><tr><td>BOX</td> <td>STRING</td> <td>盒子形状。</td></tr> <tr><td>ELLIPSOID</td> <td>STRING</td> <td>椭球形状。</td></tr> <tr><td>CYLINDER</td> <td>STRING</td> <td>圆柱体形状。</td></tr></tbody></table> <div class="language-js extra-class"><pre class="language-js"><code>Cesium<span class="token punctuation">.</span>VoxelShapeType<span class="token punctuation">.</span><span class="token constant">BOX</span>
</code></pre></div><blockquote><p>此功能不是最终的，可能会在没有cesium标准弃用策略的情况下进行更改。</p></blockquote> <p>还提供了三个函数</p> <ul><li>getMaxBounds: function getMaxBounds(shapeType)​</li> <li>getMinBounds: function getMinBounds(shapeType)​</li> <li>getShapeConstructor: function</li></ul> <p><a name="MetadataType">MetadataType元数据类型[非标准]</a></p> <table><thead><tr><th>名称</th> <th>类型</th> <th>描述</th></tr></thead> <tbody><tr><td>SCALAR</td> <td>字符串</td> <td>单个分量</td></tr> <tr><td>VEC2</td> <td>字符串</td> <td>具有两个分量的向量</td></tr> <tr><td>VEC3</td> <td>字符串</td> <td>具有三个分量的向量</td></tr> <tr><td>VEC4</td> <td>字符串</td> <td>具有四个分量的向量</td></tr> <tr><td>MAT2</td> <td>字符串</td> <td>2x2矩阵，以列主要格式存储。</td></tr> <tr><td>MAT3</td> <td>字符串</td> <td>3x3矩阵，以列主要格式存储。</td></tr> <tr><td>MAT4</td> <td>字符串</td> <td>4x4矩阵，以列主要格式存储。</td></tr> <tr><td>BOOLEAN</td> <td>字符串</td> <td>布尔值（真/假）</td></tr> <tr><td>STRING</td> <td>字符串</td> <td>UTF-8编码字符串值</td></tr> <tr><td>ENUM</td> <td>字符串</td> <td>枚举值。这种类型与MetadataEnum结合使用来描述有效值。</td></tr></tbody></table> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> channelCount <span class="token operator">=</span> Cesium<span class="token punctuation">.</span>MetadataType<span class="token punctuation">.</span><span class="token function">getComponentCount</span><span class="token punctuation">(</span>
	<span class="token keyword">this</span><span class="token punctuation">.</span>types<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p><a name="MetadataComponentType">MetadataComponentType元数据组件枚举[非标准]</a></p> <table><thead><tr><th>名称</th> <th>类型</th> <th>描述</th></tr></thead> <tbody><tr><td>INT8</td> <td>字符串</td> <td>8位有符号整数</td></tr> <tr><td>UINT8</td> <td>字符串</td> <td>8位无符号整数</td></tr> <tr><td>INT16</td> <td>字符串</td> <td>16位有符号整数</td></tr> <tr><td>UINT16</td> <td>字符串</td> <td>16位无符号整数</td></tr> <tr><td>INT32</td> <td>字符串</td> <td>32位有符号整数</td></tr> <tr><td>UINT32</td> <td>字符串</td> <td>32位无符号整数</td></tr> <tr><td>INT64</td> <td>字符串</td> <td>64位有符号整数。此类型需要BigInt支持。</td></tr> <tr><td>UINT64</td> <td>字符串</td> <td>64位有符号整数。此类型需要BigInt支持</td></tr> <tr><td>FLOAT32</td> <td>字符串</td> <td>32位（单精度）浮点数</td></tr> <tr><td>FLOAT64</td> <td>字符串</td> <td>64位（双精度）浮点数</td></tr></tbody></table> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">this</span><span class="token punctuation">.</span>componentTypes <span class="token operator">=</span> <span class="token punctuation">[</span>Cesium<span class="token punctuation">.</span>MetadataComponentType<span class="token punctuation">.</span><span class="token constant">FLOAT32</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
</code></pre></div><p><a name="WebMapTileServiceImageryProvider">WebMapTileServiceImageryProvider</a>
用于加载 Web 地图服务 (WMS) 或 Web 地图瓦片服务 (WMTS) 图像层的一个类</p> <div class="language-js extra-class"><pre class="language-js"><code>      <span class="token keyword">const</span> provider <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Cesium<span class="token punctuation">.</span>WebMapTileServiceImageryProvider</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
          <span class="token literal-property property">url</span><span class="token operator">:</span>
            <span class="token string">&quot;https://gibs.earthdata.nasa.gov/wmts/epsg4326/best/MODIS_Terra_CorrectedReflectance_TrueColor/default/{Time}/{TileMatrixSet}/{TileMatrix}/{TileRow}/{TileCol}.jpg&quot;</span><span class="token punctuation">,</span>
          <span class="token literal-property property">layer</span><span class="token operator">:</span> <span class="token string">&quot;MODIS_Terra_CorrectedReflectance_TrueColor&quot;</span><span class="token punctuation">,</span><span class="token comment">//指定要获取的影像图层名称</span>
          <span class="token literal-property property">style</span><span class="token operator">:</span> <span class="token string">&quot;default&quot;</span><span class="token punctuation">,</span><span class="token comment">//设置影像的样式为默认样式。</span>
          <span class="token literal-property property">tileMatrixSetID</span><span class="token operator">:</span> <span class="token string">&quot;250m&quot;</span><span class="token punctuation">,</span><span class="token comment">//指定瓦片矩阵集的 ID，表示瓦片的分辨率级别。</span>
          <span class="token literal-property property">maximumLevel</span><span class="token operator">:</span> <span class="token number">5</span><span class="token punctuation">,</span><span class="token comment">//设置最大的瓦片级别。</span>
          <span class="token literal-property property">format</span><span class="token operator">:</span> <span class="token string">&quot;image/jpeg&quot;</span><span class="token punctuation">,</span><span class="token comment">//指定影像的格式为 JPEG。</span>
          <span class="token literal-property property">clock</span><span class="token operator">:</span> viewer<span class="token punctuation">.</span>clock<span class="token punctuation">,</span><span class="token comment">//将 viewer 对象的时钟（clock）传递给影像服务提供者，可能用于与时间相关的动态影像显示。</span>
          <span class="token literal-property property">times</span><span class="token operator">:</span> times<span class="token punctuation">,</span><span class="token comment">//传递之前创建的时间间隔集合 times，用于获取特定时间段内的影像数据。</span>
          <span class="token literal-property property">credit</span><span class="token operator">:</span> <span class="token string">&quot;NASA Global Imagery Browse Services for EOSDIS&quot;</span><span class="token punctuation">,</span><span class="token comment">//设置影像数据的来源说明。</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">//创建一个常量 layer，并使用 Cesium.ImageryLayer 构造函数创建一个影像图层对象，</span>
        <span class="token comment">//将之前创建的影像服务提供者 provider 作为参数传入，这样这个影像图层就可以使用 provider 提供的影像数据。</span>
        <span class="token keyword">const</span> layer <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Cesium<span class="token punctuation">.</span>ImageryLayer</span><span class="token punctuation">(</span>provider<span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">// Make the weather layer semi-transparent to see the underlying geography.</span>
        layer<span class="token punctuation">.</span>alpha <span class="token operator">=</span> <span class="token number">0.5</span>
        <span class="token comment">//将创建的影像图层 layer 添加到 viewer 对象的影像图层集合中，</span>
        <span class="token comment">//这样在 Cesium 可视化界面中就可以显示这个影像图层了。</span>
        viewer<span class="token punctuation">.</span>imageryLayers<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>layer<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p><a name="Terrain">Terrain地形</a></p> <p>用于管理地形提供程序的异步操作的提供者。</p> <ul><li>Cesium.Terrain.fromWorldTerrain:创建一个Terrain实例为cesium世界地形。使用此地形数据可以使场景中的地形更加真实</li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// Create Cesium World Terrain with default settings</span>
<span class="token keyword">const</span> viewer <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Cesium<span class="token punctuation">.</span>Viewer</span><span class="token punctuation">(</span><span class="token string">&quot;cesiumContainer&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">terrain</span><span class="token operator">:</span> Cesium<span class="token punctuation">.</span>Terrain<span class="token punctuation">.</span><span class="token function">fromWorldTerrain</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// Create</span>
<span class="token keyword">const</span> viewer <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Cesium<span class="token punctuation">.</span>Viewer</span><span class="token punctuation">(</span><span class="token string">&quot;cesiumContainer&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">terrain</span><span class="token operator">:</span> <span class="token keyword">new</span> <span class="token class-name">Cesium<span class="token punctuation">.</span>Terrain</span><span class="token punctuation">(</span>Cesium<span class="token punctuation">.</span>CesiumTerrainProvider<span class="token punctuation">.</span><span class="token function">fromUrl</span><span class="token punctuation">(</span><span class="token string">&quot;https://myTestTerrain.com&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p><a name="primitive">Primitive 图元</a></p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// 合并单个geometry,提高渲染效率</span>
areaPrimitive <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Primitive</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    <span class="token comment">// 这个属性决定了在渲染完成后是否释放geometryInstances。设置为false意味着这些实例将在Primitive的整个生命周期内保持活动状态，</span>
    <span class="token comment">//这有助于在需要时重新渲染或更新这些实例。如果设置为true，则Cesium可能会在渲染完成后释放这些实例，以节省内存。</span>
    <span class="token literal-property property">releaseGeometryInstances</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    <span class="token literal-property property">geometryInstances</span><span class="token operator">:</span> instances<span class="token punctuation">,</span><span class="token comment">// instances实例化集合</span>
    <span class="token literal-property property">appearance</span><span class="token operator">:</span> <span class="token keyword">new</span> <span class="token class-name">PerInstanceColorAppearance</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
        <span class="token literal-property property">translucent</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token comment">// 当 true 时，几何体应该是半透明的，因此 PerInstanceColorAppearance#renderState 启用了 alpha 混合。</span>
        <span class="token literal-property property">closed</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span> <span class="token comment">// 当 true 时，几何体应该是关闭的，因此 PerInstanceColorAppearance#renderState 启用了背面剔除。</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token comment">// 这个属性决定了Primitive的加载和渲染是否是异步的。设置为false意味着这些几何体将同步加载和渲染，</span>
    <span class="token comment">// 即它们将在调用创建Primitive的代码之后立即被处理和渲染。</span>
    <span class="token comment">//如果设置为true，Cesium可能会延迟这些几何体的加载和渲染，直到它认为这样做更合适（例如，在更新视图或资源可用时）。</span>
    <span class="token literal-property property">asynchronous</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">this</span><span class="token punctuation">.</span>#areaPrimitive <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>viewer<span class="token punctuation">.</span>scene<span class="token punctuation">.</span>primitives<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>areaPrimitive<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// 添加到scene</span>
 <span class="token keyword">this</span><span class="token punctuation">.</span>#areaPrimitive  <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>viewer<span class="token punctuation">.</span>scene<span class="token punctuation">.</span>primitives<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>areaPrimitive<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">//从场景中移除</span>
 <span class="token keyword">this</span><span class="token punctuation">.</span>#areaPrimitive <span class="token operator">&amp;&amp;</span> <span class="token keyword">this</span><span class="token punctuation">.</span>viewer<span class="token punctuation">.</span>scene<span class="token punctuation">.</span>primitives<span class="token punctuation">.</span><span class="token function">remove</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>#areaPrimitive<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p><a name="geometryInstances">geometryInstances</a></p> <p>Array.<GeometryInstance> | GeometryInstance</GeometryInstance></p> <p>要渲染的几何实例-或单个几何实例。</p> <ul><li>new Cesium.GeometryInstance(options):几何实例化允许一个Geometry对象在多个位置 不同的位置和独特的颜色。例如，一个BoxGeometry可以 被实例化几次，每次都有不同的modelMatrix来改变 它的位置、旋转和比例。</li></ul> <table><thead><tr><th>名称</th> <th>类型</th> <th>默认</th> <th>说明</th></tr></thead> <tbody><tr><td>geometry</td> <td>几何</td> <td>几何工厂</td> <td>要实例化的几何。</td></tr> <tr><td>modelMatrix</td> <td>Matrix4</td> <td>Matrix4.IDENTITY</td> <td>可选 转换以将几何从模型转换为世界坐标的模型矩阵。</td></tr> <tr><td>id</td> <td>对象</td> <td></td> <td>可选 选择实例时要返回的用户定义对象Scene#pick或获取/设置每个实例的属性Primitive#getGeometryInstanceAttributes.</td></tr> <tr><td>attributes</td> <td>对象</td> <td></td> <td>可选 每个实例的属性，如下面示例中显示的show或color属性。</td></tr></tbody></table> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> boxPrimitive <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Primitive</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
	<span class="token literal-property property">geometryInstances</span><span class="token operator">:</span> <span class="token keyword">new</span> <span class="token class-name">GeometryInstance</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
		<span class="token literal-property property">geometry</span><span class="token operator">:</span> BoxGeometry<span class="token punctuation">.</span><span class="token function">fromDimensions</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
			<span class="token literal-property property">dimensions</span><span class="token operator">:</span> <span class="token keyword">new</span> <span class="token class-name">Cartesian3</span><span class="token punctuation">(</span><span class="token number">1000</span><span class="token punctuation">,</span> <span class="token number">1000</span><span class="token punctuation">,</span> <span class="token number">1000</span><span class="token punctuation">)</span>
		<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
		<span class="token literal-property property">modelMatrix</span><span class="token operator">:</span> Transforms<span class="token punctuation">.</span><span class="token function">eastNorthUpToFixedFrame</span><span class="token punctuation">(</span>Cartesian3<span class="token punctuation">.</span><span class="token function">fromDegrees</span><span class="token punctuation">(</span><span class="token number">114.005</span><span class="token punctuation">,</span> <span class="token number">25.02</span><span class="token punctuation">,</span> <span class="token number">1000</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
	<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
	appearance：xxx
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><ul><li>BoxGeometry:描述以原点为中心的多维数据集。</li> <li>BoxGeometry.fromDimensions：在给定尺寸的情况下，创建一个以原点为中心的多维数据集</li> <li>modelMatrix: Transforms.eastNorthUpToFixedFrame(Cartesian3.fromDegrees(114.005, 25.02, 1000))：Transforms.northUpEastToFixedFrame 方法接受一个经纬度点（和一个可选的高程），并返回一个变换矩阵，该矩阵将局部北-上-东（NUE）坐标系变换到地球固定坐标系。这个变换矩阵是 modelMatrix 所需要的，以便将几何体放置在地球上的正确位置。</li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> polygonPrimitive <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Primitive</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
	<span class="token literal-property property">geometryInstances</span><span class="token operator">:</span> <span class="token keyword">new</span> <span class="token class-name">GeometryInstance</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
		<span class="token literal-property property">geometry</span><span class="token operator">:</span> <span class="token keyword">new</span> <span class="token class-name">PolygonGeometry</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
			<span class="token literal-property property">polygonHierarchy</span><span class="token operator">:</span> <span class="token keyword">new</span> <span class="token class-name">PolygonHierarchy</span><span class="token punctuation">(</span>Cartesian3<span class="token punctuation">.</span><span class="token function">fromDegreesArray</span><span class="token punctuation">(</span><span class="token punctuation">[</span>
				<span class="token number">114</span><span class="token punctuation">,</span> <span class="token number">25</span><span class="token punctuation">,</span>
				<span class="token number">114.01</span><span class="token punctuation">,</span> <span class="token number">25</span><span class="token punctuation">,</span>
				<span class="token number">114.01</span><span class="token punctuation">,</span> <span class="token number">25.01</span><span class="token punctuation">,</span>
				<span class="token number">114</span><span class="token punctuation">,</span> <span class="token number">25.01</span><span class="token punctuation">,</span>
			<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
			<span class="token literal-property property">height</span><span class="token operator">:</span> <span class="token number">1000</span>
		<span class="token punctuation">}</span><span class="token punctuation">)</span>
	<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
	appearance
<span class="token punctuation">}</span><span class="token punctuation">)</span>
 
</code></pre></div><ul><li>new Cesium.PolygonGeometry(options)：用于创建多边形的几何形状。</li> <li>new Cesium.PolygonHierarchy(positions, holes):定义多边形及其孔的线性环的层次结构。孔本身也可能有嵌套内部多边形的孔。</li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> polylinePrimitive <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Primitive</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
	<span class="token literal-property property">geometryInstances</span><span class="token operator">:</span> <span class="token keyword">new</span> <span class="token class-name">GeometryInstance</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
		<span class="token literal-property property">geometry</span><span class="token operator">:</span> <span class="token keyword">new</span> <span class="token class-name">PolylineGeometry</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
			<span class="token literal-property property">positions</span><span class="token operator">:</span> Cartesian3<span class="token punctuation">.</span><span class="token function">fromDegreesArrayHeights</span><span class="token punctuation">(</span><span class="token punctuation">[</span>
				<span class="token number">114.02</span><span class="token punctuation">,</span> <span class="token number">25.02</span><span class="token punctuation">,</span> <span class="token number">1000</span><span class="token punctuation">,</span>
				<span class="token number">114.05</span><span class="token punctuation">,</span> <span class="token number">25.02</span><span class="token punctuation">,</span> <span class="token number">1000</span>
			<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
			<span class="token literal-property property">width</span><span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span>
		<span class="token punctuation">}</span><span class="token punctuation">)</span>
	<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
	<span class="token literal-property property">appearance</span><span class="token operator">:</span> polylineAppearance
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><ul><li>PolylineGeometry 创建一条线段，positions位置+width：宽度</li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> ellipsoidPrimitive <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Primitive</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
	<span class="token literal-property property">geometryInstances</span><span class="token operator">:</span> <span class="token keyword">new</span> <span class="token class-name">GeometryInstance</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
		<span class="token literal-property property">geometry</span><span class="token operator">:</span> <span class="token keyword">new</span> <span class="token class-name">EllipsoidGeometry</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
			<span class="token literal-property property">radii</span><span class="token operator">:</span> <span class="token keyword">new</span> <span class="token class-name">Cartesian3</span><span class="token punctuation">(</span><span class="token number">1000</span><span class="token punctuation">,</span> <span class="token number">1000</span><span class="token punctuation">,</span> <span class="token number">1000</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
		<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
		<span class="token literal-property property">modelMatrix</span><span class="token operator">:</span> Transforms<span class="token punctuation">.</span><span class="token function">eastNorthUpToFixedFrame</span><span class="token punctuation">(</span>Cartesian3<span class="token punctuation">.</span><span class="token function">fromDegrees</span><span class="token punctuation">(</span><span class="token number">114.03</span><span class="token punctuation">,</span> <span class="token number">25.005</span><span class="token punctuation">,</span> <span class="token number">1000</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
	<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
	appearance
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><ul><li>EllipsoidGeometry创建球体</li></ul> <p><a name="VoxelPrimitive">VoxelPrimitive[非标准]</a>
从VoxelProvider呈现体素数据的原语。</p> <table><thead><tr><th>名称</th> <th>类型</th> <th>默认</th> <th>说明</th></tr></thead> <tbody><tr><td>provider</td> <td>VoxelProvider</td> <td></td> <td>可选 为基元提供磁贴数据的体素提供程序。</td></tr> <tr><td>modelMatrix</td> <td>Matrix4</td> <td>Matrix4.IDENTITY</td> <td>可选 用于转换基元的模型矩阵。</td></tr> <tr><td>customShader</td> <td>自定义着色器</td> <td></td> <td>可选 用于设置基元样式的自定义着色器。</td></tr> <tr><td>clock</td> <td>时钟</td> <td></td> <td>可选 用于控制时间动态行为的时钟。</td></tr></tbody></table> <ul><li>Cesium.VoxelProvider():提供体素数据。旨在与VoxelPrimitive一起使用。 此类型描述了一个接口，不直接实例化。</li></ul> <div class="language-js extra-class"><pre class="language-js"><code> <span class="token keyword">function</span> <span class="token function">ProceduralSingleTileVoxelProvider</span><span class="token punctuation">(</span><span class="token parameter">shape</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// VoxelProvider所需要的参数</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span>shape <span class="token operator">=</span> shape<span class="token punctuation">;</span>
  <span class="token comment">// 获取最小边框并且复制</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span>minBounds <span class="token operator">=</span> Cesium<span class="token punctuation">.</span>VoxelShapeType<span class="token punctuation">.</span><span class="token function">getMinBounds</span><span class="token punctuation">(</span>shape<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">clone</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token comment">// 获取最大边框范围并且复制</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span>maxBounds <span class="token operator">=</span> Cesium<span class="token punctuation">.</span>VoxelShapeType<span class="token punctuation">.</span><span class="token function">getMaxBounds</span><span class="token punctuation">(</span>shape<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">clone</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span>dimensions <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Cesium<span class="token punctuation">.</span>Cartesian3</span><span class="token punctuation">(</span><span class="token number">8</span><span class="token punctuation">,</span> <span class="token number">8</span><span class="token punctuation">,</span> <span class="token number">8</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span>names <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">&quot;color&quot;</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span>types <span class="token operator">=</span> <span class="token punctuation">[</span>Cesium<span class="token punctuation">.</span>MetadataType<span class="token punctuation">.</span><span class="token constant">VEC4</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token comment">//VEC4</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span>componentTypes <span class="token operator">=</span> <span class="token punctuation">[</span>Cesium<span class="token punctuation">.</span>MetadataComponentType<span class="token punctuation">.</span><span class="token constant">FLOAT32</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">const</span> primitive <span class="token operator">=</span> <span class="token function">createPrimitive</span><span class="token punctuation">(</span>
	provider<span class="token punctuation">,</span>
	customShaderColor<span class="token punctuation">,</span>
	modelMatrix
<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">function</span> <span class="token function">createPrimitive</span><span class="token punctuation">(</span><span class="token parameter">provider<span class="token punctuation">,</span> customShader<span class="token punctuation">,</span> modelMatrix</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  viewer<span class="token punctuation">.</span>scene<span class="token punctuation">.</span>primitives<span class="token punctuation">.</span><span class="token function">removeAll</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token keyword">const</span> voxelPrimitive <span class="token operator">=</span> viewer<span class="token punctuation">.</span>scene<span class="token punctuation">.</span>primitives<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>
	<span class="token keyword">new</span> <span class="token class-name">Cesium<span class="token punctuation">.</span>VoxelPrimitive</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
	  <span class="token literal-property property">provider</span><span class="token operator">:</span> provider<span class="token punctuation">,</span>
	  <span class="token literal-property property">customShader</span><span class="token operator">:</span> customShader<span class="token punctuation">,</span>
	  <span class="token literal-property property">modelMatrix</span><span class="token operator">:</span> modelMatrix<span class="token punctuation">,</span>
	<span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token operator">...</span><span class="token operator">...</span>
<span class="token punctuation">}</span>
</code></pre></div><blockquote><p>voxelPrimitive.maxBounds.x =0.5 调整参数时可参照VoxelPrimitive的属性去适配</p></blockquote> <ul><li>Cesium.Cesium3DTilesVoxelProvider(options)[非标准]：VoxelProvider从3D Tiles tileset获取体素数据。 此对象通常不直接实例化，请使用Cesium3DTilesVoxelProvider.fromUrl。</li></ul> <p>通常用于加载大规模的3D地形数据或建筑物模型，这些数据以体素的形式表示。体素是一种三维像素，它们可以组合起来表示复杂的3D形状。这种方法特别适用于需要高精度3D渲染的地理空间应用，如城市规划、地形分析、虚拟现实等。</p> <div class="language-js extra-class"><pre class="language-js"><code> <span class="token keyword">const</span> provider <span class="token operator">=</span> <span class="token keyword">await</span> Cesium<span class="token punctuation">.</span>Cesium3DTilesVoxelProvider<span class="token punctuation">.</span><span class="token function">fromUrl</span><span class="token punctuation">(</span>
	<span class="token string">&quot;../../SampleData/Cesium3DTiles/Voxel/VoxelEllipsoid3DTiles/tileset.json&quot;</span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token comment">// 自定义函数，同上个案例</span>
  <span class="token keyword">const</span> primitive <span class="token operator">=</span> <span class="token function">createPrimitive</span><span class="token punctuation">(</span>
	provider<span class="token punctuation">,</span>
	customShaderWhite<span class="token punctuation">,</span>
	<span class="token comment">// 初始化为单位矩阵的不可变Matrix4实例。</span>
	Cesium<span class="token punctuation">.</span>Matrix4<span class="token punctuation">.</span><span class="token constant">IDENTITY</span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><ul><li>requestData:请求给定磁贴的数据。数据是一个扁平的3D数组，按X、Y、Z排序。 在VoxelProvider#ready返回true之前不应调用此函数。 返回值为Promise.&lt;Array.<Array>&gt;|undefined</Array></li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token function">requestData</span><span class="token punctuation">(</span>options<span class="token punctuation">)</span> → Promise<span class="token punctuation">.</span><span class="token operator">&lt;</span>Array<span class="token punctuation">.</span><span class="token operator">&lt;</span>Array<span class="token operator">&gt;&gt;</span><span class="token operator">|</span><span class="token keyword">undefined</span>
</code></pre></div><table><thead><tr><th>名称</th> <th>类型</th> <th>默认</th> <th>说明</th></tr></thead> <tbody><tr><td>tileLevel</td> <td>数</td> <td>0</td> <td>可选 瓷砖的水平。</td></tr> <tr><td>tileX</td> <td>数</td> <td>0</td> <td>可选 磁贴的X坐标。</td></tr> <tr><td>tileY</td> <td>数</td> <td>0</td> <td>可选 瓷砖的Y坐标。</td></tr> <tr><td>tileZ</td> <td>数</td> <td>0</td> <td></td></tr></tbody></table> <p><a name="polygonGeometry">PolygonGeometry</a></p> <p>椭球面上多边形的描述。多边形由多边形层次结构定义。多边形几何可以使用Primitive和GroundPrimitive渲染。</p> <ul><li>基础形状：定义你要创建的几何体类型。 new PolygonGeometry</li> <li>渲染准备：将定义的几何体转换成可渲染的形式。 PolygonGeometry.createGeometry</li> <li>实例与属性：为每个几何体创建实例并附加特定属性。 new GeometryInstance</li> <li>组合展示：将所有几何体实例组合成一个 Primitive 并设置其外观。new Primitive</li> <li>添加到场景：将组合后的 Primitive 添加到场景中。viewer.scene.primitives.add(areaPrimitive);</li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">import</span> <span class="token punctuation">{</span>
    PolygonGeometry<span class="token punctuation">,</span>
    PolygonHierarchy<span class="token punctuation">,</span>
    PerInstanceColorAppearance<span class="token punctuation">,</span>
    Cartesian3<span class="token punctuation">,</span>
    ColorGeometryInstanceAttribute<span class="token punctuation">,</span>
    GeometryInstance<span class="token punctuation">,</span>
    Color<span class="token punctuation">,</span>
    ShowGeometryInstanceAttribute<span class="token punctuation">,</span>
    Primitive<span class="token punctuation">,</span>
    ScreenSpaceEventType<span class="token punctuation">,</span>
    defined<span class="token punctuation">,</span>
<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;cesium&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> instances <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token comment">// 创建基础几何体,这一步是定义几何体的形状，比如多边形。你需要传递参数（如顶点、高度等）来指定多边形的具体形状。</span>
<span class="token keyword">const</span> polygon <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">PolygonGeometry</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    <span class="token literal-property property">polygonHierarchy</span><span class="token operator">:</span> <span class="token keyword">new</span> <span class="token class-name">PolygonHierarchy</span><span class="token punctuation">(</span>Cartesian3<span class="token punctuation">.</span><span class="token function">fromDegreesArray</span><span class="token punctuation">(</span>polygonArray<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token comment">// 设置顶点格式，不设置的话，在这里会让青岛各区的地图有些颜色偏差，不影响功能</span>
    <span class="token literal-property property">vertexFormat</span><span class="token operator">:</span> PerInstanceColorAppearance<span class="token punctuation">.</span><span class="token constant">VERTEX_FORMAT</span><span class="token punctuation">,</span>
    <span class="token comment">// 设置面的拉伸高度</span>
    <span class="token literal-property property">extrudedHeight</span><span class="token operator">:</span> <span class="token number">300</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 这一步是将定义的几何体转换成 Cesium 可以渲染的形式。createGeometry 方法处理了几何体的计算和优化。</span>
<span class="token keyword">const</span> geometry <span class="token operator">=</span> PolygonGeometry<span class="token punctuation">.</span><span class="token function">createGeometry</span><span class="token punctuation">(</span>polygon<span class="token punctuation">)</span><span class="token punctuation">;</span>
instances<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>
    <span class="token comment">//  创建几何体实例并添加属性,这一步是为每个要渲染的几何体创建一个实例，并可以附加特定的属性（如颜色、是否显示等）。</span>
    <span class="token keyword">new</span> <span class="token class-name">GeometryInstance</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
        <span class="token literal-property property">id</span><span class="token operator">:</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">polygon-</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>i<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">,</span>
        <span class="token literal-property property">geometry</span><span class="token operator">:</span> geometry<span class="token punctuation">,</span>
        <span class="token literal-property property">attributes</span><span class="token operator">:</span> <span class="token punctuation">{</span>
            <span class="token literal-property property">color</span><span class="token operator">:</span> ColorGeometryInstanceAttribute<span class="token punctuation">.</span><span class="token function">fromColor</span><span class="token punctuation">(</span>Color<span class="token punctuation">.</span><span class="token function">fromAlpha</span><span class="token punctuation">(</span>Color<span class="token punctuation">[</span>colorArrs<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token number">0.5</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
            <span class="token literal-property property">show</span><span class="token operator">:</span> <span class="token keyword">new</span> <span class="token class-name">ShowGeometryInstanceAttribute</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 合并单个geometry,提高渲染效率</span>
<span class="token comment">// 创建并配置 Primitive</span>
areaPrimitive <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Primitive</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    <span class="token literal-property property">releaseGeometryInstances</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
    <span class="token literal-property property">geometryInstances</span><span class="token operator">:</span> instances<span class="token punctuation">,</span>
    <span class="token literal-property property">appearance</span><span class="token operator">:</span> <span class="token keyword">new</span> <span class="token class-name">PerInstanceColorAppearance</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
        <span class="token literal-property property">translucent</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> 
        <span class="token literal-property property">closed</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span> 
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token literal-property property">asynchronous</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> somevalue <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>viewer<span class="token punctuation">.</span>scene<span class="token punctuation">.</span>primitives<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>areaPrimitive<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p><a name="PolygonGeometryCreateGeometry">PolygonGeometry.createGeometry定义计算几何体[静态]</a></p> <p>计算多边形的几何表示形式，包括其顶点、索引和边界球。</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// 把描述的几何体创建起来</span>
<span class="token keyword">const</span> geometry <span class="token operator">=</span> PolygonGeometry<span class="token punctuation">.</span><span class="token function">createGeometry</span><span class="token punctuation">(</span>polygon<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p><a name="polylineGeometry">polygonHierarchy 定义形状</a>
定义多边形及其孔的线性环的层次结构。孔本身也可能有嵌套内部多边形的孔。</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// polygonArray: [一维数字数组]</span>
<span class="token keyword">const</span> polygon <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">PolygonGeometry</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    <span class="token comment">// 经纬度转换为笛卡尔坐标</span>
    <span class="token literal-property property">polygonHierarchy</span><span class="token operator">:</span> <span class="token keyword">new</span> <span class="token class-name">PolygonHierarchy</span><span class="token punctuation">(</span>Cartesian3<span class="token punctuation">.</span><span class="token function">fromDegreesArray</span><span class="token punctuation">(</span>polygonArray<span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token comment">//......</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p><a name="perInstanceColorAppearance">PerInstanceColorAppearance</a></p> <p>具有颜色属性的GeometryInstance实例的外观。 这允许多个几何实例，每个实例都有不同的颜色</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> polygon <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">PolygonGeometry</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    <span class="token literal-property property">vertexFormat</span><span class="token operator">:</span> PerInstanceColorAppearance<span class="token punctuation">.</span><span class="token constant">VERTEX_FORMAT</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><div class="language-bash extra-class"><pre class="language-bash"><code>Cesium.PerInstanceColorAppearance.FLAT_VERTEX_FORMAT

当使用 Cesium.PerInstanceColorAppearance 并且需要更详细的顶点信息时，比如位置和法线信息，

应使用此顶点格式。这允许在着色器中更精确地处理光照和其他视觉效果。

Cesium.PerInstanceColorAppearance.VERTEX_FORMAT
当使用 Cesium.PerInstanceColorAppearance 并且开启平面着色（flat shading）时，应使用此顶点格式。

平面着色意味着不考虑光照的复杂变化，每个面以单一颜色渲染，这可以简化着色过程并提高性能。

<span class="token punctuation">(</span>适用于大量简单几何体的渲染，或者当光照效果不是主要关注点时。<span class="token punctuation">)</span>
</code></pre></div><p>外观配置参数</p> <div class="language-js extra-class"><pre class="language-js"><code>areaPrimitive <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Primitive</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    <span class="token literal-property property">appearance</span><span class="token operator">:</span> <span class="token keyword">new</span> <span class="token class-name">PerInstanceColorAppearance</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
        <span class="token literal-property property">translucent</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token comment">// 当 true 时，几何体应该是半透明的，因此 PerInstanceColorAppearance#renderState 启用了 alpha 混合。</span>
        <span class="token literal-property property">closed</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span> <span class="token comment">// 当 true 时，几何体应该是关闭的，因此 PerInstanceColorAppearance#renderState 启用了背面剔除。</span>
        <span class="token literal-property property">flat</span> <span class="token operator">:</span>ture<span class="token comment">//flat 属性是一个布尔值，用于控制渲染时是否使用平面着色（flat shading）或平滑着色（smooth shading，也称为 Gouraud shading）。</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p><a name="PolylineCollection">PolylineCollection 线段集合</a></p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">var</span> polylines <span class="token operator">=</span> viewer<span class="token punctuation">.</span>scene<span class="token punctuation">.</span>primitives<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Cesium<span class="token punctuation">.</span>PolylineCollection</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  
	polylines<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token punctuation">{</span>  
		<span class="token literal-property property">positions</span><span class="token operator">:</span> positions<span class="token punctuation">,</span>  
		<span class="token literal-property property">width</span><span class="token operator">:</span> <span class="token number">5</span><span class="token punctuation">,</span>  
		<span class="token comment">// 注意material的颜色写法</span>
		<span class="token literal-property property">material</span><span class="token operator">:</span> <span class="token keyword">this</span><span class="token punctuation">.</span>Cesium<span class="token punctuation">.</span>Material<span class="token punctuation">.</span><span class="token function">fromType</span><span class="token punctuation">(</span><span class="token string">'Color'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
		  <span class="token literal-property property">color</span><span class="token operator">:</span> Cesium<span class="token punctuation">.</span>Color<span class="token punctuation">.</span><span class="token constant">BLUE</span>
		<span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  
</code></pre></div><div class="language-js extra-class"><pre class="language-js"><code>	<span class="token keyword">var</span> polylines <span class="token operator">=</span> scene<span class="token punctuation">.</span>primitives<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Cesium<span class="token punctuation">.</span>PolylineCollection</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// A simple polyline with two points.</span>
	  <span class="token keyword">var</span> polyline <span class="token operator">=</span> polylines<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
	            <span class="token literal-property property">positions</span> <span class="token operator">:</span> Cesium<span class="token punctuation">.</span>Cartesian3<span class="token punctuation">.</span><span class="token function">fromDegreesArray</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">120.5433995391585</span><span class="token punctuation">,</span> <span class="token number">40.33896083294376</span><span class="token punctuation">,</span>
	            <span class="token number">120.5514492298681</span><span class="token punctuation">,</span> <span class="token number">40.33862378228239</span><span class="token punctuation">,</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
	            <span class="token literal-property property">material</span> <span class="token operator">:</span> Cesium<span class="token punctuation">.</span>Material<span class="token punctuation">.</span><span class="token function">fromType</span><span class="token punctuation">(</span><span class="token string">'Color'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
	                <span class="token literal-property property">color</span> <span class="token operator">:</span> <span class="token keyword">new</span> <span class="token class-name">Cesium<span class="token punctuation">.</span>Color</span><span class="token punctuation">(</span><span class="token number">1.0</span><span class="token punctuation">,</span> <span class="token number">0.3</span><span class="token punctuation">,</span> <span class="token number">0.3</span><span class="token punctuation">,</span> <span class="token number">1.0</span><span class="token punctuation">)</span>
	            <span class="token punctuation">}</span><span class="token punctuation">)</span>
	 <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">[</span><span class="token number">120.554569</span><span class="token punctuation">,</span><span class="token number">40.329352</span><span class="token punctuation">,</span><span class="token number">120.554569</span><span class="token punctuation">,</span><span class="token number">40.329352</span><span class="token punctuation">,</span><span class="token number">120.554569</span><span class="token punctuation">,</span><span class="token number">40.329352</span><span class="token punctuation">]</span>
      <span class="token keyword">var</span> polyline2 <span class="token operator">=</span> polylines<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
	<span class="token comment">//Cesium.PolylinePipeline.generateCartesianArc 是 CesiumJS 库中的一个函数，</span>
	<span class="token comment">//生成一个沿着大圆弧线的笛卡尔坐标点数组。</span>
	<span class="token comment">//这个函数特别适用于在地球表面绘制一条精确的、沿着最短路径（即大圆路径）的折线时。</span>
          <span class="token literal-property property">positions</span> <span class="token operator">:</span> Cesium<span class="token punctuation">.</span>PolylinePipeline<span class="token punctuation">.</span><span class="token function">generateCartesianArc</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
              <span class="token literal-property property">positions</span> <span class="token operator">:</span> Cesium<span class="token punctuation">.</span>Cartesian3<span class="token punctuation">.</span><span class="token function">fromDegreesArray</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">120.6433995391585</span><span class="token punctuation">,</span> <span class="token number">40.53896083294376</span><span class="token punctuation">,</span>
              <span class="token number">120.5614492298681</span><span class="token punctuation">,</span> <span class="token number">40.34862378228239</span><span class="token punctuation">,</span><span class="token number">120.5614493398681</span><span class="token punctuation">,</span> <span class="token number">40.34863478228239</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
          <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
          <span class="token literal-property property">material</span> <span class="token operator">:</span> Cesium<span class="token punctuation">.</span>Material<span class="token punctuation">.</span><span class="token function">fromType</span><span class="token punctuation">(</span><span class="token string">'Color'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
              <span class="token literal-property property">color</span> <span class="token operator">:</span> <span class="token keyword">new</span> <span class="token class-name">Cesium<span class="token punctuation">.</span>Color</span><span class="token punctuation">(</span><span class="token number">0.7</span><span class="token punctuation">,</span> <span class="token number">1.0</span><span class="token punctuation">,</span> <span class="token number">0.4</span><span class="token punctuation">,</span> <span class="token number">1.0</span><span class="token punctuation">)</span>
          <span class="token punctuation">}</span><span class="token punctuation">)</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

      <span class="token keyword">var</span> polylines1 <span class="token operator">=</span> scene<span class="token punctuation">.</span>primitives<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Cesium<span class="token punctuation">.</span>PolylineCollection</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// A simple polyline with two points.</span>
      <span class="token keyword">var</span> polyline1 <span class="token operator">=</span> polylines1<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
          <span class="token literal-property property">positions</span> <span class="token operator">:</span> Cesium<span class="token punctuation">.</span>PolylinePipeline<span class="token punctuation">.</span><span class="token function">generateCartesianArc</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
              <span class="token literal-property property">positions</span> <span class="token operator">:</span> Cesium<span class="token punctuation">.</span>Cartesian3<span class="token punctuation">.</span><span class="token function">fromDegreesArray</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">120.5333995391575</span><span class="token punctuation">,</span> <span class="token number">40.33896083294366</span><span class="token punctuation">,</span>
              <span class="token number">120.5514492298581</span><span class="token punctuation">,</span> <span class="token number">40.34362678228229</span><span class="token punctuation">,</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
          <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
          <span class="token literal-property property">material</span> <span class="token operator">:</span> Cesium<span class="token punctuation">.</span>Material<span class="token punctuation">.</span><span class="token function">fromType</span><span class="token punctuation">(</span><span class="token string">'Color'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
              <span class="token literal-property property">color</span> <span class="token operator">:</span> <span class="token keyword">new</span> <span class="token class-name">Cesium<span class="token punctuation">.</span>Color</span><span class="token punctuation">(</span><span class="token number">1.0</span><span class="token punctuation">,</span> <span class="token number">0.7</span><span class="token punctuation">,</span> <span class="token number">1.0</span><span class="token punctuation">,</span> <span class="token number">1.0</span><span class="token punctuation">)</span>
          <span class="token punctuation">}</span><span class="token punctuation">)</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>



      <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
		<span class="token comment">//只销毁其中一个集合的折线</span>
        polylines<span class="token punctuation">.</span><span class="token function">removeAll</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">30000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p><a name="geometryInstance">GeometryInstance 几何实例</a></p> <p>几何实例化允许一个Geometry对象在多个位置 不同的位置和独特的颜色。例如，一个BoxGeometry可以 被实例化几次，每次都有不同的modelMatrix来改变 它的位置、旋转和比例。</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// Create geometry for a box, and two instances that refer to it.</span>
<span class="token comment">// One instance positions the box on the bottom and colored aqua.</span>
<span class="token comment">// The other instance positions the box on the top and color white.</span>
<span class="token keyword">const</span> geometry <span class="token operator">=</span> Cesium<span class="token punctuation">.</span>BoxGeometry<span class="token punctuation">.</span><span class="token function">fromDimensions</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  <span class="token literal-property property">vertexFormat</span> <span class="token operator">:</span> Cesium<span class="token punctuation">.</span>VertexFormat<span class="token punctuation">.</span><span class="token constant">POSITION_AND_NORMAL</span><span class="token punctuation">,</span>
  <span class="token literal-property property">dimensions</span> <span class="token operator">:</span> <span class="token keyword">new</span> <span class="token class-name">Cesium<span class="token punctuation">.</span>Cartesian3</span><span class="token punctuation">(</span><span class="token number">1000000.0</span><span class="token punctuation">,</span> <span class="token number">1000000.0</span><span class="token punctuation">,</span> <span class="token number">500000.0</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> instanceBottom <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Cesium<span class="token punctuation">.</span>GeometryInstance</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  <span class="token literal-property property">geometry</span> <span class="token operator">:</span> geometry<span class="token punctuation">,</span>
  <span class="token literal-property property">modelMatrix</span> <span class="token operator">:</span> Cesium<span class="token punctuation">.</span>Matrix4<span class="token punctuation">.</span><span class="token function">multiplyByTranslation</span><span class="token punctuation">(</span>Cesium<span class="token punctuation">.</span>Transforms<span class="token punctuation">.</span><span class="token function">eastNorthUpToFixedFrame</span><span class="token punctuation">(</span>
    Cesium<span class="token punctuation">.</span>Cartesian3<span class="token punctuation">.</span><span class="token function">fromDegrees</span><span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">75.59777</span><span class="token punctuation">,</span> <span class="token number">40.03883</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token keyword">new</span> <span class="token class-name">Cesium<span class="token punctuation">.</span>Cartesian3</span><span class="token punctuation">(</span><span class="token number">0.0</span><span class="token punctuation">,</span> <span class="token number">0.0</span><span class="token punctuation">,</span> <span class="token number">1000000.0</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token keyword">new</span> <span class="token class-name">Cesium<span class="token punctuation">.</span>Matrix4</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token literal-property property">attributes</span> <span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">color</span> <span class="token operator">:</span> Cesium<span class="token punctuation">.</span>ColorGeometryInstanceAttribute<span class="token punctuation">.</span><span class="token function">fromColor</span><span class="token punctuation">(</span>Cesium<span class="token punctuation">.</span>Color<span class="token punctuation">.</span><span class="token constant">AQUA</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token literal-property property">id</span> <span class="token operator">:</span> <span class="token string">'bottom'</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> instanceTop <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Cesium<span class="token punctuation">.</span>GeometryInstance</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  <span class="token literal-property property">geometry</span> <span class="token operator">:</span> geometry<span class="token punctuation">,</span>
  <span class="token literal-property property">modelMatrix</span> <span class="token operator">:</span> Cesium<span class="token punctuation">.</span>Matrix4<span class="token punctuation">.</span><span class="token function">multiplyByTranslation</span><span class="token punctuation">(</span>Cesium<span class="token punctuation">.</span>Transforms<span class="token punctuation">.</span><span class="token function">eastNorthUpToFixedFrame</span><span class="token punctuation">(</span>
    Cesium<span class="token punctuation">.</span>Cartesian3<span class="token punctuation">.</span><span class="token function">fromDegrees</span><span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">75.59777</span><span class="token punctuation">,</span> <span class="token number">40.03883</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token keyword">new</span> <span class="token class-name">Cesium<span class="token punctuation">.</span>Cartesian3</span><span class="token punctuation">(</span><span class="token number">0.0</span><span class="token punctuation">,</span> <span class="token number">0.0</span><span class="token punctuation">,</span> <span class="token number">3000000.0</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token keyword">new</span> <span class="token class-name">Cesium<span class="token punctuation">.</span>Matrix4</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token literal-property property">attributes</span> <span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">color</span> <span class="token operator">:</span> Cesium<span class="token punctuation">.</span>ColorGeometryInstanceAttribute<span class="token punctuation">.</span><span class="token function">fromColor</span><span class="token punctuation">(</span>Cesium<span class="token punctuation">.</span>Color<span class="token punctuation">.</span><span class="token constant">AQUA</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token literal-property property">id</span> <span class="token operator">:</span> <span class="token string">'top'</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p><a name="colorGeometryInstanceAttribute">ColorGeometryInstanceAttribute颜色附着几何体</a></p> <p>每个实例的几何颜色的值和类型信息。</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> instance <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Cesium<span class="token punctuation">.</span>GeometryInstance</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  <span class="token literal-property property">geometry</span> <span class="token operator">:</span> Cesium<span class="token punctuation">.</span>BoxGeometry<span class="token punctuation">.</span><span class="token function">fromDimensions</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    <span class="token literal-property property">dimensions</span> <span class="token operator">:</span> <span class="token keyword">new</span> <span class="token class-name">Cesium<span class="token punctuation">.</span>Cartesian3</span><span class="token punctuation">(</span><span class="token number">1000000.0</span><span class="token punctuation">,</span> <span class="token number">1000000.0</span><span class="token punctuation">,</span> <span class="token number">500000.0</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token literal-property property">modelMatrix</span> <span class="token operator">:</span> Cesium<span class="token punctuation">.</span>Matrix4<span class="token punctuation">.</span><span class="token function">multiplyByTranslation</span><span class="token punctuation">(</span>Cesium<span class="token punctuation">.</span>Transforms<span class="token punctuation">.</span><span class="token function">eastNorthUpToFixedFrame</span><span class="token punctuation">(</span>
    Cesium<span class="token punctuation">.</span>Cartesian3<span class="token punctuation">.</span><span class="token function">fromDegrees</span><span class="token punctuation">(</span><span class="token number">0.0</span><span class="token punctuation">,</span> <span class="token number">0.0</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token keyword">new</span> <span class="token class-name">Cesium<span class="token punctuation">.</span>Cartesian3</span><span class="token punctuation">(</span><span class="token number">0.0</span><span class="token punctuation">,</span> <span class="token number">0.0</span><span class="token punctuation">,</span> <span class="token number">1000000.0</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token keyword">new</span> <span class="token class-name">Cesium<span class="token punctuation">.</span>Matrix4</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token literal-property property">id</span> <span class="token operator">:</span> <span class="token string">'box'</span><span class="token punctuation">,</span>
  <span class="token literal-property property">attributes</span> <span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">color</span> <span class="token operator">:</span> <span class="token keyword">new</span> <span class="token class-name">Cesium<span class="token punctuation">.</span>ColorGeometryInstanceAttribute</span><span class="token punctuation">(</span>red<span class="token punctuation">,</span> green<span class="token punctuation">,</span> blue<span class="token punctuation">,</span> alpha<span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p><a name="colorGeometryInstanceAttributeColor">ColorGeometryInstanceAttribute.fromColor根据color设置</a></p> <p>根据提供的Color创建一个新的ColorGeometryInstanceAttribute实例。</p> <blockquote><p>应用场景：新的ColorGeometryInstanceAttribute实例。</p></blockquote> <div class="language-js extra-class"><pre class="language-js"><code>Cesium<span class="token punctuation">.</span>ColorGeometryInstanceAttribute<span class="token punctuation">.</span><span class="token function">fromColor</span><span class="token punctuation">(</span>Cesium<span class="token punctuation">.</span>Color<span class="token punctuation">.</span><span class="token constant">CORNFLOWERBLUE</span><span class="token punctuation">)</span>
</code></pre></div><p><a name="ColorGeometryInstanceAttributetoValue">ColorGeometryInstanceAttribute.toValue颜色转换为可分配颜色属性</a></p> <p>将颜色转换为可用于分配颜色属性的类型化数组。</p> <blockquote><p>应用场景：修改后的结果参数或新实例（如果结果未定义）。</p></blockquote> <div class="language-js extra-class"><pre class="language-js"><code>attributes<span class="token punctuation">.</span>color <span class="token operator">=</span> ColorGeometryInstanceAttribute<span class="token punctuation">.</span><span class="token function">toValue</span><span class="token punctuation">(</span>Color<span class="token punctuation">.</span><span class="token constant">AQUA</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p><a name="ShowGeometryInstanceAttribute">ShowGeometryInstanceAttribute几何体实例是否可见</a></p> <p>确定是否显示几何实例的每个实例几何属性的值和类型信息。</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> instance <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Cesium<span class="token punctuation">.</span>GeometryInstance</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
 <span class="token comment">//...</span>
  <span class="token literal-property property">attributes</span> <span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">show</span> <span class="token operator">:</span> <span class="token keyword">new</span> <span class="token class-name">Cesium<span class="token punctuation">.</span>ShowGeometryInstanceAttribute</span><span class="token punctuation">(</span><span class="token boolean">false</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p><a name="Material">Material 材质</a></p> <p>材质通过漫反射、高光、法线、发射和alpha组件的组合来定义表面外观,材质可以是几何对象表面的任一一种着色，可以是贴在其表面的一张图片、也可以是一个纹理或图案。cesium中也提供了一些材质，比如颜色、图片，棋盘、虚线，箭头线等。</p> <p>Material是用于修改几何对象材质的一个类，在添加几何图形的时候，将设置material属于，用于设置几何对象的材质。如给绘制的线条设置一个颜色，可以使用颜色材质，如下所示：</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">let</span> line <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Cesium<span class="token punctuation">.</span>Entity</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
	<span class="token literal-property property">polyline</span><span class="token operator">:</span><span class="token keyword">new</span> <span class="token class-name">Cesium<span class="token punctuation">.</span>PolylineGraphics</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
		<span class="token literal-property property">positions</span> <span class="token operator">:</span> positions<span class="token punctuation">,</span>
		<span class="token literal-property property">material</span><span class="token operator">:</span>Cesium<span class="token punctuation">.</span>Color<span class="token punctuation">.</span><span class="token constant">RED</span><span class="token punctuation">.</span><span class="token function">withAlpha</span><span class="token punctuation">(</span><span class="token number">0.5</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
		<span class="token literal-property property">width</span><span class="token operator">:</span><span class="token number">5</span><span class="token punctuation">,</span>
	<span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>Cesium提供了很多现成的Material类型，可通过<code>Material.fromType</code>方法和<code>Fabric</code>两种方式去获取并设置几何对象材质。如下是通过Material类的两种方式实现着色的示例:</p> <div class="language-js extra-class"><pre class="language-js"><code>polygon<span class="token punctuation">.</span>material <span class="token operator">=</span> Cesium<span class="token punctuation">.</span>Material<span class="token punctuation">.</span><span class="token function">fromType</span><span class="token punctuation">(</span><span class="token string">'Color'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
polygon<span class="token punctuation">.</span>material<span class="token punctuation">.</span>uniforms<span class="token punctuation">.</span>color <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Cesium<span class="token punctuation">.</span>Color</span><span class="token punctuation">(</span><span class="token number">1.0</span><span class="token punctuation">,</span> <span class="token number">1.0</span><span class="token punctuation">,</span> <span class="token number">0.0</span><span class="token punctuation">,</span> <span class="token number">1.0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">//Fabric</span>
polygon<span class="token punctuation">.</span>material <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Cesium<span class="token punctuation">.</span>Material</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    <span class="token literal-property property">fabric</span> <span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token literal-property property">type</span> <span class="token operator">:</span> <span class="token string">'Color'</span><span class="token punctuation">,</span>
        <span class="token literal-property property">uniforms</span> <span class="token operator">:</span> <span class="token punctuation">{</span>
            <span class="token literal-property property">color</span> <span class="token operator">:</span> <span class="token keyword">new</span> <span class="token class-name">Cesium<span class="token punctuation">.</span>Color</span><span class="token punctuation">(</span><span class="token number">1.0</span><span class="token punctuation">,</span> <span class="token number">1.0</span><span class="token punctuation">,</span> <span class="token number">0.0</span><span class="token punctuation">,</span> <span class="token number">1.0</span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> material <span class="token operator">=</span> Cesium<span class="token punctuation">.</span>Material<span class="token punctuation">.</span><span class="token function">fromType</span><span class="token punctuation">(</span><span class="token string">'Color'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">color</span><span class="token operator">:</span> <span class="token keyword">new</span> <span class="token class-name">Cesium<span class="token punctuation">.</span>Color</span><span class="token punctuation">(</span><span class="token number">1.0</span><span class="token punctuation">,</span> <span class="token number">0.0</span><span class="token punctuation">,</span> <span class="token number">0.0</span><span class="token punctuation">,</span> <span class="token number">1.0</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// 修改颜色</span>
polygon<span class="token punctuation">.</span>appearance<span class="token punctuation">.</span>material<span class="token punctuation">.</span>uniforms<span class="token punctuation">.</span>color <span class="token operator">=</span> Cesium<span class="token punctuation">.</span>Color<span class="token punctuation">.</span><span class="token constant">WHITE</span>
</code></pre></div><ol><li>diffuse：材质的散射光通道，使用vec3定义了光在所有方向的散射值 。</li> <li>specular：材质的高光属性，定个定义了材质的反射强度。</li> <li>shininess：高反射的锐度，值 越大创建一个更小的高亮光斑。</li> <li>normal：材质的法向属性，使用vec3定义了在视点空间的表面法向量，一般在法向贴图上使用，默认是表面法向量。</li> <li>emission：材质的自发光属性，使用vec3定义了所有方向上灯光发出的颜色。</li> <li>alpha：材质的透明度，使用一个float值 定义。</li></ol> <ul><li>自定义材质</li></ul> <img src="/beifen/753.png"> <p><a name="appearance">appearance外观</a></p> <p>appearance 可以是CesiumJS提供的多种Appearance类型之一，包括但不限于：</p> <ol><li>MaterialAppearance：适用于所有Geometry类型的材质外观，支持传入自定义的Material对象。Material对象可以定义各种材质属性，如颜色、纹理、光照模型等。</li> <li>EllipsoidSurfaceAppearance：专门用于与<code>地球表面平行</code>的几何类型，如PolygonGeometry、RectangleGeometry等。它可以在计算大量顶点属性时节省内存，并且自动适应地球的曲率。</li> <li>PerInstanceColorAppearance：用于实例化几何的材质外观。当使用实例化几何显示大量几何实体时，可以通过PerInstanceColorAppearance为每个几何实体指定不同的颜色。</li> <li>PolylineMaterialAppearance 和 PolylineColorAppearance：专门用于线的材质外观和顶点颜色外观。PolylineGeometry支持根据顶点颜色进行着色，可以结合这两类Appearance使用。</li></ol> <p>MaterialAppearance</p> <ul><li>material：用于确定片元颜色的材质。这是MaterialAppearance的核心属性，它允许开发者传入一个Cesium.Material对象来定义自定义的材质效果。</li> <li>flat：一个布尔值，当设置为true时，在片段着色器中使用了平面着色，这意味着没有考虑到光照效果。这可以用于实现一些简单的、不需要光照模型的视觉效果。</li> <li>closed：一个布尔值，当设置为true时，几何图形将被视为封闭，因此MaterialAppearance的渲染状态会启用背面剔除。这通常用于那些应该只显示一面的几何图形，如墙壁或地板。</li> <li>translucent：一个布尔值，当设置为true时，几何图形应该是半透明的。这会影响渲染时的混合状态，使得几何图形可以与其他半透明对象正确混合。</li> <li>faceForward：一个布尔值，当设置为true时，片段着色器会根据需要翻转表面法线，以确保法线面对观察者，避免出现黑斑。这对于双面着色或需要确保法线正确显示的几何图形很有用。</li> <li>vertexShaderSource和fragmentShaderSource：这两个属性允许开发者提供自定义的顶点着色器和片段着色器源代码，以替代CesiumJS默认的着色器。这提供了极大的灵活性，允许开发者实现自定义的渲染效果。</li> <li>renderState：一个可选的渲染状态对象，用于覆盖MaterialAppearance的默认渲染状态。开发者可以通过这个属性来定制渲染时的各种状态，如深度测试、混合模式等。</li></ul> <p><a name="Property">Property属性设置[abstract]</a></p> <p>所有属性的接口，表示可以选择随时间变化的值。此类型定义了一个接口，不能直接实例化。</p> <ul><li>Property.getValueOrDefault:用于获取特定时间的属性值，如果没有值可以获取，则返回默认值</li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// 用于获取特定时间的属性值，如果没有值可以获取，则返回默认值。</span>
result<span class="token punctuation">.</span>color <span class="token operator">=</span> Property<span class="token punctuation">.</span><span class="token function">getValueOrDefault</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>_color<span class="token punctuation">,</span> time<span class="token punctuation">,</span> Color<span class="token punctuation">.</span><span class="token constant">RED</span><span class="token punctuation">,</span> result<span class="token punctuation">.</span>color<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><ul><li>Property.equals:此属性与提供的属性进行比较并返回 true如果相等，否则false。</li></ul> <div class="language-js extra-class"><pre class="language-js"><code>Property<span class="token punctuation">.</span><span class="token function">equals</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>_color<span class="token punctuation">,</span> other<span class="token punctuation">.</span>_color<span class="token punctuation">)</span> 
</code></pre></div><p><a name="event">Event 事件</a>
用于管理特定事件的订阅者的通用实用程序类。此类通常在容器类中实例化，并作为属性公开供其他人订阅。</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token class-name">MyObject</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">myListener</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">arg1<span class="token punctuation">,</span> arg2</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>myArg1Copy <span class="token operator">=</span> arg1<span class="token punctuation">;</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>myArg2Copy <span class="token operator">=</span> arg2<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">const</span> myObjectInstance <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">MyObject</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> evt <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Cesium<span class="token punctuation">.</span>Event</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
evt<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token class-name">MyObject</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span>myListener<span class="token punctuation">,</span> myObjectInstance<span class="token punctuation">)</span><span class="token punctuation">;</span>
evt<span class="token punctuation">.</span><span class="token function">raiseEvent</span><span class="token punctuation">(</span><span class="token string">'1'</span><span class="token punctuation">,</span> <span class="token string">'2'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
evt<span class="token punctuation">.</span><span class="token function">removeEventListener</span><span class="token punctuation">(</span><span class="token class-name">MyObject</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span>myListener<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p><a name="screenSpaceEventHandler">ScreenSpaceEventHandler 事件处理</a></p> <p>处理用户输入事件。可以添加自定义函数以在用户输入输入时执行。</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> handler <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Cesium<span class="token punctuation">.</span>ScreenSpaceEventHandler</span><span class="token punctuation">(</span>window<span class="token punctuation">.</span>__viewer<span class="token punctuation">.</span>scene<span class="token punctuation">.</span>canvas<span class="token punctuation">)</span><span class="token punctuation">;</span>
handler<span class="token punctuation">.</span><span class="token function">setInputAction</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
<span class="token keyword">const</span> clickPosition <span class="token operator">=</span> window<span class="token punctuation">.</span>__viewer<span class="token punctuation">.</span>camera<span class="token punctuation">.</span><span class="token function">pickEllipsoid</span><span class="token punctuation">(</span>e<span class="token punctuation">.</span>position<span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;Cartesian世界坐标&quot;</span><span class="token punctuation">,</span> clickPosition<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> randiansPos <span class="token operator">=</span> Cesium<span class="token punctuation">.</span>Cartographic<span class="token punctuation">.</span><span class="token function">fromCartesian</span><span class="token punctuation">(</span>clickPosition<span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>
    <span class="token string">&quot;经度：&quot;</span> <span class="token operator">+</span> Cesium<span class="token punctuation">.</span>Math<span class="token punctuation">.</span><span class="token function">toDegrees</span><span class="token punctuation">(</span>randiansPos<span class="token punctuation">.</span>longitude<span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">&quot;, 纬度：&quot;</span> <span class="token operator">+</span> Cesium<span class="token punctuation">.</span>Math<span class="token punctuation">.</span><span class="token function">toDegrees</span><span class="token punctuation">(</span>randiansPos<span class="token punctuation">.</span>latitude<span class="token punctuation">)</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span> Cesium<span class="token punctuation">.</span>ScreenSpaceEventType<span class="token punctuation">.</span><span class="token constant">LEFT_CLICK</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p><a name="setInputAction">setInputAction 设置输入动作</a></p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token function">setInputAction</span><span class="token punctuation">(</span>action<span class="token punctuation">,</span> type<span class="token punctuation">,</span> modifier<span class="token punctuation">)</span>
<span class="token comment">// 输入事件发生时要执行的函数。 // 	输入事件的ScreenSpaceEventType。 // 可选的类型</span>
</code></pre></div><p><a name="ScreenSpaceEventTyp">ScreenSpaceEventTyp鼠标枚举</a>
此枚举类型用于对鼠标事件进行分类：向下、向上、单击、双击、移动和按住按钮时移动。</p> <table><thead><tr><th>名称</th> <th>类型</th> <th>描述</th></tr></thead> <tbody><tr><td>LEFT_DOWN</td> <td>数字</td> <td>表示鼠标左键向下事件。</td></tr> <tr><td>LEFT_UP</td> <td>数字</td> <td>表示鼠标左键向上事件。</td></tr> <tr><td>LEFT_CLICK</td> <td>数字</td> <td>表示鼠标左键单击事件。</td></tr> <tr><td>LEFT_DOUBLE_CLICK</td> <td>数字</td> <td>表示鼠标左键双击事件。</td></tr> <tr><td>RIGHT_DOWN</td> <td>数字</td> <td>表示鼠标左键向下事件。</td></tr> <tr><td>RIGHT_UP</td> <td>数字</td> <td>表示鼠标右键向上事件。</td></tr> <tr><td>RIGHT_CLICK</td> <td>数字</td> <td>表示鼠标右键单击事件。</td></tr> <tr><td>MIDDLE_DOWN</td> <td>数字</td> <td>表示鼠标中键向下事件。</td></tr> <tr><td>MIDDLE_UP</td> <td>数字</td> <td>表示鼠标中键向上事件。</td></tr> <tr><td>MIDDLE_CLICK</td> <td>数字</td> <td>表示鼠标中键单击事件。</td></tr> <tr><td>MOUSE_MOVE</td> <td>数字</td> <td>表示鼠标移动事件。</td></tr> <tr><td>WHEEL</td> <td>数字</td> <td>表示鼠标滚轮事件。</td></tr> <tr><td>PINCH_START</td> <td>数字</td> <td>表示两个手指的开始</td></tr> <tr><td>PINCH_END</td> <td>数字</td> <td>表示触摸表面上两指事件的结束。</td></tr> <tr><td>PINCH_MOVE</td> <td>数字</td> <td>表示触摸表面上两指事件的变化。</td></tr></tbody></table> <p><a name="scene">Scene 场景</a></p> <p>虚拟场景中所有3D图形对象和状态的容器。一般来说， 场景不是直接创建的；相反，它是由CesiumWidget隐式创建的。</p> <ul><li>pickTranslucentDepth属性是一个布尔值，用于控制Cesium场景是否应该考虑半透明对象的深度信息。当设置为true时，Cesium在尝试“拾取”（即获取用户点击的对象信息）时会考虑<code>半透明对象的深度</code>，这有助于更准确地确定用户点击的是哪个对象。这在处理<code>重叠</code>的<code>半透明</code>对象时特别有用。</li></ul> <div class="language-js extra-class"><pre class="language-js"><code>scene<span class="token punctuation">.</span>pickTranslucentDepth <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
</code></pre></div><ul><li>debugShowFramesPerSecond显示帧率</li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// 显示帧率</span>
window<span class="token punctuation">.</span>__viewer<span class="token punctuation">.</span>scene<span class="token punctuation">.</span>debugShowFramesPerSecond <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
</code></pre></div><p><a name="pick">pick拾取</a></p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token function">pick</span><span class="token punctuation">(</span>windowPosition<span class="token punctuation">,</span> width<span class="token punctuation">,</span> height<span class="token punctuation">)</span>
</code></pre></div><div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// On mouse over, color the feature yellow.</span>
handler<span class="token punctuation">.</span><span class="token function">setInputAction</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">movement</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> feature <span class="token operator">=</span> scene<span class="token punctuation">.</span><span class="token function">pick</span><span class="token punctuation">(</span>movement<span class="token punctuation">.</span>endPosition<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>feature <span class="token keyword">instanceof</span> <span class="token class-name">Cesium<span class="token punctuation">.</span>Cesium3DTileFeature</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        feature<span class="token punctuation">.</span>color <span class="token operator">=</span> Cesium<span class="token punctuation">.</span>Color<span class="token punctuation">.</span><span class="token constant">YELLOW</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span> Cesium<span class="token punctuation">.</span>ScreenSpaceEventType<span class="token punctuation">.</span><span class="token constant">MOUSE_MOVE</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p><a name="debugShowFramesPerSecond">debugShowFramesPerSecond 帧率</a></p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// 显示帧率</span>
window<span class="token punctuation">.</span>__viewer<span class="token punctuation">.</span>scene<span class="token punctuation">.</span>debugShowFramesPerSecond <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
</code></pre></div><p><a name="specularEnvironmentMapsSupported">specularEnvironmentMapsSupported是否镜面环境贴图支持</a></p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">/**
 * 它用于检查当前浏览器是否支持镜面环境贴图（Specular Environment Maps）。
 * 镜面环境贴图是一种图形技术，用于模拟物体表面反射周围环境光的效果，从而增加场景的真实感和视觉深度。
*/</span>
<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>scene<span class="token punctuation">.</span>specularEnvironmentMapsSupported<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  window<span class="token punctuation">.</span><span class="token function">alert</span><span class="token punctuation">(</span>
	<span class="token string">&quot;This browser does not support specular environment maps.&quot;</span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><p><a name="skybox">SkyBox 天空盒</a></p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">import</span> <span class="token punctuation">{</span>SkyBox<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'cesium'</span>
viewer<span class="token punctuation">.</span>scene<span class="token punctuation">.</span>skyBox <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">SkyBox</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    <span class="token literal-property property">sources</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token literal-property property">positiveX</span><span class="token operator">:</span> <span class="token string">'/images/skybox1/tycho2t3_80_px.jpg'</span><span class="token punctuation">,</span>
      <span class="token literal-property property">negativeX</span><span class="token operator">:</span> <span class="token string">'/images/skybox1/tycho2t3_80_mx.jpg'</span><span class="token punctuation">,</span>
      <span class="token literal-property property">positiveY</span><span class="token operator">:</span> <span class="token string">'/images/skybox1/tycho2t3_80_py.jpg'</span><span class="token punctuation">,</span>
      <span class="token literal-property property">negativeY</span><span class="token operator">:</span> <span class="token string">'/images/skybox1/tycho2t3_80_my.jpg'</span><span class="token punctuation">,</span>
      <span class="token literal-property property">positiveZ</span><span class="token operator">:</span> <span class="token string">'/images/skybox1/tycho2t3_80_pz.jpg'</span><span class="token punctuation">,</span>
      <span class="token literal-property property">negativeZ</span><span class="token operator">:</span> <span class="token string">'/images/skybox1/tycho2t3_80_mz.jpg'</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><p><a name="postProcessStages">scene.postProcessStages 渲染的后处理效果</a></p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// 开启抗锯齿化</span>
viewer<span class="token punctuation">.</span>scene<span class="token punctuation">.</span>postProcessStages<span class="token punctuation">.</span>fxaa<span class="token punctuation">.</span>enabled <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
</code></pre></div><p><a name="ScreenSpaceCameraController">ScreenSpaceCameraController用户操作交互</a>
ScreenSpaceCameraController对象，它允许用户通过鼠标和键盘与场景进行交互，包括平移、缩放和旋转视图。</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">new</span> <span class="token class-name">Cesium<span class="token punctuation">.</span>ScreenSpaceCameraController</span><span class="token punctuation">(</span>scene<span class="token punctuation">)</span>
</code></pre></div><div class="language-js extra-class"><pre class="language-js"><code> <span class="token keyword">const</span> controller <span class="token operator">=</span> scene<span class="token punctuation">.</span>screenSpaceCameraController<span class="token punctuation">;</span>
 <span class="token comment">// 这行代码设置了相机控制器的最小缩放距离，即相机可以离模型多近。这里使用了相机的近裁剪面距离作为最小缩放距离。</span>
  controller<span class="token punctuation">.</span>minimumZoomDistance <span class="token operator">=</span> camera<span class="token punctuation">.</span>frustum<span class="token punctuation">.</span>near<span class="token punctuation">;</span>
  <span class="token comment">// 设置最小旋转速率，一般不建议修改</span>
  controller<span class="token punctuation">.</span>_minimumRotateRate <span class="token operator">=</span> <span class="token number">1.0</span><span class="token punctuation">;</span>
</code></pre></div><p><a name="globe">globe 地球本身</a></p> <ol><li>获取或设置深度测试椭球。</li></ol> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// 启用光照</span>
<span class="token keyword">this</span><span class="token punctuation">.</span>viewer<span class="token punctuation">.</span>scene<span class="token punctuation">.</span>globe<span class="token punctuation">.</span>enableLighting <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
</code></pre></div><ol start="2"><li>depthTestAgainstTerrain:如果诸如广告牌、折线、标签等原语应该针对地形表面进行深度测试，则为true，如果此类原语应该始终绘制在地形顶部，除非它们在地球的另一边，则为false。针对地形的深度测试原语的缺点是轻微的数字噪声或地形详细级别的切换有时会使应该在表面上的原语消失在它下面。</li></ol> <div class="language-js extra-class"><pre class="language-js"><code>viewer<span class="token punctuation">.</span>scene<span class="token punctuation">.</span>globe<span class="token punctuation">.</span>depthTestAgainstTerrain <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
</code></pre></div><p>当 viewer.scene.globe.depthTestAgainstTerrain = true; 时：</p> <ul><li>遮挡处理：场景中的对象会根据它们与地形的相对高度进行遮挡处理。如果某个对象应该被地形遮挡（比如，它位于地形的下方或完全在地形的背面），那么这个对象在渲染时就不会被显示，或者其可见部分会被裁剪。</li> <li>视觉真实性：这种设置增加了场景的视觉真实性，因为用户不再会看到悬浮在地形上方的虚假对象，或者在地形内部“穿越”的物体。</li> <li>性能影响：启用深度测试可能会稍微增加渲染的负担，因为 Cesium 需要进行更多的计算来确定对象的可见性。然而，对于大多数应用来说，这种性能影响是可以接受的。</li></ul> <p>如果没有设置或设置为 false：</p> <ul><li>无遮挡处理：对象不会根据地形的高度进行遮挡处理。即使对象在逻辑上应该被地形遮挡，它们也可能仍然会显示出来，这会导致视觉上的不真实感。</li> <li>简化渲染：由于没有进行深度测试，Cesium 在渲染时可能会更快一些，因为它不需要计算对象与地形之间的遮挡关系。</li> <li>W限制用途：对于需要高度精确表示地形与对象之间关系的场景（如模拟飞行、军事训练、虚拟现实等），不启用深度测试可能会极大地限制应用的用途和用户体验。</li></ul> <ol start="3"><li>globe.undergroundColorAlphaByDistance:获取或设置将Globe#undergroundColor与全局颜色混合的远近距离。</li></ol> <div class="language-js extra-class"><pre class="language-js"><code> <span class="token comment">//设置了“近距离”的阈值。nearDistance 表示从地球仪表面开始计算，地下部分颜色透明度开始变化的距离。</span>
globe<span class="token punctuation">.</span>undergroundColorAlphaByDistance<span class="token punctuation">.</span>near <span class="token operator">=</span> nearDistance<span class="token punctuation">;</span>
<span class="token comment">//“远距离”的阈值。farDistance 表示从地球仪表面开始计算，地下部分颜色透明度变化结束的距离。</span>
globe<span class="token punctuation">.</span>undergroundColorAlphaByDistance<span class="token punctuation">.</span>far <span class="token operator">=</span> farDistance<span class="token punctuation">;</span>
<span class="token comment">//在近距离（nearDistance）处的透明度值。nearAlpha 表示在这个距离上的颜色透明度</span>
globe<span class="token punctuation">.</span>undergroundColorAlphaByDistance<span class="token punctuation">.</span>nearValue <span class="token operator">=</span> nearAlpha<span class="token punctuation">;</span>
<span class="token comment">//在远距离（farDistance）处的透明度值。farAlpha 表示在这个距离上的颜色透明度，同样是一个0到1之间的数值。</span>
globe<span class="token punctuation">.</span>undergroundColorAlphaByDistance<span class="token punctuation">.</span>farValue <span class="token operator">=</span> farAlpha<span class="token punctuation">;</span>
</code></pre></div><p><a name="enableLighting">enableLighting 启用光照</a></p> <p>启用场景光源照明地球仪,默认false</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// 启用光照</span>
<span class="token keyword">this</span><span class="token punctuation">.</span>viewer<span class="token punctuation">.</span>scene<span class="token punctuation">.</span>globe<span class="token punctuation">.</span>enableLighting <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
</code></pre></div><div class="language-js extra-class"><pre class="language-js"><code>scene<span class="token punctuation">.</span>light<span class="token punctuation">.</span>intensity <span class="token operator">=</span> <span class="token number">8.0</span> <span class="token comment">//灯光亮度</span>
</code></pre></div><p><a name="CallbackProperty(callback, isConstant)">CallbackProperty(callback, isConstant)属性回调函数</a></p> <p>Cesium.CallbackProperty：这是一个Cesium提供的属性类型，它允许您通过回调函数动态计算属性值。每次需要属性值（例如，在渲染循环中）时，Cesium都会调用提供的回调函数，并传入当前时间和一个用于存储结果的参数。</p> <div class="language-js extra-class"><pre class="language-js"><code>sphere<span class="token punctuation">.</span>ellipsoid<span class="token punctuation">.</span>material<span class="token punctuation">.</span>repeat <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Cesium<span class="token punctuation">.</span>CallbackProperty</span><span class="token punctuation">(</span>
<span class="token comment">//time是当前的时间（通常是Cesium的时钟时间），而result是一个用于存储回调计算结果的Cesium.Cartesian2对象。</span>
  <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">time<span class="token punctuation">,</span> result</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>Cesium<span class="token punctuation">.</span><span class="token function">defined</span><span class="token punctuation">(</span>result<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	  result <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Cesium<span class="token punctuation">.</span>Cartesian2</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	<span class="token comment">// isRepeating外部参数，用来控制是否重复</span>
	<span class="token keyword">if</span> <span class="token punctuation">(</span>isRepeating<span class="token punctuation">)</span> <span class="token punctuation">{</span>
	  result<span class="token punctuation">.</span>x <span class="token operator">=</span> <span class="token number">8</span><span class="token punctuation">;</span>
	  result<span class="token punctuation">.</span>y <span class="token operator">=</span> <span class="token number">8</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
	  result<span class="token punctuation">.</span>x <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
	  result<span class="token punctuation">.</span>y <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	<span class="token keyword">return</span> result<span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token boolean">false</span><span class="token comment">// true当回调函数每次返回相同的值时，false如果值会改变。</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p><a name="SampledPositionProperty">SampledPositionProperty</a></p> <p>Cesium SampledPositionProperty是Cesium开源地理可视化库中的一个重要功能，它用于在地理位置中定义和控制实体的运动轨迹，这个功能在很多地理可视化应用中非常有用，比如<code>飞行模拟、移动物体的路径追踪</code>等。</p> <p>SampledPositionProperty可以通过一系列的位置样本点来描述实体的运动轨迹，每个样本点都包含了位置信息和对应的时间标记，通过这些样本点，Cesium可以按照指定的时间间隔生成平滑的过渡效果，使实体的运动看起来更加自然。</p> <div class="language-js extra-class"><pre class="language-js"><code> <span class="token comment">// Create a path for our vehicle by lerping between two positions.</span>
<span class="token keyword">const</span> position <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Cesium<span class="token punctuation">.</span>SampledPositionProperty</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> startPosition <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Cesium<span class="token punctuation">.</span>Cartesian3</span><span class="token punctuation">(</span>
  <span class="token operator">-</span><span class="token number">2379556.799372864</span><span class="token punctuation">,</span>
  <span class="token operator">-</span><span class="token number">4665528.205030263</span><span class="token punctuation">,</span>
  <span class="token number">3628013.106599678</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> endPosition <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Cesium<span class="token punctuation">.</span>Cartesian3</span><span class="token punctuation">(</span>
  <span class="token operator">-</span><span class="token number">2379603.7074103747</span><span class="token punctuation">,</span>
  <span class="token operator">-</span><span class="token number">4665623.48990283</span><span class="token punctuation">,</span>
  <span class="token number">3627860.82704567</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// A velocity vector property will give us the entity's speed and direction at any given time.</span>
<span class="token keyword">const</span> velocityVectorProperty <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Cesium<span class="token punctuation">.</span>VelocityVectorProperty</span><span class="token punctuation">(</span>
  position<span class="token punctuation">,</span>
  <span class="token boolean">false</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><ul><li>addSample(time, position, derivatives):添加一个新示例。</li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> position <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Cesium<span class="token punctuation">.</span>SampledPositionProperty</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token operator">...</span><span class="token operator">...</span>

<span class="token comment">//这行代码将之前计算得到的时间（time）和位置（location）添加到一个名为position的对象中</span>
position<span class="token punctuation">.</span><span class="token function">addSample</span><span class="token punctuation">(</span>time<span class="token punctuation">,</span> location<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><ul><li>getValue(time, result) → Cartesian3:获取属性在提供时间的值。</li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> velocityVectorProperty <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Cesium<span class="token punctuation">.</span>VelocityVectorProperty</span><span class="token punctuation">(</span>
	  position<span class="token punctuation">,</span>
	  <span class="token boolean">false</span>
	<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token operator">...</span><span class="token operator">...</span><span class="token punctuation">.</span>
velocityVectorProperty<span class="token punctuation">.</span><span class="token function">getValue</span><span class="token punctuation">(</span>time<span class="token punctuation">,</span> velocityVector<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p><a name="VelocityVectorProperty">VelocityVectorProperty</a></p> <p>new Cesium.VelocityVectorProperty(position, normalize):一个Cartesian3，计算为一个Property向量 基于提供的PositionProperty的速度。</p> <p>这个对象能够计算出在给定的时间点上实体的速度和方向。</p> <p><a name="SampledProperty">SampledProperty取样</a>
一个Property，其值在给定时间内从 提供了一组样本和指定的插值算法和程度。</p> <p><a name="NodeTransformationProperty">NodeTransformationProperty</a>
生成TranslationRotationScale数据的Property。 用于表示一个节点的变换属性，包括位置、旋转和缩放。</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// 创建一个新的Cesium.NodeTransformationProperty对象  </span>
<span class="token keyword">const</span> wheelTransformation <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Cesium<span class="token punctuation">.</span>NodeTransformationProperty</span><span class="token punctuation">(</span><span class="token punctuation">{</span>  
  <span class="token comment">// 指定旋转属性  </span>
  <span class="token literal-property property">rotation</span><span class="token operator">:</span> rotationProperty<span class="token punctuation">,</span>  
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p><a name="color">Color 颜色</a></p> <p>设置颜色</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// 不传默认都是1.0</span>
<span class="token keyword">new</span> <span class="token class-name">Cesium<span class="token punctuation">.</span>Color</span><span class="token punctuation">(</span>red<span class="token punctuation">,</span> green<span class="token punctuation">,</span> blue<span class="token punctuation">,</span> alpha<span class="token punctuation">)</span>
</code></pre></div><p><a name="coloralpha">Color.fromAlpha 透明度修改</a></p> <p>创建一个新颜色，该颜色具有指定颜色的相同红色、绿色和蓝色分量，但具有指定的alpha值。</p> <div class="language-js extra-class"><pre class="language-js"><code>Cesium<span class="token punctuation">.</span>Color<span class="token punctuation">.</span><span class="token function">fromAlpha</span><span class="token punctuation">(</span>color<span class="token punctuation">,</span> alpha<span class="token punctuation">,</span> result<span class="token punctuation">)</span>
</code></pre></div><div class="language-js extra-class"><pre class="language-js"><code>Color<span class="token punctuation">.</span><span class="token function">fromAlpha</span><span class="token punctuation">(</span>Color<span class="token punctuation">[</span>colorArrs<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token number">0.5</span><span class="token punctuation">)</span>
</code></pre></div><p><a name="Color.fromHsl">Color.fromHsl</a>
从色调、饱和度和明度创建Color实例。</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> h <span class="token operator">=</span> hue <span class="token operator">+</span> lerperX <span class="token operator">*</span> <span class="token number">0.5</span> <span class="token operator">-</span> lerperY <span class="token operator">*</span> <span class="token number">0.3</span> <span class="token operator">+</span> lerperZ <span class="token operator">*</span> <span class="token number">0.2</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> s <span class="token operator">=</span> <span class="token number">1.0</span> <span class="token operator">-</span> lerperY <span class="token operator">*</span> <span class="token number">0.2</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> v <span class="token operator">=</span> <span class="token number">0.5</span> <span class="token operator">+</span> <span class="token number">2.0</span> <span class="token operator">*</span> <span class="token punctuation">(</span>lerperZ <span class="token operator">-</span> <span class="token number">0.5</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token number">0.2</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> color <span class="token operator">=</span> Cesium<span class="token punctuation">.</span>Color<span class="token punctuation">.</span><span class="token function">fromHsl</span><span class="token punctuation">(</span>h<span class="token punctuation">,</span> s<span class="token punctuation">,</span> v<span class="token punctuation">,</span> <span class="token number">1.0</span><span class="token punctuation">,</span> scratchColor<span class="token punctuation">)</span><span class="token punctuation">;</span>

</code></pre></div><p><a name="Color.clone">Color.clone</a>
用于创建给定颜色的克隆（副本）</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// 假设有一个已存在的颜色对象  </span>
<span class="token keyword">var</span> originalColor <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Cesium<span class="token punctuation">.</span>Color</span><span class="token punctuation">(</span><span class="token number">1.0</span><span class="token punctuation">,</span> <span class="token number">0.0</span><span class="token punctuation">,</span> <span class="token number">0.0</span><span class="token punctuation">,</span> <span class="token number">1.0</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 完全不透明的红色  </span>
  
<span class="token comment">// 使用 clone 方法创建该颜色的克隆  </span>
<span class="token keyword">var</span> clonedColor <span class="token operator">=</span> Cesium<span class="token punctuation">.</span>Color<span class="token punctuation">.</span><span class="token function">clone</span><span class="token punctuation">(</span>originalColor<span class="token punctuation">)</span><span class="token punctuation">;</span>  
  
<span class="token comment">// 此时 clonedColor 和 originalColor 的颜色值相同，但它们是不同的对象  </span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>clonedColor<span class="token punctuation">.</span><span class="token function">equals</span><span class="token punctuation">(</span>originalColor<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 输出 true  </span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>clonedColor <span class="token operator">===</span> originalColor<span class="token punctuation">)</span><span class="token punctuation">;</span>     <span class="token comment">// 输出 false，因为它们是两个不同的实例</span>
</code></pre></div><p><a name="colorconst">Color[const] color默认的常量颜色</a></p> <div class="language-js extra-class"><pre class="language-js"><code>Cesium<span class="token punctuation">.</span>Color<span class="token punctuation">.</span><span class="token constant">AZURE</span>
Cesium<span class="token punctuation">.</span>Color<span class="token punctuation">.</span><span class="token constant">BLACK</span>  
<span class="token comment">//。。。。。。</span>
</code></pre></div><p><a name="ColorBlendMode">ColorBlendMode 颜色混合模式</a></p> <p>一个枚举接口，它定义了材料颜色混合时的混合模式</p> <p>定义用于在目标颜色和基元的源颜色之间混合的不同模式。HIGHLIGHT将源颜色乘以目标颜色REPLACE将源颜色替换为目标颜色MIX将源颜色和目标颜色混合在一起</p> <p>Cesium.ColorBlendMode提供了多种混合模式，以下是几种常见的混合模式：</p> <ol><li>HIGHLIGHT：当内部材料的透明度（alpha）小于1.0时，在其上方显示外部材料颜色（blendingColor）。这种模式通常用于高亮显示某些部分。</li> <li>MIX：对内部材料和外部材料进行平均值混合。这意味着两种颜色的RGB值将按照一定比例进行混合，生成新的颜色。</li> <li>REPLACE：用外部材料颜色完全替换内部材料颜色。这是一种简单的替换模式，不考虑内部材料的颜色。</li></ol> <p><a name="Math">Math</a>
cesium提供的部分数学函数</p> <ul><li>Cesium.Math.toRadians(degrees)：角度转弧度制</li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> heading <span class="token operator">=</span> Cesium<span class="token punctuation">.</span>Math<span class="token punctuation">.</span><span class="token function">toRadians</span><span class="token punctuation">(</span><span class="token number">135</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><ul><li>Cesium.Math.toDegrees(radians):弧度制转角度制</li></ul> <div class="language-js extra-class"><pre class="language-js"><code>Cesium<span class="token punctuation">.</span>Math<span class="token punctuation">.</span><span class="token function">toDegrees</span><span class="token punctuation">(</span>viewer<span class="token punctuation">.</span>camera<span class="token punctuation">.</span>pitch<span class="token punctuation">)</span>
</code></pre></div><ul><li><p>Cesium.Math.setRandomNumberSeed(seed)//seed:number
在CesiumMath#nextR随机数字中设置随机数生成器使用的种子</p></li> <li><p>Cesium.Math.nextRandomNumber()
使用Mersenne扭曲器生成[0.0,1.0）范围内的随机浮点数。setRandomNumberSeed和它共同作用于随机数生成的过程</p></li></ul> <div class="language-js extra-class"><pre class="language-js"><code> <span class="token comment">// 这两行代码设置了一个基于体素块维度的随机数种子，以确保每次生成的数据都是可预测的（对于相同的输入，将产生相同的输出）。</span>
<span class="token keyword">const</span> randomSeed <span class="token operator">=</span> dimensions<span class="token punctuation">.</span>y <span class="token operator">*</span> dimensions<span class="token punctuation">.</span>x <span class="token operator">+</span> dimensions<span class="token punctuation">.</span>x<span class="token punctuation">;</span>
Cesium<span class="token punctuation">.</span>Math<span class="token punctuation">.</span><span class="token function">setRandomNumberSeed</span><span class="token punctuation">(</span>randomSeed<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">//生成一个随机的色调值</span>
<span class="token keyword">const</span> hue <span class="token operator">=</span> Cesium<span class="token punctuation">.</span>Math<span class="token punctuation">.</span><span class="token function">nextRandomNumber</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p><a name="Matrix">Matrix矩阵</a></p> <ul><li>Matrix4 一个4x4矩阵，可索引为列主序数组。为了代码易读性，构造函数参数按行主序排列。</li></ul> <div class="language-js extra-class"><pre class="language-js"><code> tileset <span class="token operator">=</span> <span class="token keyword">await</span> Cesium<span class="token punctuation">.</span>Cesium3DTileset<span class="token punctuation">.</span><span class="token function">fromIonAssetId</span><span class="token punctuation">(</span><span class="token number">2333904</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

 <span class="token comment">// x值（-1.398521324920626）表示在x轴方向上的平移量。</span>
 <span class="token comment">// y值（0.7823052871729486）表示在y轴方向上的平移量。</span>
 <span class="token comment">// z值（0.7015244410592609）表示在z轴方向上的平移量。</span>
  <span class="token keyword">const</span> translation <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Cesium<span class="token punctuation">.</span>Cartesian3</span><span class="token punctuation">(</span>
    <span class="token operator">-</span><span class="token number">1.398521324920626</span><span class="token punctuation">,</span>
    <span class="token number">0.7823052871729486</span><span class="token punctuation">,</span>
    <span class="token number">0.7015244410592609</span><span class="token punctuation">,</span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
  
  tileset<span class="token punctuation">.</span>modelMatrix <span class="token operator">=</span> Cesium<span class="token punctuation">.</span>Matrix4<span class="token punctuation">.</span><span class="token function">fromTranslation</span><span class="token punctuation">(</span>translation<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><ul><li>Cesium.Matrix4.fromScale:该方法用于生成一个表示缩放变换的 4x4 矩阵</li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> modelMatrix <span class="token operator">=</span> Cesium<span class="token punctuation">.</span>Matrix4<span class="token punctuation">.</span><span class="token function">fromScale</span><span class="token punctuation">(</span>
  Cesium<span class="token punctuation">.</span>Cartesian3<span class="token punctuation">.</span><span class="token function">fromElements</span><span class="token punctuation">(</span>
	Cesium<span class="token punctuation">.</span>Ellipsoid<span class="token punctuation">.</span><span class="token constant">WGS84</span><span class="token punctuation">.</span>maximumRadius<span class="token punctuation">,</span>
	Cesium<span class="token punctuation">.</span>Ellipsoid<span class="token punctuation">.</span><span class="token constant">WGS84</span><span class="token punctuation">.</span>maximumRadius<span class="token punctuation">,</span>
	Cesium<span class="token punctuation">.</span>Ellipsoid<span class="token punctuation">.</span><span class="token constant">WGS84</span><span class="token punctuation">.</span>maximumRadius
  <span class="token punctuation">)</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><ul><li>Cesium.Matrix4.multiplyByUniformScale(matrix, scale, result)</li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">let</span> <span class="token punctuation">{</span> radius <span class="token punctuation">}</span> <span class="token operator">=</span> model<span class="token punctuation">.</span>boundingSphere<span class="token punctuation">;</span>
<span class="token keyword">const</span> scale <span class="token operator">=</span> <span class="token number">10.0</span> <span class="token operator">/</span> radius<span class="token punctuation">;</span>
<span class="token comment">//Cesium的Matrix4.multiplyByUniformScale函数来缩放模型。这个函数会就地（in-place）修改model.modelMatrix，即它会直接更新模型的模型矩阵，使其按照给定的比例缩放。</span>
Cesium<span class="token punctuation">.</span>Matrix4<span class="token punctuation">.</span><span class="token function">multiplyByUniformScale</span><span class="token punctuation">(</span>  
  model<span class="token punctuation">.</span>modelMatrix<span class="token punctuation">,</span>  
  scale<span class="token punctuation">,</span>  
  model<span class="token punctuation">.</span>modelMatrix  
<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p><a name="defined">defined</a></p> <p>如果定义了对象，则返回true，否则返回false。</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">this</span><span class="token punctuation">.</span>viewer<span class="token punctuation">.</span>screenSpaceEventHandler<span class="token punctuation">.</span><span class="token function">setInputAction</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">event</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        <span class="token comment">// 点击事件，获取点击是否在 实体上</span>
        <span class="token keyword">const</span> pick <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>viewer<span class="token punctuation">.</span>scene<span class="token punctuation">.</span><span class="token function">pick</span><span class="token punctuation">(</span>event<span class="token punctuation">.</span>position<span class="token punctuation">)</span><span class="token punctuation">;</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>pick<span class="token punctuation">,</span> <span class="token function">defined</span><span class="token punctuation">(</span>pick<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">defined</span><span class="token punctuation">(</span>pick<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token comment">// 图层点击高亮</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span> ScreenSpaceEventType<span class="token punctuation">.</span><span class="token constant">LEFT_CLICK</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p><a name="Cesium3DTileFeature">Cesium3DTileFeature</a>
Cesium.Cesium3DTileFeature 是 CesiumJS 库中用于表示单个 3D 瓦片特征（feature）的类。</p> <ol><li>关键属性
<ul><li>id：特征的唯一标识符。</li> <li>tile：包含该特征的 3D 瓦片实例。</li> <li>properties：一个对象，包含从瓦片集中读取的特征属性。这些属性可以是数字、字符串或其他类型，具体取决于瓦片集的元数据和数据结构。</li></ul></li> <li>方法
<ul><li>getProperty(name)：根据名称获取特征的属性。</li> <li>setProperty(name, value)：设置特征的属性。</li> <li>hasProperty(name)：检查特征是否具有指定的属性。</li> <li>getPropertyIds(results):它用于获取特征的所有属性ID。这个方法返回的是一个数组，您可以通过遍历这个数组来访问每个属性的名称。</li></ul></li></ol> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> feature <span class="token operator">=</span> scene<span class="token punctuation">.</span><span class="token function">pick</span><span class="token punctuation">(</span>movement<span class="token punctuation">.</span>position<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> featurePicked <span class="token operator">=</span> feature <span class="token keyword">instanceof</span> <span class="token class-name">Cesium<span class="token punctuation">.</span>Cesium3DTileFeature</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> isBuildingFeature <span class="token operator">=</span> featurePicked <span class="token operator">&amp;&amp;</span> feature<span class="token punctuation">.</span><span class="token function">hasProperty</span><span class="token punctuation">(</span><span class="token string">&quot;HGT&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p><a name="featureDetection">FeatureDetection 特性检测</a>
一组检测当前浏览器是否支持各种功能的功能。</p> <p><a name="supportsImageRenderingPixelated">FeatureDetection.supportsImageRenderingPixelated[静态]</a></p> <p>用于检测当前浏览器是否支持 CSS 属性 image-rendering: pixelated。这个 CSS 属性允许图像以像素化的方式渲染，而不是进行平滑处理，这在处理像素艺术或需要精确像素渲染的场景时非常有用。</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">/**
 * 开启抗锯齿
 */</span>
<span class="token keyword">import</span> <span class="token operator">*</span> <span class="token keyword">as</span> Cesium <span class="token keyword">from</span> <span class="token string">&quot;cesium&quot;</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> <span class="token function-variable function">disableSawtooth</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">viewer</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token comment">// 是否支持图像渲染像素化处理</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>Cesium<span class="token punctuation">.</span>FeatureDetection<span class="token punctuation">.</span><span class="token function">supportsImageRenderingPixelated</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        viewer<span class="token punctuation">.</span>resolutionScale <span class="token operator">=</span> window<span class="token punctuation">.</span>devicePixelRatio<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token comment">// 开启抗锯齿</span>
    viewer<span class="token punctuation">.</span>scene<span class="token punctuation">.</span>postProcessStages<span class="token punctuation">.</span>fxaa<span class="token punctuation">.</span>enabled <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> disableSawtooth<span class="token punctuation">;</span>
</code></pre></div><p><a name="glslcesium">glsl在cesium中应用</a></p> <table><thead><tr><th>类型</th> <th>中文</th> <th>说明</th></tr></thead> <tbody><tr><td>attribute</td> <td>属性</td> <td>主要是顶点着色器用来从缓冲(Buffer)中获取数据</td></tr> <tr><td>uniform</td> <td>统一值</td> <td>在每一次渲染中全局有效且不变的值</td></tr> <tr><td>texture</td> <td>纹理</td> <td>一个数据序列，大多数情况下可以理解为图像数据</td></tr> <tr><td>varying</td> <td>可变量</td> <td>顶点着色器向片元着色器传值的方式，并且会以插值的形式传递</td></tr></tbody></table> <table><thead><tr><th>函数名(参数)</th> <th>说明</th></tr></thead> <tbody><tr><td>pow(x,y)</td> <td>x的y次方。如果x小于0，结果是未定义的。同样，如果x=0并且y&lt;=0，结果也是未定义的。</td></tr> <tr><td>sqrt(x)</td> <td>计算x的开方。如果x小于0，结果是未定义的。</td></tr> <tr><td>fract(x)</td> <td>返回x-floor(x)，即返回x的小数部分</td></tr> <tr><td>step(edge, x)</td> <td>如果x &lt; edge，返回0.0，否则返回1.0</td></tr> <tr><td>smoothstep(edge0, edge1, x)</td> <td>如果x &lt;= edge0，返回0.0 ；如果x &gt;= edge1 返回1.0；如果edge0 &lt; x &lt; edge1，则执行0~1之间的平滑埃尔米特差值。如果edge0 &gt;= edge1，结果是未定义的。</td></tr> <tr><td>distance(a,b)</td> <td>计算a,b两点间的距离，二维三维都可以</td></tr></tbody></table> <p>cesium所需的材质shader具体来说就是需要写一个 <code>czm_getMaterial</code> 函数。然后这个函数返回一个<code>czm_material</code>类型的结构体(结构体可以类比为JS中的对象)。这个结构体最好通过 <code>czm_getDefaultMaterial</code> 函数获得，再在此基础上修改。</p> <p>可以在这个函数上方声明一些uniform来从JS中获取一些数据，比如这个最简单的示例就从JS中获取颜色值，并赋予 czm_material 类型的结构体的diffuse属性。</p> <div class="language-glsl extra-class"><pre class="language-glsl"><code>czm_material <span class="token function">czm_getMaterial</span><span class="token punctuation">(</span>czm_materialInput materialInput<span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token function">czm_getDefaultMaterial</span><span class="token punctuation">(</span>materialInput<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><ul><li>czm_materialInput 结构体说明</li></ul> <p><code>czm_materialInput</code> 类型的结构体是 <code>czm_getMaterial</code> 函数的参数，cesium会在几何体的片元着色器中调用 <code>czm_getMaterial</code> ，并将参数传递给该函数。</p> <table><thead><tr><th>属性名</th> <th>类型</th> <th>说明</th></tr></thead> <tbody><tr><td>s</td> <td>float</td> <td>一维纹理坐标</td></tr> <tr><td>st</td> <td>vec2</td> <td>二维纹理坐标</td></tr> <tr><td>str</td> <td>vec3</td> <td>三维纹理坐标</td></tr> <tr><td>normalEC</td> <td>vec3</td> <td>眼坐标系中的未扰动表面法线</td></tr> <tr><td>tangentToEyeMatrix</td> <td>mat3</td> <td>将切线空间法线转换为眼空间的矩阵</td></tr> <tr><td>positionToEyeEC</td> <td>vec3</td> <td>从片段到眼睛的向量（在眼坐标系中）。其大小为片段到眼睛的距离（以米为单位）</td></tr></tbody></table> <ul><li><code>czm_material</code> 结构体说明:保存可用于照明的材质信息。由所有 czm_getMaterial 函数返回。</li></ul> <p>可以了解到该结构体不仅仅保存着材质信息，并且该结构体还可以被用于光照(cesium使用的冯氏光照模型第二个参数就是该结构体)。</p> <table><thead><tr><th>属性名</th> <th>类型</th> <th>说明</th></tr></thead> <tbody><tr><td>diffuse</td> <td>vec3</td> <td>向各个方向均匀散射的入射光，默认值vec3(0.0)。（漫反射颜色）</td></tr> <tr><td>specular</td> <td>float</td> <td>沿单个方向反射的入射光的强度，默认值0.0。（镜面高光强度）</td></tr> <tr><td>shininess</td> <td>float</td> <td>镜面反射的清晰度。值越高，创建的镜面高光越小、越聚焦。默认值1.0</td></tr> <tr><td>normal</td> <td>vec3</td> <td>表面的法线在眼睛坐标中。它用于法线贴图等效果。默认值为曲面的未修改法线。（就是normalEC）</td></tr> <tr><td>emission</td> <td>vec3</td> <td>材质在所有方向上均匀发射的光。默认值为 vec3(0.0)，它不发光。</td></tr> <tr><td>alpha</td> <td>float</td> <td>此材质的不透明度。0.0 是完全透明的；1.0 是完全不透明的。默认值1.0</td></tr></tbody></table> <ul><li>渐变：渐变的产生大多需要借助纹理坐标，在webgl中，cesium纹理坐标设置大多都是完全覆盖面的。假如绘制了一个正方形，那左下角为纹理坐标的原点，右上角坐标则为(1，1)。不管实际上物体是正方形还是长方形还是什么形状，纹理坐标右上角就是(1，1)。利用好这一点就可以产生渐变效果了</li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> shaderSource <span class="token operator">=</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">
	uniform vec4 color;
 
	czm_material czm_getMaterial(czm_materialInput materialInput)
	{
		vec4 outColor = color;
		czm_material material = czm_getDefaultMaterial(materialInput);
	
		vec2 st = materialInput.st;
		outColor.r = st.s;
		// outColor.r = st.t;
	
		material.diffuse = czm_gammaCorrect(outColor.rgb);
		material.alpha = outColor.a;
		return material;
	}
</span><span class="token template-punctuation string">`</span></span>
</code></pre></div><p>因为纹理坐标都是0-1的，而rgba四个值也都是0-1之间的，如果想要在横坐标生成3个渐变效果，是不是应该需要3个0-1之间的值，这怎么得到呢。很简单，只需要将st的s乘以3，那么s就在0-3之间波动了，这时候再取其小数部分，因为小数部分就是在 [0 - 1) 之间的，这样就得到三个0-1了。可以将需要生成的数量通过uniform来传递(不要忘记在js中传递uniform值)。</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> shaderSource <span class="token operator">=</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">
	uniform vec4 color;
uniform float gradationNumber;
 
czm_material czm_getMaterial(czm_materialInput materialInput) {
	vec4 outColor = color;
	czm_material material = czm_getDefaultMaterial(materialInput);
 
	vec2 st = materialInput.st;
	// outColor.r = st.s;
	// outColor.r = st.t;
	// outColor.a = st.s;
	// outColor.a = st.t;
	outColor.a = fract(st.s * gradationNumber);
 
	material.diffuse = czm_gammaCorrect(outColor.rgb);
	material.alpha = outColor.a;
	return material;
}
</span><span class="token template-punctuation string">`</span></span>
</code></pre></div><ul><li>让线动起来:cesium中的材质动画离不开cesium的一个自动uniform，那就是czm_frameNumber，这个uniform表示当前处于cesium的第几帧绘制，从0开始，每次绘制cesium都会将其递增1。</li></ul> <p>现在假设cesium帧率为60，那么使用 czm_frameNumber / 60.0 。这样得到的结果如果只看整数部分那就是每秒钟递增1，只看小数部分那就是一直在 [0，1) 之间循环，循环时间为1秒。那假如我们将这个结果赋予alpha值，是不是就是物体透明的不断地从0-1变化，循环时间为1秒。那怎么通过这个让线动起来呢，我们知道纹理坐标的值也是0-1之间的，那如果我们将这个值赋予作为线的位置呢(我们之前线的位置为0.5)，让我们试试看吧。</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">/**
 * 流动线材质属性
 */</span>

<span class="token keyword">import</span> <span class="token punctuation">{</span> Event<span class="token punctuation">,</span> Material<span class="token punctuation">,</span> Property<span class="token punctuation">,</span> Color<span class="token punctuation">,</span> defined<span class="token punctuation">,</span> createPropertyDescriptor <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;cesium&quot;</span><span class="token punctuation">;</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">class</span> <span class="token class-name">LineFlowMaterialProperty</span> <span class="token punctuation">{</span>
    <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter">options</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
       <span class="token comment">//。。。。。。</span>
    <span class="token punctuation">}</span>
    <span class="token function">getType</span><span class="token punctuation">(</span><span class="token parameter">time</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> Material<span class="token punctuation">.</span>LineFlowMaterialType<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token function">getValue</span><span class="token punctuation">(</span><span class="token parameter">time<span class="token punctuation">,</span> result</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span><span class="token function">defined</span><span class="token punctuation">(</span>result<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            result <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">return</span> result<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

Material<span class="token punctuation">.</span>LineFlowMaterialProperty <span class="token operator">=</span> <span class="token string">&quot;LineFlowMaterialProperty&quot;</span><span class="token punctuation">;</span>
Material<span class="token punctuation">.</span>LineFlowMaterialType <span class="token operator">=</span> <span class="token string">&quot;LineFlowMaterialType&quot;</span><span class="token punctuation">;</span>
Material<span class="token punctuation">.</span>LineFlowMaterialSource <span class="token operator">=</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">
  czm_material czm_getMaterial(czm_materialInput materialInput){
    czm_material material = czm_getDefaultMaterial(materialInput);
	//...
	return material
  }
  </span><span class="token template-punctuation string">`</span></span><span class="token punctuation">;</span>

Material<span class="token punctuation">.</span>_materialCache<span class="token punctuation">.</span><span class="token function">addMaterial</span><span class="token punctuation">(</span>Material<span class="token punctuation">.</span>LineFlowMaterialType<span class="token punctuation">,</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">fabric</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token literal-property property">type</span><span class="token operator">:</span> Material<span class="token punctuation">.</span>LineFlowMaterialType<span class="token punctuation">,</span>
        <span class="token literal-property property">uniforms</span><span class="token operator">:</span> <span class="token punctuation">{</span>
          <span class="token comment">//......</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token literal-property property">source</span><span class="token operator">:</span> Material<span class="token punctuation">.</span>LineFlowMaterialSource<span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><blockquote><p>getType和getValue方法需要定义不可缺失，否则无法呈现</p></blockquote> <p><a name="Cesium.CustomShader">Cesium.CustomShader自定义着色器[非标准]</a></p> <ul><li><code>fragmentShaderText</code>：作为GLSL代码字符串的自定义片段着色器。它必须包含一个名为片段主的GLSL函数。有关预期签名的示例，请参阅示例。如果未指定，自定义片段着色器步骤将在计算片段着色器中跳过。
<ul><li><code>FragmentInput</code>: 这是一个结构体（或类似结构体的类型），它包含了从顶点着色器传递到片段着色器的各种数据。这些数据通常包括<code>顶点位置、法线、纹理坐标</code>等，以及CesiumJS自动注入的一些额外信息，如<code>颜色、光照</code>信息等。</li> <li><code>fsInput</code>: 这是传递给 fragmentMain 函数的 FragmentInput 类型变量的名称。可以通过 fsInput 访问传递给片段着色器的所有数据。</li> <li><code>inout</code>: 这是GLSL中的一个关键字，用于指定函数参数是输入-输出参数。这意味着可以在函数内部<code>修改</code>这个参数的值，并且修改后的值将在函数返回后保留。这对于着色器来说非常有用，可以根据计算的结果更新材质属性。</li> <li><code>czm_modelMaterial</code>: 这是CesiumJS定义的一个结构体类型，用于表示材质的属性。它包含了多个字段，如<code>漫反射颜色（diffuse）、镜面反射颜色（specular）、光泽度（shininess）、透明度（alpha）</code>等。</li> <li><code>material</code>: 这是传递给 fragmentMain 函数的 czm_modelMaterial 类型变量的名称（带有 inout 修饰符）。可以通过 material 访问和修改材质的属性。</li></ul></li></ul> <div class="language-js extra-class"><pre class="language-js"><code> <span class="token keyword">const</span> customShaderColor <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Cesium<span class="token punctuation">.</span>CustomShader</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  <span class="token literal-property property">fragmentShaderText</span><span class="token operator">:</span>
  <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">void fragmentMain(FragmentInput fsInput, inout czm_modelMaterial material)
	{
		material.diffuse = fsInput.metadata.color.rgb;
		float transparency = 1.0 - fsInput.metadata.color.a;

		// To mimic light scattering, use exponential decay
		float thickness = fsInput.voxel.travelDistance * 16.0;
		material.alpha = 1.0 - pow(transparency, thickness);
	}</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> customShaderWhite <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Cesium<span class="token punctuation">.</span>CustomShader</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  <span class="token literal-property property">fragmentShaderText</span><span class="token operator">:</span> 
  <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">void fragmentMain(FragmentInput fsInput, inout czm_modelMaterial material)
	{
		material.diffuse = vec3(1.0);
		material.alpha = 1.0;
	}</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// createPrimitive自定义函数，非官方函数</span>
<span class="token keyword">const</span> primitive <span class="token operator">=</span> <span class="token function">createPrimitive</span><span class="token punctuation">(</span>
	provider<span class="token punctuation">,</span>
	customShaderColor<span class="token punctuation">,</span>
	modelMatrix
<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><ul><li>normalize 函数用于归一化向量</li> <li>max 函数用于取两个值中的较大值</li> <li>dot 函数用于计算两个向量的点积（在点积运算中，第一个向量投影到第二个向量上（这里，向量的顺序是不重要的，点积运算是可交换的），然后通过除以它们的标量长度来“标准化”。这样，这个分数一定是小于等于1的，可以简单地转化成一个角度值。）</li> <li>int tileIndex = fsInput.voxel.tileIndex 和 int sampleIndex = fsInput.voxel.sampleIndex：获取体素的瓦片索引和采样索引。int 表示整数类型。</li> <li>mix(cellColor, vec3(1.0), 0.5) 函数将计算得到的体素颜色和白色进行混合</li> <li>Cesium.UniformType.INT（整数类型）</li></ul> <img src="/beifen/752.png"> <div class="language-js extra-class"><pre class="language-js"><code>       <span class="token keyword">const</span> customShader <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Cesium<span class="token punctuation">.</span>CustomShader</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
          <span class="token literal-property property">fragmentShaderText</span><span class="token operator">:</span> 
      <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">void fragmentMain(FragmentInput fsInput, inout czm_modelMaterial material)
        {
		  // 归一化
          vec3 voxelNormal = normalize(czm_normal * fsInput.voxel.surfaceNormal);
          float diffuse = max(0.0, dot(voxelNormal, czm_lightDirectionEC));
          float lighting = 0.5 + 0.5 * diffuse;

          int tileIndex = fsInput.voxel.tileIndex;
          int sampleIndex = fsInput.voxel.sampleIndex;
		  //根据元数据的颜色和光照强度计算体素颜色。
          vec3 cellColor = fsInput.metadata.color.rgb * lighting;
          if (tileIndex == u_selectedTile &amp;&amp; sampleIndex == u_selectedSample) {
            material.diffuse = mix(cellColor, vec3(1.0), 0.5);
            material.alpha = fsInput.metadata.color.a;
          } else {
            material.diffuse = cellColor;
            material.alpha = fsInput.metadata.color.a;
          }
        }</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">,</span>
          <span class="token literal-property property">uniforms</span><span class="token operator">:</span> <span class="token punctuation">{</span>
            <span class="token literal-property property">u_selectedTile</span><span class="token operator">:</span> <span class="token punctuation">{</span>
              <span class="token literal-property property">type</span><span class="token operator">:</span> Cesium<span class="token punctuation">.</span>UniformType<span class="token punctuation">.</span><span class="token constant">INT</span><span class="token punctuation">,</span>
              <span class="token literal-property property">value</span><span class="token operator">:</span> <span class="token operator">-</span><span class="token number">1.0</span><span class="token punctuation">,</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
            <span class="token literal-property property">u_selectedSample</span><span class="token operator">:</span> <span class="token punctuation">{</span>
              <span class="token literal-property property">type</span><span class="token operator">:</span> Cesium<span class="token punctuation">.</span>UniformType<span class="token punctuation">.</span><span class="token constant">INT</span><span class="token punctuation">,</span>
              <span class="token literal-property property">value</span><span class="token operator">:</span> <span class="token operator">-</span><span class="token number">1.0</span><span class="token punctuation">,</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

</code></pre></div><p><a name="infoBox">infoBox</a></p> <p>需求获取infobox中的ID信息，非自定义的infobox，图元类型拿不到id，最后采取这种方案，同时注意infobox是iframe嵌入的，所以要<code>异步</code>处理</p> <div class="language-js extra-class"><pre class="language-js"><code> <span class="token keyword">const</span> pick <span class="token operator">=</span> viewer<span class="token punctuation">.</span>scene<span class="token punctuation">.</span><span class="token function">pick</span><span class="token punctuation">(</span>click<span class="token punctuation">.</span>position<span class="token punctuation">)</span><span class="token punctuation">;</span>
 <span class="token comment">// pick点击无法获取对应的需要的id</span>

 <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>
		<span class="token keyword">const</span> str <span class="token operator">=</span> viewer<span class="token punctuation">.</span>infoBox<span class="token punctuation">.</span>viewModel<span class="token punctuation">.</span>description
	  <span class="token comment">// 创建一个临时的DOM元素来包含这个HTML字符串</span>
		<span class="token keyword">const</span> tempDiv <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">'div'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		tempDiv<span class="token punctuation">.</span>innerHTML <span class="token operator">=</span> str<span class="token punctuation">;</span>

		<span class="token comment">// 查询所有的&lt;th&gt;元素</span>
		<span class="token keyword">const</span> thElements <span class="token operator">=</span> tempDiv<span class="token punctuation">.</span><span class="token function">querySelectorAll</span><span class="token punctuation">(</span><span class="token string">'th'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

		<span class="token keyword">let</span> idValue <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>

		<span class="token comment">// 遍历&lt;th&gt;元素，找到内容为&quot;ID&quot;的&lt;th&gt;，然后获取其后面的&lt;td&gt;</span>
		thElements<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token parameter">th</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
		  <span class="token keyword">if</span> <span class="token punctuation">(</span>th<span class="token punctuation">.</span>textContent<span class="token punctuation">.</span><span class="token function">trim</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">===</span> <span class="token string">'ID'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
			<span class="token keyword">const</span> nextTd <span class="token operator">=</span> th<span class="token punctuation">.</span>nextElementSibling<span class="token punctuation">;</span>
			<span class="token keyword">if</span> <span class="token punctuation">(</span>nextTd <span class="token operator">&amp;&amp;</span> nextTd<span class="token punctuation">.</span>tagName <span class="token operator">===</span> <span class="token string">'TD'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
			  idValue <span class="token operator">=</span> nextTd<span class="token punctuation">.</span>textContent<span class="token punctuation">;</span>
			<span class="token punctuation">}</span>
		  <span class="token punctuation">}</span>
		<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

		<span class="token function">callVueFun</span><span class="token punctuation">(</span><span class="token string">'UnderNetFun'</span><span class="token punctuation">,</span>idValue<span class="token punctuation">)</span>

	  <span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><p><a name="clock">clock 时钟</a></p> <ul><li>viewer.clock.currentTime 属性用于设置或获取当前的时间，这个时间通常用于动画、时间控制或者模拟特定时间点的场景。</li> <li>viewer.clock.startTime 时钟的开始时间。</li> <li>viewer.clock.stopTime 时钟的停止时间。</li> <li>viewer.clock.multiplier 用于控制时间的流逝速度</li> <li>viewer.clock.clockRange 定义时钟的行为范围</li></ul> <div class="language-js extra-class"><pre class="language-js"><code>viewer<span class="token punctuation">.</span>clock<span class="token punctuation">.</span>currentTime <span class="token operator">=</span> Cesium<span class="token punctuation">.</span>JulianDate<span class="token punctuation">.</span><span class="token function">fromIso8601</span><span class="token punctuation">(</span>
  <span class="token string">&quot;2021-11-09T07:27:37.016064475348684937Z&quot;</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>将一个标准的JavaScript日期时间（2018年12月12日15时）转换为Cesium的JulianDate格式，然后在这个时间基础上增加10秒，得到一个新的JulianDate对象作为结束时间。这在需要精确处理时间和进行天文计算时非常有用，因为Cesium的JulianDate提供了对时间的高精度表示和操作能力。</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> start <span class="token operator">=</span> Cesium<span class="token punctuation">.</span>JulianDate<span class="token punctuation">.</span><span class="token function">fromDate</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token number">2018</span><span class="token punctuation">,</span> <span class="token number">11</span><span class="token punctuation">,</span> <span class="token number">12</span><span class="token punctuation">,</span> <span class="token number">15</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> totalSeconds <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> stop <span class="token operator">=</span> Cesium<span class="token punctuation">.</span>JulianDate<span class="token punctuation">.</span><span class="token function">addSeconds</span><span class="token punctuation">(</span>
  start<span class="token punctuation">,</span>
  totalSeconds<span class="token punctuation">,</span>
  <span class="token keyword">new</span> <span class="token class-name">Cesium<span class="token punctuation">.</span>JulianDate</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">//设置Cesium Viewer的时钟开始时间为start时间的克隆。</span>
<span class="token comment">//克隆是必要的，因为JulianDate对象是不可变的，直接赋值会丢失原始时间点的引用。</span>
viewer<span class="token punctuation">.</span>clock<span class="token punctuation">.</span>startTime <span class="token operator">=</span> start<span class="token punctuation">.</span><span class="token function">clone</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
viewer<span class="token punctuation">.</span>clock<span class="token punctuation">.</span>stopTime <span class="token operator">=</span> stop<span class="token punctuation">.</span><span class="token function">clone</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
viewer<span class="token punctuation">.</span>clock<span class="token punctuation">.</span>currentTime <span class="token operator">=</span> start<span class="token punctuation">.</span><span class="token function">clone</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
viewer<span class="token punctuation">.</span>clock<span class="token punctuation">.</span>clockRange <span class="token operator">=</span> Cesium<span class="token punctuation">.</span>ClockRange<span class="token punctuation">.</span><span class="token constant">LOOP_STOP</span><span class="token punctuation">;</span>
viewer<span class="token punctuation">.</span>timeline<span class="token punctuation">.</span><span class="token function">zoomTo</span><span class="token punctuation">(</span>start<span class="token punctuation">,</span> stop<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p><a name="JulianDate">JulianDate</a></p> <ul><li>Cesium.JulianDate 是一个表示儒略日的类，它用于在Cesium中处理高精度的时间</li> <li>Cesium.JulianDate.fromDate(new Date(2018, 11, 12, 15)) ：从JavaScript Date创建一个新实例。</li> <li>Cesium.JulianDate.addSeconds(julianDate, seconds, result) → JulianDate：将提供的秒数添加到提供的日期实例。</li> <li>Cesium.ClockRange:用于确定行为的Clock#tick常量当Clock#startTime或Clock#endTime到达时。
<ul><li>LOOP_STOP，这意味着时间将从startTime运行到stopTime，然后停止，但不会自动重新开始</li> <li>UNBOUNDED（无限制地向前运行）</li> <li>CLAMPED（在startTime和stopTime之间循环，但不会超出这个范围）</li></ul></li></ul> <p><a name="TimeIntervalCollection">TimeIntervalCollection</a>
用于管理和存储一系列的时间间隔（TimeInterval）。每个时间间隔表示一个开始时间和结束时间之间的时间段。TimeIntervalCollection 提供了一系列的方法和属性来操作这些时间间隔，比如添加、移除、查找以及遍历时间间隔等。</p> <p>使用场景</p> <p>Cesium.TimeIntervalCollection 通常用于需要管理一系列时间相关事件或数据的场景，比如：</p> <ul><li>在 3D 地球仪上可视化特定时间段内的数据。</li> <li>实现基于时间的动画或交互。</li> <li>根据时间间隔来过滤或选择数据。</li></ul> <div class="language-js extra-class"><pre class="language-js"><code> <span class="token keyword">function</span> <span class="token function">dataCallback</span><span class="token punctuation">(</span><span class="token parameter">interval<span class="token punctuation">,</span> index</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">let</span> time<span class="token punctuation">;</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>index <span class="token operator">===</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token comment">// leading</span>
	time <span class="token operator">=</span> Cesium<span class="token punctuation">.</span>JulianDate<span class="token punctuation">.</span><span class="token function">toIso8601</span><span class="token punctuation">(</span>interval<span class="token punctuation">.</span>stop<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
	time <span class="token operator">=</span> Cesium<span class="token punctuation">.</span>JulianDate<span class="token punctuation">.</span><span class="token function">toIso8601</span><span class="token punctuation">(</span>interval<span class="token punctuation">.</span>start<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token keyword">return</span> <span class="token punctuation">{</span>
	<span class="token literal-property property">Time</span><span class="token operator">:</span> time<span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">const</span> times <span class="token operator">=</span> Cesium<span class="token punctuation">.</span>TimeIntervalCollection<span class="token punctuation">.</span><span class="token function">fromIso8601</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  <span class="token literal-property property">iso8601</span><span class="token operator">:</span> <span class="token string">&quot;2015-07-30/2017-06-16/P1D&quot;</span><span class="token punctuation">,</span>
  <span class="token literal-property property">leadingInterval</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
  <span class="token literal-property property">trailingInterval</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
  <span class="token literal-property property">isStopIncluded</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span> <span class="token comment">// We want stop time to be part of the trailing interval</span>
  <span class="token literal-property property">dataCallback</span><span class="token operator">:</span> dataCallback<span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><ul><li>TimeIntervalCollection.fromIso8601DateArray：从ISO 8601日期数组创建新实例。</li></ul> <div class="language-js extra-class"><pre class="language-js"><code> <span class="token keyword">const</span> dates <span class="token operator">=</span> <span class="token punctuation">[</span>
	  <span class="token string">&quot;2018-07-19T15:18:00Z&quot;</span><span class="token punctuation">,</span>
	  <span class="token string">&quot;2018-07-19T15:18:00.5Z&quot;</span><span class="token punctuation">,</span>
	  <span class="token string">&quot;2018-07-19T15:18:01Z&quot;</span><span class="token punctuation">,</span>
	  <span class="token string">&quot;2018-07-19T15:18:01.5Z&quot;</span><span class="token punctuation">,</span>
	  <span class="token string">&quot;2018-07-19T15:18:02Z&quot;</span><span class="token punctuation">,</span>
	  <span class="token string">&quot;2018-07-19T15:18:02.5Z&quot;</span><span class="token punctuation">,</span>
	<span class="token punctuation">]</span><span class="token punctuation">;</span>

	<span class="token keyword">const</span> uris <span class="token operator">=</span> <span class="token punctuation">[</span>
	  <span class="token string">&quot;../../SampleData/Cesium3DTiles/PointCloud/PointCloudTimeDynamic/0.pnts&quot;</span><span class="token punctuation">,</span>
	  <span class="token string">&quot;../../SampleData/Cesium3DTiles/PointCloud/PointCloudTimeDynamic/1.pnts&quot;</span><span class="token punctuation">,</span>
	  <span class="token string">&quot;../../SampleData/Cesium3DTiles/PointCloud/PointCloudTimeDynamic/2.pnts&quot;</span><span class="token punctuation">,</span>
	  <span class="token string">&quot;../../SampleData/Cesium3DTiles/PointCloud/PointCloudTimeDynamic/3.pnts&quot;</span><span class="token punctuation">,</span>
	  <span class="token string">&quot;../../SampleData/Cesium3DTiles/PointCloud/PointCloudTimeDynamic/4.pnts&quot;</span><span class="token punctuation">,</span>
	<span class="token punctuation">]</span><span class="token punctuation">;</span>

	<span class="token keyword">function</span> <span class="token function">dataCallback</span><span class="token punctuation">(</span><span class="token parameter">interval<span class="token punctuation">,</span> index</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	  <span class="token keyword">return</span> <span class="token punctuation">{</span>
		<span class="token literal-property property">uri</span><span class="token operator">:</span> uris<span class="token punctuation">[</span>index<span class="token punctuation">]</span><span class="token punctuation">,</span>
	  <span class="token punctuation">}</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>

	<span class="token keyword">const</span> timeIntervalCollection <span class="token operator">=</span> Cesium<span class="token punctuation">.</span>TimeIntervalCollection<span class="token punctuation">.</span><span class="token function">fromIso8601DateArray</span><span class="token punctuation">(</span>
	  <span class="token punctuation">{</span>
		<span class="token literal-property property">iso8601Dates</span><span class="token operator">:</span> dates<span class="token punctuation">,</span>
		<span class="token literal-property property">dataCallback</span><span class="token operator">:</span> dataCallback<span class="token punctuation">,</span>
	  <span class="token punctuation">}</span>
	<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p><a name="timeline">timeline时间线</a></p> <ul><li>viewer.timeline.zoomTo: 这个方法将 Cesium Viewer 的时间线缩放到指定的开始和结束时间之间。这通常用于在时间动态数据中快速定位到特定的时间段。</li></ul> <p>start, stop: 使用 Cesium.JulianDate.fromIso8601 方法从 ISO 8601 格式的字符串创建了开始和结束时间的 Cesium.JulianDate 实例。</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> start <span class="token operator">=</span> Cesium<span class="token punctuation">.</span>JulianDate<span class="token punctuation">.</span><span class="token function">fromIso8601</span><span class="token punctuation">(</span><span class="token string">&quot;2015-07-30&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  
<span class="token keyword">const</span> stop <span class="token operator">=</span> Cesium<span class="token punctuation">.</span>JulianDate<span class="token punctuation">.</span><span class="token function">fromIso8601</span><span class="token punctuation">(</span><span class="token string">&quot;2017-06-17&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  
viewer<span class="token punctuation">.</span>timeline<span class="token punctuation">.</span><span class="token function">zoomTo</span><span class="token punctuation">(</span>start<span class="token punctuation">,</span> stop<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p><a name="VideoSynchronizer">VideoSynchronizer视频元素与模拟时钟同步</a></p> <div class="language-js extra-class"><pre class="language-js"><code>  <span class="token keyword">if</span> <span class="token punctuation">(</span>Cesium<span class="token punctuation">.</span><span class="token function">defined</span><span class="token punctuation">(</span>synchronizer<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	synchronizer <span class="token operator">=</span> synchronizer<span class="token punctuation">.</span><span class="token function">destroy</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	videoElement<span class="token punctuation">.</span>playbackRate <span class="token operator">=</span> <span class="token number">1.0</span><span class="token punctuation">;</span>
	<span class="token keyword">return</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  synchronizer <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Cesium<span class="token punctuation">.</span>VideoSynchronizer</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
	<span class="token literal-property property">clock</span><span class="token operator">:</span> viewer<span class="token punctuation">.</span>clock<span class="token punctuation">,</span>
	<span class="token literal-property property">element</span><span class="token operator">:</span> videoElement<span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p><a name="knockout">knockout</a></p> <p>Cesium.knockout允许将HTML控件与CesiumJS中的数据模型进行绑定。</p> <p>当HTML控件的值发生变化时，可以实时更新CesiumJS中的数据模型，从而改变地图或图层的属性。</p> <div class="language-html extra-class"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>toolbar<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
	 <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span><span class="token punctuation">&gt;</span></span>
	<span class="token comment">&lt;!-- data-bind=&quot;options: colorBlendModes, value: colorBlendMode&quot;: 这是KnockoutJS的数据绑定表达式。 --&gt;</span>
	  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>select</span>
		<span class="token attr-name">data-bind</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>options: colorBlendModes, value: colorBlendMode<span class="token punctuation">&quot;</span></span>
	  <span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>select</span><span class="token punctuation">&gt;</span></span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
	  <span class="token keyword">const</span> viewModel <span class="token operator">=</span> <span class="token punctuation">{</span>
	           <span class="token literal-property property">color</span><span class="token operator">:</span> <span class="token string">&quot;Red&quot;</span><span class="token punctuation">,</span>
	           <span class="token literal-property property">colors</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&quot;White&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;Red&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;Green&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;Blue&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;Yellow&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;Gray&quot;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
	           <span class="token literal-property property">alpha</span><span class="token operator">:</span> <span class="token number">1.0</span><span class="token punctuation">,</span>
	           <span class="token literal-property property">colorBlendMode</span><span class="token operator">:</span> <span class="token string">&quot;Highlight&quot;</span><span class="token punctuation">,</span>
	           <span class="token literal-property property">colorBlendModes</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&quot;Highlight&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;Replace&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;Mix&quot;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
	         <span class="token punctuation">}</span><span class="token punctuation">;</span>

	 <span class="token comment">// Convert the viewModel members into knockout observables.</span>
	 <span class="token comment">// 将ViewModel成员转换为knockout可观察对象。 </span>
	 Cesium<span class="token punctuation">.</span>knockout<span class="token punctuation">.</span><span class="token function">track</span><span class="token punctuation">(</span>viewModel<span class="token punctuation">)</span><span class="token punctuation">;</span>

	 <span class="token comment">// Bind the viewModel to the DOM elements of the UI that call for it.</span>
	 <span class="token comment">// 将ViewModel成员绑定到调用它的DOM元素的界面元素。</span>
	 <span class="token keyword">const</span> toolbar <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">&quot;toolbar&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	 Cesium<span class="token punctuation">.</span>knockout<span class="token punctuation">.</span><span class="token function">applyBindings</span><span class="token punctuation">(</span>viewModel<span class="token punctuation">,</span> toolbar<span class="token punctuation">)</span><span class="token punctuation">;</span>
	
	 Cesium<span class="token punctuation">.</span>knockout
	  <span class="token punctuation">.</span><span class="token function">getObservable</span><span class="token punctuation">(</span>viewModel<span class="token punctuation">,</span> <span class="token string">&quot;colorBlendMode&quot;</span><span class="token punctuation">)</span>
	  <span class="token punctuation">.</span><span class="token function">subscribe</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">newValue</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">const</span> colorBlendMode <span class="token operator">=</span> <span class="token function">getColorBlendMode</span><span class="token punctuation">(</span>newValue<span class="token punctuation">)</span><span class="token punctuation">;</span>
		entity<span class="token punctuation">.</span>model<span class="token punctuation">.</span>colorBlendMode <span class="token operator">=</span> colorBlendMode<span class="token punctuation">;</span>
		viewModel<span class="token punctuation">.</span>colorBlendAmountEnabled <span class="token operator">=</span>
		  colorBlendMode <span class="token operator">===</span> Cesium<span class="token punctuation">.</span>ColorBlendMode<span class="token punctuation">.</span><span class="token constant">MIX</span><span class="token punctuation">;</span>
	  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> viewer <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Cesium<span class="token punctuation">.</span>Viewer</span><span class="token punctuation">(</span><span class="token string">&quot;cesiumContainer&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">let</span> entity<span class="token punctuation">;</span>

<span class="token keyword">function</span> <span class="token function">getColor</span><span class="token punctuation">(</span><span class="token parameter">colorName<span class="token punctuation">,</span> alpha</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> color <span class="token operator">=</span> Cesium<span class="token punctuation">.</span>Color<span class="token punctuation">[</span>colorName<span class="token punctuation">.</span><span class="token function">toUpperCase</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
  <span class="token keyword">return</span> Cesium<span class="token punctuation">.</span>Color<span class="token punctuation">.</span><span class="token function">fromAlpha</span><span class="token punctuation">(</span>color<span class="token punctuation">,</span> <span class="token function">parseFloat</span><span class="token punctuation">(</span>alpha<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">// The viewModel tracks the state of our mini application.</span>
<span class="token keyword">const</span> viewModel <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">color</span><span class="token operator">:</span> <span class="token string">&quot;Red&quot;</span><span class="token punctuation">,</span>
  <span class="token comment">//...</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token comment">// Convert the viewModel members into knockout observables.</span>
Cesium<span class="token punctuation">.</span>knockout<span class="token punctuation">.</span><span class="token function">track</span><span class="token punctuation">(</span>viewModel<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// Bind the viewModel to the DOM elements of the UI that call for it.</span>
<span class="token keyword">const</span> toolbar <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">&quot;toolbar&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
Cesium<span class="token punctuation">.</span>knockout<span class="token punctuation">.</span><span class="token function">applyBindings</span><span class="token punctuation">(</span>viewModel<span class="token punctuation">,</span> toolbar<span class="token punctuation">)</span><span class="token punctuation">;</span>

Cesium<span class="token punctuation">.</span>knockout
  <span class="token punctuation">.</span><span class="token function">getObservable</span><span class="token punctuation">(</span>viewModel<span class="token punctuation">,</span> <span class="token string">&quot;color&quot;</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">subscribe</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">newValue</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    entity<span class="token punctuation">.</span>model<span class="token punctuation">.</span>color <span class="token operator">=</span> <span class="token function">getColor</span><span class="token punctuation">(</span>newValue<span class="token punctuation">,</span> viewModel<span class="token punctuation">.</span>alpha<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">function</span> <span class="token function">createModel</span><span class="token punctuation">(</span><span class="token parameter">url<span class="token punctuation">,</span> height</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  viewer<span class="token punctuation">.</span>entities<span class="token punctuation">.</span><span class="token function">removeAll</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">const</span> position <span class="token operator">=</span> Cesium<span class="token punctuation">.</span>Cartesian3<span class="token punctuation">.</span><span class="token function">fromDegrees</span><span class="token punctuation">(</span>
    <span class="token operator">-</span><span class="token number">123.0744619</span><span class="token punctuation">,</span>
    <span class="token number">44.0503706</span><span class="token punctuation">,</span>
    height
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">const</span> heading <span class="token operator">=</span> Cesium<span class="token punctuation">.</span>Math<span class="token punctuation">.</span><span class="token function">toRadians</span><span class="token punctuation">(</span><span class="token number">135</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">const</span> pitch <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
  <span class="token keyword">const</span> roll <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
  <span class="token keyword">const</span> hpr <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Cesium<span class="token punctuation">.</span>HeadingPitchRoll</span><span class="token punctuation">(</span>heading<span class="token punctuation">,</span> pitch<span class="token punctuation">,</span> roll<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">const</span> orientation <span class="token operator">=</span> Cesium<span class="token punctuation">.</span>Transforms<span class="token punctuation">.</span><span class="token function">headingPitchRollQuaternion</span><span class="token punctuation">(</span>
    position<span class="token punctuation">,</span>
    hpr
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
  entity <span class="token operator">=</span> viewer<span class="token punctuation">.</span>entities<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    <span class="token literal-property property">name</span><span class="token operator">:</span> url<span class="token punctuation">,</span>
    <span class="token literal-property property">position</span><span class="token operator">:</span> position<span class="token punctuation">,</span>
    <span class="token literal-property property">orientation</span><span class="token operator">:</span> orientation<span class="token punctuation">,</span>
    <span class="token literal-property property">model</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token literal-property property">uri</span><span class="token operator">:</span> url<span class="token punctuation">,</span>
      <span class="token literal-property property">color</span><span class="token operator">:</span> <span class="token function">getColor</span><span class="token punctuation">(</span>viewModel<span class="token punctuation">.</span>color<span class="token punctuation">,</span> viewModel<span class="token punctuation">.</span>alpha<span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  viewer<span class="token punctuation">.</span>trackedEntity <span class="token operator">=</span> entity<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">const</span> options <span class="token operator">=</span> <span class="token punctuation">[</span>
  <span class="token punctuation">{</span>
    <span class="token literal-property property">text</span><span class="token operator">:</span> <span class="token string">&quot;Aircraft&quot;</span><span class="token punctuation">,</span>
    <span class="token function-variable function">onselect</span><span class="token operator">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token function">createModel</span><span class="token punctuation">(</span>
        <span class="token string">&quot;../SampleData/models/CesiumAir/Cesium_Air.glb&quot;</span><span class="token punctuation">,</span>
        <span class="token number">5000.0</span>
      <span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token comment">//。。。</span>
<span class="token punctuation">]</span><span class="token punctuation">;</span>

Sandcastle<span class="token punctuation">.</span><span class="token function">addToolbarMenu</span><span class="token punctuation">(</span>options<span class="token punctuation">)</span><span class="token punctuation">;</span>

Sandcastle<span class="token punctuation">.</span><span class="token function">addToggleButton</span><span class="token punctuation">(</span><span class="token string">&quot;Shadows&quot;</span><span class="token punctuation">,</span> viewer<span class="token punctuation">.</span>shadows<span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span>
  <span class="token parameter">checked</span>
<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  viewer<span class="token punctuation">.</span>shadows <span class="token operator">=</span> checked<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p><a name="viewerCesium3DTilesInspectorMixin">viewerCesium3DTilesInspectorMixin</a>
将Cesium3DTilesInspector小部件添加到Viewer小部件的mixin。 这个函数不是直接调用，而是通常传递为 参数Viewer#extend</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">var</span> viewer <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Cesium<span class="token punctuation">.</span>Viewer</span><span class="token punctuation">(</span><span class="token string">'cesiumContainer'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
viewer<span class="token punctuation">.</span><span class="token function">extend</span><span class="token punctuation">(</span>Cesium<span class="token punctuation">.</span>viewerCesiumInspectorMixin<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p><a name="VoxelInspector">VoxelInspector</a>
帮助调试体素的检查器小部件</p> <ul><li>VoxelInspector.viewModel 获取模型视图</li> <li>VoxelInspector.viewModel.voxelPrimitive 获取或设置视图模型的原语</li></ul> <p>将voxelPrimitive（一个代表体素数据的Cesium原始对象）设置为Cesium Viewer的体素检查器（voxelInspector）的视图模型（viewModel）中的voxelPrimitive属性。<code>通过体素检查器来分析和可视化这个体素原始对象</code>。</p> <div class="language-js extra-class"><pre class="language-js"><code>viewer<span class="token punctuation">.</span>voxelInspector<span class="token punctuation">.</span>viewModel<span class="token punctuation">.</span>voxelPrimitive <span class="token operator">=</span> voxelPrimitive<span class="token punctuation">;</span>
</code></pre></div><!----></div> <footer class="page-edit"><!----> <div class="last-updated"><span class="prefix">最后更新:</span> <span class="time">10/31/2024, 8:20:36 AM</span></div></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/3d/06cesium.html" class="prev">
        cesium3
      </a></span> <span class="next"><a href="/3d/08weggl.html">
        webgl
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.4a1cc306.js" defer></script><script src="/assets/js/2.3f136e0e.js" defer></script><script src="/assets/js/1.4c2557fc.js" defer></script><script src="/assets/js/31.1de01a96.js" defer></script><script src="/assets/js/24.00cd04e3.js" defer></script>
  </body>
</html>
